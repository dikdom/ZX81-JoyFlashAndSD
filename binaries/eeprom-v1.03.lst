Sjasm Z80 Assembler v0.42c - www.xl2s.tk             [2024.03.27 - 23:56:02]

src\main.asm
Errors: 0

       1   00:0000                      /***
       2   00:0000                    ~  * This is the main source file of the ZX81 Flash+SD+Joy Expansion card.
       3   00:0000                    ~  * The card has 
       4   00:0000                    ~  * - 64kB ROM (16kB banks pageable to ZX81 $0000-$3FFF area)
       5   00:0000                    ~  * - 32kB SRAM (visible at $4000-$FFFF where the $4000-$8000 area is mirrorred to $C000-$FFFF area)
       6   00:0000                    ~  * - a W25Qxxx flash chip which is readable by the ROM (cart) via SPI. The flash chip can be 2/4/8/16MB
       7   00:0000                    ~  * - an uSD card slot, which is readable by the ROM via SPI.
       8   00:0000                    ~  * According to my intention the ZX81 on boot
       9   00:0000                    ~  *   A) checks if card is in slot it tries to initialize it
      10   00:0000                    ~  *     - if succeeds, proceeds to D)
      11   00:0000                    ~  *   B) checks flash first 32 bytes. If header found, proceed to D)
      12   00:0000                    ~  *   C) boot stops
      13   00:0000                    ~  *   D) loads the directory (from SD/flash) and allows the user to select a file to start or exit to BASIC
      14   00:0000                    ~  *   E) on uSD card slot switch open (in SD menu), the cart goes back to B)
      15   00:0000                    ~  * On reset the above mentioned boot process restarts.
      16   00:0000                    ~  * The content of the flash chip must be created separately from a PC. When its content needs to be changed it has to be removed from the
      17   00:0000                    ~  * cart and reprogrammed using a PC. There is a python program that generates the binary for the flash
      18   00:0000                    ~  * The uSD card must have fat16/fat32 partition and .p files on it. Only .p extension files can be loaded and started
      19   00:0000                    ~  * 2023-06-20, Sanyi
      20   00:0000                    ~  * 2023-11-20, Sanyi
      21   00:0000                    ~  */
      22   00:0000                      
      23   00:0000                      /**
      24   00:0000                    ~  * 1.00 - original, released version
      25   00:0000                    ~  * 1.01 - 2023-11-20
      26   00:0000                    ~  *      - After original init routines the ctrl port was written by $0F, so SD_SPI_CS was low. It is fixed
      27   00:0000                    ~  *        now to $1F (SD /CS is set high also)
      28   00:0000                    ~  *      - Moved  call CLS  and setting of SP before  call SLOW_PER_FAST
      29   00:0000                    ~  *      - On return from uSD to Flash the SPI_CS also set to high  on socket switch open after 1 frame-time 
      30   00:0000                    ~  *       (slow SD card unplug causes NO FLASH FOUND message - doesn't seem to fix the problem)
      31   00:0000                    ~  * 1.02 - 2024-03-17
      32   00:0000                    ~  *      - before returning to BASIC, the RAMTOP area is reinitialized so no NEW has to be issued for basic programming
      33   00:0000                    ~  *      (- ZX81+38 users: UDG is enabled by pressing U in the menu - not implemented yet)
      34   00:0000                    ~  * 1.03 - 2024-03-27
      35   00:0000                    ~  *      - BASIC stack area is tidied on exiting from SD also. RAMTOP is set to $BFFF so feemem is about 30k
      36   00:0000                    ~  *      - WILL NOT BE IMPLEMENTED: ZX81+38 only, RAM on $2000-$3FFF is enabled by pressing SHIFT+0
      37   00:0000                    ~  *        Could be programmed the left GAL (ctrl reg has bit 5 as an input on L-GAL), but makes no sense. No program would use it.
      38   00:0000                    ~  **/
      39   00:0000                      
      40   00:0000  (00:0001)           VERSION_MAJOR EQU 1
      41   00:0000  (00:0003)           VERSION_MINOR EQU 3
      42   00:0000                      
      43   00:0000                      ; address where the register content is saved
      44   00:0000                      ; FLASH:
      45   00:0000                      ;   All variables are stored starting at
      46   00:0000                      ;   Screen buffer is at $BF00
      47   00:0000                      ; SD:
      48   00:0000                      ;   The jump codes are starting at $3FA0 (-$3FFF)
      49   00:0000                      ;   Variables in the code, program is loaded into $8000-$BFFF
      50   00:0000  (00:BFFF)           CTRL_SHADOW = $BFFF
      51   00:0000  (00:003F)           CTRL_PORT = $3F
      52   00:0000  (00:001F)           KEMPSTON_PORT = $1F
      53   00:0000                      
      54   00:0000                        INCLUDE "defines.asm"
       1.  00:0000                      ; special characters
       2.  00:0000  (00:0000)           __ = $00	; space
       3.  00:0000  (00:000B)           _DQUOTE = $0B   ; "
       4.  00:0000  (00:000C)           _POUND = $0C	; 
       5.  00:0000  (00:000D)           _DOLLAR = $0D   ; $
       6.  00:0000  (00:000E)           _COLON = $0E 	; :
       7.  00:0000  (00:000F)           _QMARK = $0F	; ?
       8.  00:0000  (00:0010)           _POPEN = $10    ; (
       9.  00:0000  (00:0011)           _PCLOSE= $11    ; )
      10.  00:0000  (00:0012)           _GT    = $12    ; >
      11.  00:0000  (00:0013)           _LT    = $13    ; <
      12.  00:0000  (00:0014)           _EQUAL = $14    ; =
      13.  00:0000  (00:0015)           _PLUS  = $15    ; +
      14.  00:0000  (00:0016)           _DASH  = $16    ; -
      15.  00:0000  (00:0017)           _AST   = $17    ; *
      16.  00:0000  (00:0018)           _SLASH = $18    ; /
      17.  00:0000  (00:0019)           _SEMIC = $19    ; ;
      18.  00:0000  (00:001A)           _COMMA = $1A	; ,
      19.  00:0000  (00:001B)           _PERIOD = $1B	; .
      20.  00:0000  (00:0076)           _NL    = $76   ; new line
      21.  00:0000                      
      22.  00:0000                      ; letters
      23.  00:0000  (00:0026)           _A = $26
      24.  00:0000  (00:0027)           _B = $27   
      25.  00:0000  (00:0028)           _C = $28
      26.  00:0000  (00:0029)           _D = $29
      27.  00:0000  (00:002A)           _E = $2A
      28.  00:0000  (00:002B)           _F = $2B
      29.  00:0000  (00:002C)           _G = $2C
      30.  00:0000  (00:002D)           _H = $2D
      31.  00:0000  (00:002E)           _I = $2E
      32.  00:0000  (00:002F)           _J = $2F
      33.  00:0000  (00:0030)           _K = $30
      34.  00:0000  (00:0031)           _L = $31
      35.  00:0000  (00:0032)           _M = $32
      36.  00:0000  (00:0033)           _N = $33
      37.  00:0000  (00:0034)           _O = $34
      38.  00:0000  (00:0035)           _P = $35
      39.  00:0000  (00:0036)           _Q = $36
      40.  00:0000  (00:0037)           _R = $37
      41.  00:0000  (00:0038)           _S = $38
      42.  00:0000  (00:0039)           _T = $39
      43.  00:0000  (00:003A)           _U = $3A
      44.  00:0000  (00:003B)           _V = $3B
      45.  00:0000  (00:003C)           _W = $3C
      46.  00:0000  (00:003D)           _X = $3D
      47.  00:0000  (00:003E)           _Y = $3E
      48.  00:0000  (00:003F)           _Z = $3F
      49.  00:0000                      
      50.  00:0000                      ; numbers
      51.  00:0000  (00:001C)           _0 = $1C
      52.  00:0000  (00:001D)           _1 = $1D
      53.  00:0000  (00:001E)           _2 = $1E
      54.  00:0000  (00:001F)           _3 = $1F
      55.  00:0000  (00:0020)           _4 = $20
      56.  00:0000  (00:0021)           _5 = $21
      57.  00:0000  (00:0022)           _6 = $22
      58.  00:0000  (00:0023)           _7 = $23
      59.  00:0000  (00:0024)           _8 = $24
      60.  00:0000  (00:0025)           _9 = $25
      55   00:0000                        INCLUDE "zx81.edition3.sym"
       1.  00:0000                      /**
       2.  00:0000                    ~  * Some symbols are converted for SJASM
       3.  00:0000                    ~  * like N/L is converted simply to NL (I guess it stands for New Line), &, *, - characters are eliminated, 
       4.  00:0000                    ~  * IF, CONTINUE are postfixed with _BASIC (SJASM keyword) etc...
       5.  00:0000                    ~  */
       6.  00:0000                      
       7.  00:0000  (00:4000)           ERR_NR = 4000h
       8.  00:0000  (00:4001)           FLAGS = 4001h
       9.  00:0000  (00:4002)           ERR_SP = 4002h
      10.  00:0000  (00:4004)           RAMTOP = 4004h
      11.  00:0000  (00:4006)           MODE = 4006h
      12.  00:0000  (00:4007)           PPC = 4007h
      13.  00:0000  (00:4009)           VERSN = 4009h
      14.  00:0000  (00:400A)           E_PPC = 400Ah
      15.  00:0000  (00:400C)           D_FILE = 400Ch
      16.  00:0000  (00:400E)           DF_CC = 400Eh
      17.  00:0000  (00:4010)           VARS = 4010h
      18.  00:0000  (00:4012)           DEST = 4012h
      19.  00:0000  (00:4014)           E_LINE = 4014h
      20.  00:0000  (00:4016)           CH_ADD = 4016h
      21.  00:0000  (00:4018)           X_PTR = 4018h
      22.  00:0000  (00:401A)           STKBOT = 401Ah
      23.  00:0000  (00:401C)           STKEND = 401Ch
      24.  00:0000  (00:401E)           BERG = 401Eh
      25.  00:0000  (00:401F)           MEM = 401Fh
      26.  00:0000  (00:4021)           SPARE1 = 4021h
      27.  00:0000  (00:4022)           DF_SZ = 4022h
      28.  00:0000  (00:4023)           S_TOP = 4023h
      29.  00:0000  (00:4025)           LAST_K = 4025h
      30.  00:0000  (00:4027)           DBOUNCE = 4027h
      31.  00:0000  (00:4028)           MARGIN = 4028h
      32.  00:0000  (00:4029)           NXTLIN = 4029h
      33.  00:0000  (00:402B)           OLDPPC = 402Bh
      34.  00:0000  (00:402D)           FLAGX = 402Dh
      35.  00:0000  (00:402E)           STRLEN_BASIC = 402Eh
      36.  00:0000  (00:4030)           T_ADDR = 4030h
      37.  00:0000  (00:4032)           SEED = 4032h
      38.  00:0000  (00:4034)           FRAMES = 4034h
      39.  00:0000  (00:4036)           COORDS = 4036h
      40.  00:0000  (00:4038)           PR_CC = 4038h
      41.  00:0000  (00:4039)           S_POSN = 4039h
      42.  00:0000  (00:403B)           CDFLAG = 403Bh
      43.  00:0000  (00:403C)           PRBUFF = 403Ch
      44.  00:0000  (00:405D)           MEMBOT = 405Dh
      45.  00:0000  (00:407B)           SPARE2 = 407Bh
      46.  00:0000  (00:0000)           START = 0000h
      47.  00:0000  (00:0008)           ERROR_1 = 0008h
      48.  00:0000  (00:0010)           PRINT_A = 0010h
      49.  00:0000  (00:0018)           GET_CH = 0018h
      50.  00:0000  (00:001C)           TEST_SP = 001Ch
      51.  00:0000  (00:0020)           NEXT_CH = 0020h
      52.  00:0000  (00:0028)           FP_CALC = 0028h
      53.  00:0000  (00:002B)           END_CALC = 002Bh
      54.  00:0000  (00:0030)           BC_SPACES = 0030h
      55.  00:0000  (00:0038)           INTERRUPT = 0038h
      56.  00:0000  (00:0041)           WAIT_INT = 0041h
      57.  00:0000  (00:0045)           SCAN_LINE = 0045h
      58.  00:0000  (00:0049)           CH_ADD_1 = 0049h
      59.  00:0000  (00:004C)           CURSOR_SO = 004Ch
      60.  00:0000  (00:004D)           TEMP_PTR = 004Dh
      61.  00:0000  (00:0056)           ERROR_2 = 0056h
      62.  00:0000  (00:0058)           ERROR_3 = 0058h
      63.  00:0000  (00:0066)           NMI = 0066h
      64.  00:0000  (00:006D)           NMI_RET = 006Dh
      65.  00:0000  (00:006F)           NMI_CONT = 006Fh
      66.  00:0000  (00:007E)           K_UNSHIFT = 007Eh
      67.  00:0000  (00:00A5)           K_SHIFT = 00A5h
      68.  00:0000  (00:00CC)           K_FUNCT = 00CCh
      69.  00:0000  (00:00F3)           K_GRAPH = 00F3h
      70.  00:0000  (00:0111)           TOKENS1 = 0111h
      71.  00:0000  (00:01FC)           LOAD_PER_SAVE = 01FCh
      72.  00:0000  (00:0207)           SLOW_PER_FAST = 0207h
      73.  00:0000  (00:0216)           LOOP_11 = 0216h
      74.  00:0000  (00:0226)           NO_SLOW = 0226h
      75.  00:0000  (00:0229)           DISPLAY_1 = 0229h
      76.  00:0000  (00:022D)           DISPLAY_P = 022Dh
      77.  00:0000  (00:0237)           ANOTHER = 0237h
      78.  00:0000  (00:0239)           OVER_NC = 0239h
      79.  00:0000  (00:023E)           DISPLAY_2 = 023Eh
      80.  00:0000  (00:0264)           NO_KEY = 0264h
      81.  00:0000  (00:026A)           LOOP_B = 026Ah
      82.  00:0000  (00:0281)           R_IX_1 = 0281h
      83.  00:0000  (00:028F)           R_IX_2 = 028Fh
      84.  00:0000  (00:0292)           DISPLAY_3 = 0292h
      85.  00:0000  (00:02A9)           DISPLAY_4 = 02A9h
      86.  00:0000  (00:02B5)           DISPLAY_5 = 02B5h
      87.  00:0000  (00:02BB)           KEYBOARD = 02BBh
      88.  00:0000  (00:02C5)           EACH_LINE = 02C5h
      89.  00:0000  (00:02E7)           SET_FAST = 02E7h
      90.  00:0000  (00:02F4)           REPORT_F = 02F4h
      91.  00:0000  (00:02F6)           SAVE = 02F6h
      92.  00:0000  (00:02FF)           HEADER = 02FFh
      93.  00:0000  (00:0304)           DELAY_1 = 0304h
      94.  00:0000  (00:030B)           OUT_NAME = 030Bh
      95.  00:0000  (00:0316)           OUT_PROG = 0316h
      96.  00:0000  (00:031E)           OUT_BYTE = 031Eh
      97.  00:0000  (00:0320)           EACH_BIT = 0320h
      98.  00:0000  (00:0329)           PULSES = 0329h
      99.  00:0000  (00:032D)           DELAY_2 = 032Dh
     100.  00:0000  (00:0332)           BREAK_2 = 0332h
     101.  00:0000  (00:0336)           DELAY_3 = 0336h
     102.  00:0000  (00:033B)           DELAY_4 = 033Bh
     103.  00:0000  (00:0340)           LOAD = 0340h
     104.  00:0000  (00:0347)           NEXT_PROG = 0347h
     105.  00:0000  (00:034C)           IN_BYTE = 034Ch
     106.  00:0000  (00:034E)           NEXT_BIT = 034Eh
     107.  00:0000  (00:0350)           BREAK_3 = 0350h
     108.  00:0000  (00:0361)           RESTART = 0361h
     109.  00:0000  (00:0366)           IN_NAME = 0366h
     110.  00:0000  (00:0371)           MATCHING = 0371h
     111.  00:0000  (00:037B)           IN_PROG = 037Bh
     112.  00:0000  (00:0385)           GET_BIT = 0385h
     113.  00:0000  (00:0388)           TRAILER = 0388h
     114.  00:0000  (00:038A)           COUNTER = 038Ah
     115.  00:0000  (00:039C)           BIT_DONE = 039Ch
     116.  00:0000  (00:03A2)           BREAK_4 = 03A2h
     117.  00:0000  (00:03A6)           REPORT_D = 03A6h
     118.  00:0000  (00:03A8)           NAME = 03A8h
     119.  00:0000  (00:03C3)           NEW = 03C3h
     120.  00:0000  (00:03CB)           RAM_CHECK = 03CBh
     121.  00:0000  (00:03CF)           RAM_FILL = 03CFh
     122.  00:0000  (00:03D5)           RAM_READ = 03D5h
     123.  00:0000  (00:03E2)           SET_TOP = 03E2h
     124.  00:0000  (00:03E5)           INITIAL = 03E5h
     125.  00:0000  (00:0408)           LINE = 0408h
     126.  00:0000  (00:0413)           NL_ONLY = 0413h
     127.  00:0000  (00:0419)           UPPER = 0419h
     128.  00:0000  (00:042D)           ADDR_TOP = 042Dh
     129.  00:0000  (00:0433)           LIST_TOP = 0433h
     130.  00:0000  (00:0454)           DOWN_KEY = 0454h
     131.  00:0000  (00:0457)           INC_LINE = 0457h
     132.  00:0000  (00:0464)           KEY_INPUT = 0464h
     133.  00:0000  (00:046F)           EDIT_INP = 046Fh
     134.  00:0000  (00:0472)           LOWER = 0472h
     135.  00:0000  (00:0475)           EACH_CHAR = 0475h
     136.  00:0000  (00:0482)           END_LINE = 0482h
     137.  00:0000  (00:0487)           EDIT_LINE = 0487h
     138.  00:0000  (00:048A)           EDIT_ROOM = 048Ah
     139.  00:0000  (00:04B1)           FREE_LINE = 04B1h
     140.  00:0000  (00:04C1)           DISPLAY_6 = 04C1h
     141.  00:0000  (00:04CF)           SLOW_DISP = 04CFh
     142.  00:0000  (00:04DF)           MODE_SORT = 04DFh
     143.  00:0000  (00:04F2)           FUNC_BASE = 04F2h
     144.  00:0000  (00:04F7)           FETCH_1 = 04F7h
     145.  00:0000  (00:0505)           TABLE_ADD = 0505h
     146.  00:0000  (00:0508)           FETCH_2 = 0508h
     147.  00:0000  (00:0515)           FETCH_3 = 0515h
     148.  00:0000  (00:0516)           TEST_CURS = 0516h
     149.  00:0000  (00:051B)           ENTER = 051Bh
     150.  00:0000  (00:0523)           BACK_NEXT = 0523h
     151.  00:0000  (00:0526)           ADD_CHAR = 0526h
     152.  00:0000  (00:052B)           K_PER_L_KEY = 052Bh
     153.  00:0000  (00:052D)           KEY_SORT = 052Dh
     154.  00:0000  (00:0537)           CURSOR = 0537h
     155.  00:0000  (00:0540)           K_MODE = 0540h
     156.  00:0000  (00:0544)           TEST_CHAR = 0544h
     157.  00:0000  (00:0556)           L_MODE = 0556h
     158.  00:0000  (00:055C)           CLEAR_ONE = 055Ch
     159.  00:0000  (00:0562)           ED_KEYS = 0562h
     160.  00:0000  (00:0576)           LEFT_KEY = 0576h
     161.  00:0000  (00:057F)           RIGHT_KEY = 057Fh
     162.  00:0000  (00:0588)           GET_CODE = 0588h
     163.  00:0000  (00:0589)           ENDED_1 = 0589h
     164.  00:0000  (00:058B)           RUBOUT = 058Bh
     165.  00:0000  (00:0593)           LEFT_EDGE = 0593h
     166.  00:0000  (00:059D)           ENDED_2 = 059Dh
     167.  00:0000  (00:059F)           UP_KEY = 059Fh
     168.  00:0000  (00:05AF)           FUNCTION = 05AFh
     169.  00:0000  (00:05B7)           ZERO_DE = 05B7h
     170.  00:0000  (00:05BB)           LINE_NO = 05BBh
     171.  00:0000  (00:05C4)           EDIT_KEY = 05C4h
     172.  00:0000  (00:060C)           NL_KEY = 060Ch
     173.  00:0000  (00:0626)           STK_UPPER = 0626h
     174.  00:0000  (00:0629)           NOW_SCAN = 0629h
     175.  00:0000  (00:064E)           NL_INP = 064Eh
     176.  00:0000  (00:0661)           TEST_NULL = 0661h
     177.  00:0000  (00:0664)           NL_NULL = 0664h
     178.  00:0000  (00:066C)           NEXT_LINE = 066Ch
     179.  00:0000  (00:06AE)           STOP_LINE = 06AEh
     180.  00:0000  (00:06CA)           CONTINUE_BASIC = 06CAh
     181.  00:0000  (00:06D1)           REPORT = 06D1h
     182.  00:0000  (00:06E0)           NL_LINE = 06E0h
     183.  00:0000  (00:0705)           COPY_OVER = 0705h
     184.  00:0000  (00:072C)           LLIST = 072Ch
     185.  00:0000  (00:0730)           LIST = 0730h
     186.  00:0000  (00:073E)           LIST_PROG = 073Eh
     187.  00:0000  (00:0740)           UNTIL_END = 0740h
     188.  00:0000  (00:0745)           OUT_LINE = 0745h
     189.  00:0000  (00:0755)           TEST_END = 0755h
     190.  00:0000  (00:0766)           COPY_LINE = 0766h
     191.  00:0000  (00:076D)           MORE_LINE = 076Dh
     192.  00:0000  (00:077C)           TEST_NUM = 077Ch
     193.  00:0000  (00:079A)           NOT_TOKEN = 079Ah
     194.  00:0000  (00:079D)           OUT_CURS = 079Dh
     195.  00:0000  (00:07AA)           FLAGS_2 = 07AAh
     196.  00:0000  (00:07B4)           NUMBER = 07B4h
     197.  00:0000  (00:07BD)           DECODE = 07BDh
     198.  00:0000  (00:07C7)           KEY_LINE = 07C7h
     199.  00:0000  (00:07DC)           LEAD_SP = 07DCh
     200.  00:0000  (00:07E1)           OUT_DIGIT = 07E1h
     201.  00:0000  (00:07E2)           DIGIT_INC = 07E2h
     202.  00:0000  (00:07EB)           OUT_CODE = 07EBh
     203.  00:0000  (00:07EE)           OUT_CH = 07EEh
     204.  00:0000  (00:07F1)           PRINT_CH = 07F1h
     205.  00:0000  (00:07F5)           PRINT_SP = 07F5h
     206.  00:0000  (00:0802)           LPRINT_A = 0802h
     207.  00:0000  (00:0805)           PRINT_EXX = 0805h
     208.  00:0000  (00:0808)           ENTER_CH = 0808h
     209.  00:0000  (00:0812)           TEST_NL = 0812h
     210.  00:0000  (00:082C)           TEST_LOW = 082Ch
     211.  00:0000  (00:0835)           REPORT_5 = 0835h
     212.  00:0000  (00:083A)           EXPAND_1 = 083Ah
     213.  00:0000  (00:083E)           WRITE_CH = 083Eh
     214.  00:0000  (00:0847)           WRITE_NL = 0847h
     215.  00:0000  (00:0851)           LPRINT_CH = 0851h
     216.  00:0000  (00:0869)           COPY = 0869h
     217.  00:0000  (00:0871)           COPY_BUFF = 0871h
     218.  00:0000  (00:0876)           COPY_MUL_D = 0876h
     219.  00:0000  (00:087A)           COPY_LOOP = 087Ah
     220.  00:0000  (00:087D)           COPY_TIME = 087Dh
     221.  00:0000  (00:0880)           COPY_BRK = 0880h
     222.  00:0000  (00:0888)           REPORT_D2 = 0888h
     223.  00:0000  (00:088A)           COPY_CONT = 088Ah
     224.  00:0000  (00:089C)           COPY_NEXT = 089Ch
     225.  00:0000  (00:08B5)           COPY_BITS = 08B5h
     226.  00:0000  (00:08BA)           COPY_WAIT = 08BAh
     227.  00:0000  (00:08C7)           COPY_NL = 08C7h
     228.  00:0000  (00:08DE)           COPY_END = 08DEh
     229.  00:0000  (00:08E2)           CLEAR_PRB = 08E2h
     230.  00:0000  (00:08E9)           PRB_BYTES = 08E9h
     231.  00:0000  (00:08F5)           PRINT_AT = 08F5h
     232.  00:0000  (00:08FA)           TEST_VAL = 08FAh
     233.  00:0000  (00:0905)           WRONG_VAL = 0905h
     234.  00:0000  (00:090B)           SET_FIELD = 090Bh
     235.  00:0000  (00:0918)           LOC_ADDR = 0918h
     236.  00:0000  (00:0927)           LOOK_BACK = 0927h
     237.  00:0000  (00:0940)           EXPAND_2 = 0940h
     238.  00:0000  (00:094B)           TOKENS2 = 094Bh
     239.  00:0000  (00:0959)           ALL_CHARS = 0959h
     240.  00:0000  (00:096D)           TRAIL_SP = 096Dh
     241.  00:0000  (00:0975)           TOKEN_ADD = 0975h
     242.  00:0000  (00:097F)           TEST_HIGH = 097Fh
     243.  00:0000  (00:0985)           WORDS = 0985h
     244.  00:0000  (00:0992)           COMP_FLAG = 0992h
     245.  00:0000  (00:0993)           FOUND = 0993h
     246.  00:0000  (00:099B)           ONE_SPACE = 099Bh
     247.  00:0000  (00:099E)           MAKE_ROOM = 099Eh
     248.  00:0000  (00:09AD)           POINTERS = 09ADh
     249.  00:0000  (00:09B4)           NEXT_PTR = 09B4h
     250.  00:0000  (00:09C8)           PTR_DONE = 09C8h
     251.  00:0000  (00:09D8)           LINE_ADDR = 09D8h
     252.  00:0000  (00:09DE)           NEXT_TEST = 09DEh
     253.  00:0000  (00:09EA)           CP_LINES = 09EAh
     254.  00:0000  (00:09F2)           NEXT_ONE = 09F2h
     255.  00:0000  (00:0A01)           NEXT_FIVE = 0A01h
     256.  00:0000  (00:0A08)           NEXT_LETT = 0A08h
     257.  00:0000  (00:0A0F)           LINES = 0A0Fh
     258.  00:0000  (00:0A10)           BIT_5_NIL = 0A10h
     259.  00:0000  (00:0A15)           NEXT_ADD = 0A15h
     260.  00:0000  (00:0A17)           DIFFER = 0A17h
     261.  00:0000  (00:0A1F)           LINE_ENDS = 0A1Fh
     262.  00:0000  (00:0A2A)           CLS = 0A2Ah
     263.  00:0000  (00:0A2C)           B_LINES = 0A2Ch
     264.  00:0000  (00:0A42)           CLEAR_LOC = 0A42h
     265.  00:0000  (00:0A52)           COLLAPSED = 0A52h
     266.  00:0000  (00:0A5D)           RECLAIM_1 = 0A5Dh
     267.  00:0000  (00:0A60)           RECLAIM_2 = 0A60h
     268.  00:0000  (00:0A73)           E_LINE_NO = 0A73h
     269.  00:0000  (00:0A91)           NO_NUMBER = 0A91h
     270.  00:0000  (00:0A98)           OUT_NUM = 0A98h
     271.  00:0000  (00:0AA5)           OUT_NO = 0AA5h
     272.  00:0000  (00:0AAD)           THOUSAND = 0AADh
     273.  00:0000  (00:0ABF)           UNITS = 0ABFh
     274.  00:0000  (00:0AC5)           UNSTACK_Z = 0AC5h
     275.  00:0000  (00:0ACB)           LPRINT = 0ACBh
     276.  00:0000  (00:0ACF)           PRINT = 0ACFh
     277.  00:0000  (00:0AD5)           PRINT_1 = 0AD5h
     278.  00:0000  (00:0AFA)           NOT_AT = 0AFAh
     279.  00:0000  (00:0B1E)           TAB_TEST = 0B1Eh
     280.  00:0000  (00:0B31)           NOT_TAB = 0B31h
     281.  00:0000  (00:0B37)           PRINT_ON = 0B37h
     282.  00:0000  (00:0B44)           SPACING = 0B44h
     283.  00:0000  (00:0B4E)           SYNTAX_ON = 0B4Eh
     284.  00:0000  (00:0B55)           PRINT_STK = 0B55h
     285.  00:0000  (00:0B64)           PR_STR_1 = 0B64h
     286.  00:0000  (00:0B66)           PR_STR_2 = 0B66h
     287.  00:0000  (00:0B67)           PR_STR_3 = 0B67h
     288.  00:0000  (00:0B6B)           PR_STR_4 = 0B6Bh
     289.  00:0000  (00:0B84)           PRINT_END = 0B84h
     290.  00:0000  (00:0B8B)           FIELD = 0B8Bh
     291.  00:0000  (00:0BA4)           CENTRE = 0BA4h
     292.  00:0000  (00:0BAB)           RIGHT = 0BABh
     293.  00:0000  (00:0BAF)           PLOT_PER_UNP = 0BAFh
     294.  00:0000  (00:0BC5)           COLUMNS = 0BC5h
     295.  00:0000  (00:0BCA)           FIND_ADDR = 0BCAh
     296.  00:0000  (00:0BD9)           SQ_SAVED = 0BD9h
     297.  00:0000  (00:0BDA)           TABLE_PTR = 0BDAh
     298.  00:0000  (00:0BE9)           PLOT = 0BE9h
     299.  00:0000  (00:0BEB)           UNPLOT = 0BEBh
     300.  00:0000  (00:0BF1)           PLOT_END = 0BF1h
     301.  00:0000  (00:0BF5)           STK_TO_BC = 0BF5h
     302.  00:0000  (00:0C02)           STK_TO_A = 0C02h
     303.  00:0000  (00:0C0E)           SCROLL = 0C0Eh
     304.  00:0000  (00:0C29)           OFFSET_T = 0C29h
     305.  00:0000  (00:0C48)           P_LET = 0C48h
     306.  00:0000  (00:0C4B)           P_GOTO = 0C4Bh
     307.  00:0000  (00:0C4F)           P_IF = 0C4Fh
     308.  00:0000  (00:0C54)           P_GOSUB = 0C54h
     309.  00:0000  (00:0C58)           P_STOP = 0C58h
     310.  00:0000  (00:0C5B)           P_RETURN = 0C5Bh
     311.  00:0000  (00:0C5E)           P_FOR = 0C5Eh
     312.  00:0000  (00:0C66)           P_NEXT = 0C66h
     313.  00:0000  (00:0C6A)           P_PRINT = 0C6Ah
     314.  00:0000  (00:0C6D)           P_INPUT = 0C6Dh
     315.  00:0000  (00:0C71)           P_DIM = 0C71h
     316.  00:0000  (00:0C74)           P_REM = 0C74h
     317.  00:0000  (00:0C77)           P_NEW = 0C77h
     318.  00:0000  (00:0C7A)           P_RUN = 0C7Ah
     319.  00:0000  (00:0C7D)           P_LIST = 0C7Dh
     320.  00:0000  (00:0C80)           P_POKE = 0C80h
     321.  00:0000  (00:0C86)           P_RAND = 0C86h
     322.  00:0000  (00:0C89)           P_LOAD = 0C89h
     323.  00:0000  (00:0C8C)           P_SAVE = 0C8Ch
     324.  00:0000  (00:0C8F)           P_CONT = 0C8Fh
     325.  00:0000  (00:0C92)           P_CLEAR = 0C92h
     326.  00:0000  (00:0C95)           P_CLS = 0C95h
     327.  00:0000  (00:0C98)           P_PLOT = 0C98h
     328.  00:0000  (00:0C9E)           P_UNPLOT = 0C9Eh
     329.  00:0000  (00:0CA4)           P_SCROLL = 0CA4h
     330.  00:0000  (00:0CA7)           P_PAUSE = 0CA7h
     331.  00:0000  (00:0CAB)           P_SLOW = 0CABh
     332.  00:0000  (00:0CAE)           P_FAST = 0CAEh
     333.  00:0000  (00:0CB1)           P_COPY = 0CB1h
     334.  00:0000  (00:0CB4)           P_LPRINT = 0CB4h
     335.  00:0000  (00:0CB7)           P_LLIST = 0CB7h
     336.  00:0000  (00:0CBA)           LINE_SCAN = 0CBAh
     337.  00:0000  (00:0CC1)           LINE_RUN = 0CC1h
     338.  00:0000  (00:0CDC)           STOP = 0CDCh
     339.  00:0000  (00:0CDE)           LINE_NULL = 0CDEh
     340.  00:0000  (00:0CF4)           SCAN_LOOP = 0CF4h
     341.  00:0000  (00:0CF7)           GET_PARAM = 0CF7h
     342.  00:0000  (00:0D10)           SEPARATOR = 0D10h
     343.  00:0000  (00:0D16)           CLASS_TBL = 0D16h
     344.  00:0000  (00:0D1D)           CHECK_END = 0D1Dh
     345.  00:0000  (00:0D22)           CHECK_2 = 0D22h
     346.  00:0000  (00:0D26)           REPORT_C2 = 0D26h
     347.  00:0000  (00:0D28)           CLASS_3 = 0D28h
     348.  00:0000  (00:0D2D)           CLASS_0 = 0D2Dh
     349.  00:0000  (00:0D2E)           CLASS_5 = 0D2Eh
     350.  00:0000  (00:0D3A)           CLASS_END = 0D3Ah
     351.  00:0000  (00:0D3C)           CLASS_1 = 0D3Ch
     352.  00:0000  (00:0D3F)           CLASS_4_2 = 0D3Fh
     353.  00:0000  (00:0D4B)           REPORT_2 = 0D4Bh
     354.  00:0000  (00:0D4D)           SET_STK = 0D4Dh
     355.  00:0000  (00:0D63)           SET_STRLN = 0D63h
     356.  00:0000  (00:0D6A)           REM = 0D6Ah
     357.  00:0000  (00:0D6B)           CLASS_2 = 0D6Bh
     358.  00:0000  (00:0D6F)           INPUT_REP = 0D6Fh
     359.  00:0000  (00:0D85)           CLASS_4 = 0D85h
     360.  00:0000  (00:0D92)           CLASS_6 = 0D92h
     361.  00:0000  (00:0D9A)           REPORT_C = 0D9Ah
     362.  00:0000  (00:0D9C)           NO_TO_STK = 0D9Ch
     363.  00:0000  (00:0DA6)           SYNTAX_Z = 0DA6h
     364.  00:0000  (00:0DAB)           IF_BASIC = 0DABh
     365.  00:0000  (00:0DB6)           IF_END = 0DB6h
     366.  00:0000  (00:0DB9)           FOR = 0DB9h
     367.  00:0000  (00:0DC6)           USE_ONE = 0DC6h
     368.  00:0000  (00:0DCC)           REORDER = 0DCCh
     369.  00:0000  (00:0DEA)           LMT_STEP = 0DEAh
     370.  00:0000  (00:0E0E)           NXTLIN_NO = 0E0Eh
     371.  00:0000  (00:0E2A)           FOR_END = 0E2Ah
     372.  00:0000  (00:0E2E)           NEXT = 0E2Eh
     373.  00:0000  (00:0E58)           REPORT_1 = 0E58h
     374.  00:0000  (00:0E5A)           NEXT_LOOP = 0E5Ah
     375.  00:0000  (00:0E62)           LMT_V_VAL = 0E62h
     376.  00:0000  (00:0E69)           IMPOSS = 0E69h
     377.  00:0000  (00:0E6C)           RAND = 0E6Ch
     378.  00:0000  (00:0E77)           SET_SEED = 0E77h
     379.  00:0000  (00:0E7C)           CONT = 0E7Ch
     380.  00:0000  (00:0E81)           GOTO = 0E81h
     381.  00:0000  (00:0E86)           GOTO_2 = 0E86h
     382.  00:0000  (00:0E92)           POKE = 0E92h
     383.  00:0000  (00:0E9B)           POKE_SAVE = 0E9Bh
     384.  00:0000  (00:0EA7)           FIND_INT = 0EA7h
     385.  00:0000  (00:0EAD)           REPORT_B = 0EADh
     386.  00:0000  (00:0EAF)           RUN = 0EAFh
     387.  00:0000  (00:0EB5)           GOSUB = 0EB5h
     388.  00:0000  (00:0EC5)           TEST_ROOM = 0EC5h
     389.  00:0000  (00:0ED3)           REPORT_4 = 0ED3h
     390.  00:0000  (00:0ED8)           RETURN = 0ED8h
     391.  00:0000  (00:0EE5)           REPORT_7 = 0EE5h
     392.  00:0000  (00:0EE9)           INPUT = 0EE9h
     393.  00:0000  (00:0F05)           PROMPT = 0F05h
     394.  00:0000  (00:0F14)           ENTER_CUR = 0F14h
     395.  00:0000  (00:0F21)           REPORT_8 = 0F21h
     396.  00:0000  (00:0F23)           FAST = 0F23h
     397.  00:0000  (00:0F2B)           SLOW = 0F2Bh
     398.  00:0000  (00:0F32)           PAUSE = 0F32h
     399.  00:0000  (00:0F46)           BREAK_1 = 0F46h
     400.  00:0000  (00:0F4B)           D_BOUNCE = 0F4Bh
     401.  00:0000  (00:0F55)           SCANNING = 0F55h
     402.  00:0000  (00:0F59)           S_RND = 0F59h
     403.  00:0000  (00:0F8A)           S_RND_END = 0F8Ah
     404.  00:0000  (00:0F8C)           S_PI = 0F8Ch
     405.  00:0000  (00:0F99)           S_PI_END = 0F99h
     406.  00:0000  (00:0F9D)           S_INKEY = 0F9Dh
     407.  00:0000  (00:0FB2)           S_ALPHANUM = 0FB2h
     408.  00:0000  (00:0FD6)           S_QUOTE = 0FD6h
     409.  00:0000  (00:0FE0)           S_Q_NEXT = 0FE0h
     410.  00:0000  (00:0FE3)           S_Q_END_IS_IT = 0FE3h
     411.  00:0000  (00:0FED)           S_STRING = 0FEDh
     412.  00:0000  (00:0FF8)           S_CONT_1 = 0FF8h
     413.  00:0000  (00:0FFB)           S_NL_ERR = 0FFBh
     414.  00:0000  (00:0FFF)           S_RPRT_C1 = 0FFFh
     415.  00:0000  (00:1002)           S_FUNCT = 1002h
     416.  00:0000  (00:101A)           S_NO_TO_STR = 101Ah
     417.  00:0000  (00:1020)           S_PUSH_PO = 1020h
     418.  00:0000  (00:1025)           S_LET_NUM = 1025h
     419.  00:0000  (00:1047)           S_DECIMAL = 1047h
     420.  00:0000  (00:106F)           S_STK_DEC = 106Fh
     421.  00:0000  (00:1083)           S_NUMERIC = 1083h
     422.  00:0000  (00:1087)           S_CONT_2 = 1087h
     423.  00:0000  (00:1088)           S_CONT_3 = 1088h
     424.  00:0000  (00:1098)           S_OPERTR = 1098h
     425.  00:0000  (00:10A7)           S_HIGH_OP = 10A7h
     426.  00:0000  (00:10B5)           S_END_OP = 10B5h
     427.  00:0000  (00:10BC)           S_LOOP = 10BCh
     428.  00:0000  (00:10D5)           S_SYNTEST = 10D5h
     429.  00:0000  (00:10DB)           S_RPRT_C2 = 10DBh
     430.  00:0000  (00:10DE)           S_RUNTEST = 10DEh
     431.  00:0000  (00:10EA)           S_ENDLOOP = 10EAh
     432.  00:0000  (00:10ED)           S_TIGHTER = 10EDh
     433.  00:0000  (00:1102)           S_NOT_AND = 1102h
     434.  00:0000  (00:110A)           S_NEXT = 110Ah
     435.  00:0000  (00:110F)           TBL_PRI = 110Fh
     436.  00:0000  (00:111C)           LOOK_VARS = 111Ch
     437.  00:0000  (00:1139)           V_CHAR = 1139h
     438.  00:0000  (00:1143)           V_STR_VAR = 1143h
     439.  00:0000  (00:1148)           V_RUN_PER_SYN = 1148h
     440.  00:0000  (00:1156)           V_RUN = 1156h
     441.  00:0000  (00:1159)           V_EACH = 1159h
     442.  00:0000  (00:116B)           V_MATCHES = 116Bh
     443.  00:0000  (00:116C)           V_SPACES = 116Ch
     444.  00:0000  (00:117F)           V_GET_PTR = 117Fh
     445.  00:0000  (00:1180)           V_NEXT = 1180h
     446.  00:0000  (00:1188)           V_80_BYTE = 1188h
     447.  00:0000  (00:118A)           V_SYNTAX = 118Ah
     448.  00:0000  (00:1194)           V_FOUND_1 = 1194h
     449.  00:0000  (00:1195)           V_FOUND_2 = 1195h
     450.  00:0000  (00:1199)           V_PASS = 1199h
     451.  00:0000  (00:11A1)           V_END = 11A1h
     452.  00:0000  (00:11A7)           STK_VAR = 11A7h
     453.  00:0000  (00:11B2)           SV_SIMPLE = 11B2h
     454.  00:0000  (00:11BF)           SV_ARRAYS = 11BFh
     455.  00:0000  (00:11D1)           SV_PTR = 11D1h
     456.  00:0000  (00:11D4)           SV_COMMA = 11D4h
     457.  00:0000  (00:11E9)           SV_CLOSE = 11E9h
     458.  00:0000  (00:11F1)           SV_CH_ADD = 11F1h
     459.  00:0000  (00:11F8)           SV_COUNT = 11F8h
     460.  00:0000  (00:11FB)           SV_LOOP = 11FBh
     461.  00:0000  (00:120C)           SV_MULT = 120Ch
     462.  00:0000  (00:1223)           SV_RPT_C = 1223h
     463.  00:0000  (00:1231)           REPORT_3 = 1231h
     464.  00:0000  (00:1233)           SV_NUMBER = 1233h
     465.  00:0000  (00:123D)           SV_ELEM = 123Dh
     466.  00:0000  (00:1256)           SV_SLICE = 1256h
     467.  00:0000  (00:1259)           SV_DIM = 1259h
     468.  00:0000  (00:125A)           SV_SLICE_IS_IT = 125Ah
     469.  00:0000  (00:1263)           SLICING = 1263h
     470.  00:0000  (00:128B)           SL_RPT_C = 128Bh
     471.  00:0000  (00:1292)           SL_SECOND = 1292h
     472.  00:0000  (00:12A5)           SL_DEFINE = 12A5h
     473.  00:0000  (00:12B9)           SL_OVER = 12B9h
     474.  00:0000  (00:12BE)           SL_STORE = 12BEh
     475.  00:0000  (00:12C2)           STK_ST_0 = 12C2h
     476.  00:0000  (00:12C3)           STK_STORE = 12C3h
     477.  00:0000  (00:12DD)           INT_EXP1 = 12DDh
     478.  00:0000  (00:12DE)           INT_EXP2 = 12DEh
     479.  00:0000  (00:12F9)           I_CARRY = 12F9h
     480.  00:0000  (00:12FC)           I_RESTORE = 12FCh
     481.  00:0000                      ; DE_(DE_1) = 12FFh
     482.  00:0000                      ; HL=HL*DE = 1305h
     483.  00:0000  (00:1311)           HL_LOOP = 1311h
     484.  00:0000  (00:131A)           HL_OVER = 131Ah
     485.  00:0000  (00:131D)           HL_AGAIN = 131Dh
     486.  00:0000  (00:1321)           LET = 1321h
     487.  00:0000  (00:132D)           L_EACH_CH = 132Dh
     488.  00:0000  (00:132E)           L_NO_SP = 132Eh
     489.  00:0000  (00:134B)           L_CHAR = 134Bh
     490.  00:0000  (00:1359)           L_SINGLE = 1359h
     491.  00:0000  (00:1361)           L_NUMERIC = 1361h
     492.  00:0000  (00:136E)           L_EXISTS = 136Eh
     493.  00:0000  (00:137A)           L_DELETE = 137Ah
     494.  00:0000  (00:13A3)           L_LENGTH = 13A3h
     495.  00:0000  (00:13AB)           L_IN_W_S = 13ABh
     496.  00:0000  (00:13AE)           L_ENTER = 13AEh
     497.  00:0000  (00:13B7)           L_ADD = 13B7h
     498.  00:0000  (00:13C8)           L_NEW = 13C8h
     499.  00:0000  (00:13CE)           L_STRING = 13CEh
     500.  00:0000  (00:13E7)           L_CLEAR = 13E7h
     501.  00:0000  (00:13F8)           STK_FETCH = 13F8h
     502.  00:0000  (00:1409)           DIM = 1409h
     503.  00:0000  (00:140C)           D_RPORT_C = 140Ch
     504.  00:0000  (00:141C)           D_RUN = 141Ch
     505.  00:0000  (00:1426)           D_LETTER = 1426h
     506.  00:0000  (00:1434)           D_SIZE = 1434h
     507.  00:0000  (00:1435)           D_NO_LOOP = 1435h
     508.  00:0000  (00:147F)           DIM_SIZES = 147Fh
     509.  00:0000  (00:1488)           RESERVE = 1488h
     510.  00:0000  (00:149A)           CLEAR = 149Ah
     511.  00:0000  (00:14A3)           X_TEMP = 14A3h
     512.  00:0000  (00:14A6)           SET_STK_B = 14A6h
     513.  00:0000  (00:14A9)           SET_STK_E = 14A9h
     514.  00:0000  (00:14AD)           CURSOR_IN = 14ADh
     515.  00:0000  (00:14BC)           SET_MIN = 14BCh
     516.  00:0000  (00:14C7)           RECLAIM_3 = 14C7h
     517.  00:0000  (00:14CE)           ALPHA = 14CEh
     518.  00:0000  (00:14D2)           ALPHANUM = 14D2h
     519.  00:0000  (00:14D4)           ALPHA_2 = 14D4h
     520.  00:0000  (00:14D9)           DEC_TO_FP = 14D9h
     521.  00:0000  (00:14E5)           NXT_DGT_1 = 14E5h
     522.  00:0000  (00:14F5)           E_FORMAT = 14F5h
     523.  00:0000  (00:1508)           SIGN_DONE = 1508h
     524.  00:0000  (00:1509)           ST_E_PART = 1509h
     525.  00:0000  (00:1511)           E_FP = 1511h
     526.  00:0000  (00:1514)           STK_DIGIT = 1514h
     527.  00:0000  (00:151D)           STACK_A = 151Dh
     528.  00:0000  (00:1520)           STACK_BC = 1520h
     529.  00:0000  (00:1536)           NORML_FP = 1536h
     530.  00:0000  (00:1548)           INT_TO_FP = 1548h
     531.  00:0000  (00:154D)           NXT_DGT_2 = 154Dh
     532.  00:0000  (00:155A)           E_TO_FP = 155Ah
     533.  00:0000  (00:1560)           E_YET = 1560h
     534.  00:0000  (00:157A)           E_ONE = 157Ah
     535.  00:0000  (00:157D)           E_M_PER_D = 157Dh
     536.  00:0000  (00:1583)           E_DIV = 1583h
     537.  00:0000  (00:1584)           E_EXC = 1584h
     538.  00:0000  (00:1587)           END_E = 1587h
     539.  00:0000  (00:158A)           FP_TO_BC = 158Ah
     540.  00:0000  (00:1595)           NOT_ZERO = 1595h
     541.  00:0000  (00:15AF)           SHIFT_TST = 15AFh
     542.  00:0000  (00:15B5)           SHIFT_BC = 15B5h
     543.  00:0000  (00:15BC)           IN_PLACE = 15BCh
     544.  00:0000  (00:15C6)           FBC_END = 15C6h
     545.  00:0000  (00:15CD)           FP_TO_A = 15CDh
     546.  00:0000  (00:15D9)           FP_A_END = 15D9h
     547.  00:0000  (00:15DB)           PRINT_FP = 15DBh
     548.  00:0000  (00:15EA)           P_NEG = 15EAh
     549.  00:0000  (00:15F0)           P_POS = 15F0h
     550.  00:0000  (00:1615)           NXT_DGT_3 = 1615h
     551.  00:0000  (00:162C)           GET_FIRST = 162Ch
     552.  00:0000  (00:1639)           ROUND_UP = 1639h
     553.  00:0000  (00:164B)           MARKERS = 164Bh
     554.  00:0000  (00:165B)           SIGND_EXP = 165Bh
     555.  00:0000  (00:165F)           GET_FST_2 = 165Fh
     556.  00:0000  (00:167B)           OUT_B_CHS = 167Bh
     557.  00:0000  (00:1682)           E_NEEDED = 1682h
     558.  00:0000  (00:1698)           PLUS_SIGN = 1698h
     559.  00:0000  (00:169A)           OUT_SIGN = 169Ah
     560.  00:0000  (00:169E)           TEN_MORE = 169Eh
     561.  00:0000  (00:16AD)           BYTE_TWO = 16ADh
     562.  00:0000  (00:16B2)           EXP_MINUS = 16B2h
     563.  00:0000  (00:16BA)           OUT_ZEROS = 16BAh
     564.  00:0000  (00:16BF)           OUT_ZERO = 16BFh
     565.  00:0000  (00:16C2)           TEST_INT = 16C2h
     566.  00:0000  (00:16C8)           TEST_DONE = 16C8h
     567.  00:0000  (00:16D0)           OUT_NEXT = 16D0h
     568.  00:0000  (00:16D8)           PREP_ADD = 16D8h
     569.  00:0000  (00:16EC)           NEG_BYTE = 16ECh
     570.  00:0000  (00:16F7)           FETCH_TWO = 16F7h
     571.  00:0000  (00:171A)           SHIFT_FP = 171Ah
     572.  00:0000  (00:1722)           ONE_SHIFT = 1722h
     573.  00:0000  (00:1736)           ADDEND_0 = 1736h
     574.  00:0000  (00:1738)           ZEROS_4_PER_5 = 1738h
     575.  00:0000  (00:1741)           ADD_BACK = 1741h
     576.  00:0000  (00:174A)           ALL_ADDED = 174Ah
     577.  00:0000  (00:174C)           SUBTRACT = 174Ch
     578.  00:0000  (00:1755)           ADDITION = 1755h
     579.  00:0000  (00:1769)           SHIFT_LEN = 1769h
     580.  00:0000  (00:1790)           TEST_NEG = 1790h
     581.  00:0000  (00:17B3)           ADD_REP_6 = 17B3h
     582.  00:0000  (00:17B7)           END_COMPL = 17B7h
     583.  00:0000  (00:17B9)           GO_NC_MLT = 17B9h
     584.  00:0000  (00:17BC)           PREP_M_PER_D = 17BCh
     585.  00:0000  (00:17C6)           MULTIPLY = 17C6h
     586.  00:0000  (00:17E7)           MLT_LOOP = 17E7h
     587.  00:0000  (00:17EE)           NO_ADD = 17EEh
     588.  00:0000  (00:17F8)           STRT_MLT = 17F8h
     589.  00:0000  (00:180E)           MAKE_EXPT = 180Eh
     590.  00:0000  (00:1810)           DIVN_EXPT = 1810h
     591.  00:0000  (00:1819)           OFLW1_CLR = 1819h
     592.  00:0000  (00:1824)           OFLW2_CLR = 1824h
     593.  00:0000  (00:1828)           TEST_NORM = 1828h
     594.  00:0000  (00:182C)           NEAR_ZERO = 182Ch
     595.  00:0000  (00:1830)           ZERO_RSLT = 1830h
     596.  00:0000  (00:1831)           SKIP_ZERO = 1831h
     597.  00:0000  (00:183F)           NORMALIZE = 183Fh
     598.  00:0000  (00:1841)           SHIFT_ONE = 1841h
     599.  00:0000  (00:1859)           NORML_NOW = 1859h
     600.  00:0000  (00:1868)           OFLOW_CLR = 1868h
     601.  00:0000  (00:1880)           REPORT_6 = 1880h
     602.  00:0000  (00:1882)           DIVISION = 1882h
     603.  00:0000  (00:18A2)           DIV_LOOP = 18A2h
     604.  00:0000  (00:18AB)           DIV_34TH = 18ABh
     605.  00:0000  (00:18B2)           DIV_START = 18B2h
     606.  00:0000  (00:18C2)           SUBN_ONLY = 18C2h
     607.  00:0000  (00:18C9)           NO_RSTORE = 18C9h
     608.  00:0000  (00:18CA)           COUNT_ONE = 18CAh
     609.  00:0000  (00:18E4)           TRUNCATE = 18E4h
     610.  00:0000  (00:18EF)           X_LARGE = 18EFh
     611.  00:0000  (00:18F4)           NIL_BYTES = 18F4h
     612.  00:0000  (00:1900)           BYTE_ZERO = 1900h
     613.  00:0000  (00:1905)           BITS_ZERO = 1905h
     614.  00:0000  (00:190C)           LESS_MASK = 190Ch
     615.  00:0000  (00:1912)           IX_END = 1912h
     616.  00:0000  (00:1915)           STK_ZERO = 1915h
     617.  00:0000  (00:1918)           STK_ONE = 1918h
     618.  00:0000  (00:191A)           STK_HALF = 191Ah
     619.  00:0000  (00:191C)           STK_PI_PER_2 = 191Ch
     620.  00:0000  (00:1921)           STK_TEN = 1921h
     621.  00:0000  (00:1923)           TBL_ADD = 1923h
     622.  00:0000  (00:199D)           CALCULATE = 199Dh
     623.  00:0000  (00:19A0)           GEN_ENT_1 = 19A0h
     624.  00:0000  (00:19A4)           GEN_ENT_2 = 19A4h
     625.  00:0000  (00:19A7)           RE_ENTRY = 19A7h
     626.  00:0000  (00:19AE)           SCAN_ENT = 19AEh
     627.  00:0000  (00:19C2)           FIRST_38 = 19C2h
     628.  00:0000  (00:19CE)           DOUBLE_A = 19CEh
     629.  00:0000  (00:19D0)           ENT_TABLE = 19D0h
     630.  00:0000  (00:19E3)           DELETE = 19E3h
     631.  00:0000  (00:19E4)           FP_CALC_2 = 19E4h
     632.  00:0000  (00:19EB)           TEST_5_SP = 19EBh
     633.  00:0000  (00:19F6)           MOVE_FP = 19F6h
     634.  00:0000  (00:19FC)           STK_DATA = 19FCh
     635.  00:0000  (00:19FE)           STK_CONST = 19FEh
     636.  00:0000  (00:1A14)           FORM_EXP = 1A14h
     637.  00:0000  (00:1A27)           STK_ZEROS = 1A27h
     638.  00:0000  (00:1A2D)           SKIP_CONS = 1A2Dh
     639.  00:0000  (00:1A2E)           SKIP_NEXT = 1A2Eh
     640.  00:0000  (00:1A3C)           LOC_MEM = 1A3Ch
     641.  00:0000  (00:1A45)           GET_MEM_0 = 1A45h
     642.  00:0000  (00:1A51)           STK_ZERO_2 = 1A51h
     643.  00:0000  (00:1A63)           ST_MEM_0 = 1A63h
     644.  00:0000  (00:1A72)           EXCHANGE = 1A72h
     645.  00:0000  (00:1A74)           SWAP_BYTE = 1A74h
     646.  00:0000  (00:1A7F)           SERIES_06 = 1A7Fh
     647.  00:0000  (00:1A89)           G_LOOP = 1A89h
     648.  00:0000  (00:1AA0)           NEGATE = 1AA0h
     649.  00:0000  (00:1AAA)           ABS = 1AAAh
     650.  00:0000  (00:1AAF)           SGN = 1AAFh
     651.  00:0000  (00:1ABE)           PEEK = 1ABEh
     652.  00:0000  (00:1AC5)           USR = 1AC5h
     653.  00:0000  (00:1ACE)           GREATER_0 = 1ACEh
     654.  00:0000  (00:1AD5)           NOT = 1AD5h
     655.  00:0000  (00:1ADB)           LESS_0 = 1ADBh
     656.  00:0000  (00:1ADC)           SIGN_TO_C = 1ADCh
     657.  00:0000  (00:1AE0)           FP_0_PER_1 = 1AE0h
     658.  00:0000  (00:1AE3)           FP_ZERO = 1AE3h
     659.  00:0000  (00:1AED)           OR = 1AEDh
     660.  00:0000  (00:1AF3)           NO_AND_NO = 1AF3h
     661.  00:0000  (00:1AF8)           STR_AND_NO = 1AF8h
     662.  00:0000  (00:1B03)           NO_L_EQL = 1B03h
     663.  00:0000  (00:1B0B)           EX_OR_NOT = 1B0Bh
     664.  00:0000  (00:1B16)           NU_OR_STR = 1B16h
     665.  00:0000  (00:1B21)           STRINGS = 1B21h
     666.  00:0000  (00:1B2C)           BYTE_COMP = 1B2Ch
     667.  00:0000  (00:1B33)           SECND_LOW = 1B33h
     668.  00:0000  (00:1B3A)           BOTH_NULL = 1B3Ah
     669.  00:0000  (00:1B3D)           SEC_PLUS = 1B3Dh
     670.  00:0000  (00:1B4D)           FRST_LESS = 1B4Dh
     671.  00:0000  (00:1B50)           STR_TEST = 1B50h
     672.  00:0000  (00:1B54)           END_TESTS = 1B54h
     673.  00:0000  (00:1B62)           STRS_ADD = 1B62h
     674.  00:0000  (00:1B7D)           OTHER_STR = 1B7Dh
     675.  00:0000  (00:1B85)           STK_PNTRS = 1B85h
     676.  00:0000  (00:1B8F)           CHRS = 1B8Fh
     677.  00:0000  (00:1BA2)           REPORT_B2 = 1BA2h
     678.  00:0000  (00:1BA4)           VAL = 1BA4h
     679.  00:0000  (00:1BD5)           STRS = 1BD5h
     680.  00:0000  (00:1C06)           CODE = 1C06h
     681.  00:0000  (00:1C0E)           STK_CODE = 1C0Eh
     682.  00:0000  (00:1C11)           LEN = 1C11h
     683.  00:0000  (00:1C17)           DEC_JR_NZ = 1C17h
     684.  00:0000  (00:1C23)           JUMP = 1C23h
     685.  00:0000  (00:1C24)           JUMP_2 = 1C24h
     686.  00:0000  (00:1C2B)           NEW_ADDR = 1C2Bh
     687.  00:0000  (00:1C2F)           JUMP_TRUE = 1C2Fh
     688.  00:0000  (00:1C37)           N_MOD_M = 1C37h
     689.  00:0000  (00:1C46)           INT = 1C46h
     690.  00:0000  (00:1C4E)           X_NEG = 1C4Eh
     691.  00:0000  (00:1C59)           EXIT = 1C59h
     692.  00:0000  (00:1C5B)           EXP = 1C5Bh
     693.  00:0000  (00:1C99)           REPORT6_2 = 1C99h
     694.  00:0000  (00:1C9B)           N_NEGTV = 1C9Bh
     695.  00:0000  (00:1CA2)           RESULT_OK = 1CA2h
     696.  00:0000  (00:1CA4)           RSLT_ZERO = 1CA4h
     697.  00:0000  (00:1CA9)           LN = 1CA9h
     698.  00:0000  (00:1CB1)           VALID = 1CB1h
     699.  00:0000  (00:1CD2)           GRE_8 = 1CD2h
     700.  00:0000  (00:1D18)           GET_ARGT = 1D18h
     701.  00:0000  (00:1D35)           ZPLUS = 1D35h
     702.  00:0000  (00:1D3C)           YNEG = 1D3Ch
     703.  00:0000  (00:1D3E)           COS = 1D3Eh
     704.  00:0000  (00:1D49)           SIN = 1D49h
     705.  00:0000  (00:1D4B)           C_ENT = 1D4Bh
     706.  00:0000  (00:1D6E)           TAN = 1D6Eh
     707.  00:0000  (00:1D76)           ATN = 1D76h
     708.  00:0000  (00:1D89)           SMALL = 1D89h
     709.  00:0000  (00:1D8B)           CASES = 1D8Bh
     710.  00:0000  (00:1DC4)           ASN = 1DC4h
     711.  00:0000  (00:1DD4)           ACS = 1DD4h
     712.  00:0000  (00:1DDB)           SQR = 1DDBh
     713.  00:0000  (00:1DE2)           TO_POWER = 1DE2h
     714.  00:0000  (00:1DEE)           XISO = 1DEEh
     715.  00:0000  (00:1DFB)           ONE = 1DFBh
     716.  00:0000  (00:1DFD)           LAST = 1DFDh
     717.  00:0000  (00:1DFF)           SPARE = 1DFFh
     718.  00:0000  (00:1E00)           CHAR_SET = 1E00h
      56   00:0000                      
      57   00:0000                        DEFPAGE 0, 0000, 4000h
      58   00:0000                        DEFPAGE 1..3
      59   00:0000                      
      60   00:0000  (00)                  PAGE 0
      61   00:0000                        CODE @ 0
      62   00:0000  (2000)                INCBIN "../bin/zx81.edition3.rom"
      63   00:2000                        
      64   00:2000  (01)                  PAGE 1
      65   01:0000                        CODE @ 0
      66   01:0000  (2000)                INCBIN "../bin/zx81.edition1.rom"
      67   01:2000                      
      68   01:2000  (02)                  PAGE 2
      69   02:0000                        CODE @ 0
      70   02:0000  (2000)                INCBIN "../bin/zx81.edition3.rom"
      71   02:2000                      
      72   02:2000  (03)                  PAGE 3
      73   03:0000                        CODE @ 0
      74   03:0000  (2000)                INCBIN "../bin/zx81.edition3.rom"
      75   03:2000                      
      76   03:2000  (00)                  PAGE 0
      77   00:0000                        
      78   00:0000                        CODE ! 2
      79   00:0002  01 00 80              LD BC,$8000 ; initialization from $8000, let the ZX81 believe it is a 16k RAM expansion
      80   00:0005  C3 00 20              JP FJEXP_INIT	; RAM-CHECK and stuff is continuing above $2000...
      81   00:0008                      
      82   00:0008                        CODE @ 2000h
      83   00:2000                      FJEXP_INIT
      84   00:2000                        
      85   00:2000  11 C8 32              LD DE, 13000
      86   00:2003                      .loop100ms
      87   00:2003  1B                    DEC DE			; 6T
      88   00:2004  7B                    LD A, E			; 7T
      89   00:2005  B2                    OR D				; 4T
      90   00:2006  20 FB                 JR nz, .loop100ms	; jump: 12T / nojump: 7T
      91   00:2008                        
      92   00:2008  3E 1F                 LD A,$1F	; upper two bits are bank select, set them 0, lower 3 bits are for flash: D0-D1-D2 -> /CS, clk, Data-In. /CS: high, clk: low (data:low), bit3 is SD chip select
      93   00:200A  D3 3F                 OUT (CTRL_PORT), A
      94   00:200C                        
      95   00:200C                      ORIGINAL_INIT
      96   00:200C                        INCLUDE "orig-init.asm"
       1.  00:200C                      /**
       2.  00:200C                    ~  *  This is a copy of the original RAM-CHECK and the RAM INITIALIZATION routines
       3.  00:200C                    ~  *  (copied from https://www.tablix.org/~avian/spectrum/rom/zx81.htm ) 
       4.  00:200C                    ~  */
       5.  00:200C  60                  L03CB:  LD      H,B             ;
       6.  00:200D  69                          LD      L,C             ;
       7.  00:200E  3E 3F                       LD      A,$3F           ;
       8.  00:2010                      
       9.  00:2010                      ;; RAM-FILL
      10.  00:2010  36 02               L03CF:  LD      (HL),$02        ;
      11.  00:2012  2B                          DEC     HL              ;
      12.  00:2013  BC                          CP      H               ;
      13.  00:2014  20 FA                       JR      NZ,L03CF        ; to RAM-FILL
      14.  00:2016                      
      15.  00:2016                      ;; RAM-READ
      16.  00:2016  A7                  L03D5:  AND     A               ;
      17.  00:2017  ED 42                       SBC     HL,BC           ;
      18.  00:2019  09                          ADD     HL,BC           ;
      19.  00:201A  23                          INC     HL              ;
      20.  00:201B  30 06                       JR      NC,L03E2        ; to SET-TOP
      21.  00:201D                      
      22.  00:201D  35                          DEC     (HL)            ;
      23.  00:201E  28 03                       JR      Z,L03E2         ; to SET-TOP
      24.  00:2020                      
      25.  00:2020  35                          DEC     (HL)            ;
      26.  00:2021  28 F3                       JR      Z,L03D5         ; to RAM-READ
      27.  00:2023                      
      28.  00:2023                      ;; SET-TOP
      29.  00:2023  22 04 40            L03E2:  LD      (RAMTOP),HL      ; set system variable RAMTOP to first byte 
      30.  00:2026                                                      ; above the BASIC system area.
      31.  00:2026                      
      32.  00:2026                      ; ----------------------------
      33.  00:2026                      ; THE 'INITIALIZATION' ROUTINE
      34.  00:2026                      ; ----------------------------
      35.  00:2026                      ;
      36.  00:2026                      ;
      37.  00:2026                      
      38.  00:2026                      ;; INITIAL
      39.  00:2026  2A 04 40            L03E5:  LD      HL,($4004)      ; fetch system variable RAMTOP.
      40.  00:2029  2B                          DEC     HL              ; point to last system byte.
      41.  00:202A  36 3E                       LD      (HL),$3E        ; make GO SUB end-marker $3E - too high for
      42.  00:202C                                                      ; high order byte of line number.
      43.  00:202C                                                      ; (was $3F on ZX80)
      44.  00:202C  2B                          DEC     HL              ; point to unimportant low-order byte.
      45.  00:202D  F9                          LD      SP,HL           ; and initialize the stack-pointer to this
      46.  00:202E                                                      ; location.
      47.  00:202E  2B                          DEC     HL              ; point to first location on the machine stack
      48.  00:202F  2B                          DEC     HL              ; which will be filled by next CALL/PUSH.
      49.  00:2030  22 02 40                    LD      ($4002),HL      ; set the error stack pointer ERR_SP to
      50.  00:2033                                                      ; the base of the now empty machine stack.
      51.  00:2033                      
      52.  00:2033                      ; Now set the I register so that the video hardware knows where to find the
      53.  00:2033                      ; character set. This ROM only uses the character set when printing to 
      54.  00:2033                      ; the ZX Printer. The TV picture is formed by the external video hardware. 
      55.  00:2033                      ; Consider also, that this 8K ROM can be retro-fitted to the ZX80 instead of 
      56.  00:2033                      ; its original 4K ROM so the video hardware could be on the ZX80.
      57.  00:2033                      
      58.  00:2033  3E 1E                       LD      A,$1E           ; address for this ROM is $1E00.
      59.  00:2035  ED 47                       LD      I,A             ; set I register from A.
      60.  00:2037  ED 56                       IM      1               ; select Z80 Interrupt Mode 1.
      61.  00:2039                      
      62.  00:2039  FD 21 00 40                 LD      IY,$4000        ; set IY to the start of RAM so that the 
      63.  00:203D                                                      ; system variables can be indexed.
      64.  00:203D  FD 36 3B 40                 LD      (IY+$3B),$40    ; set CDFLAG 0100 0000. Bit 6 indicates 
      65.  00:2041                                                      ; Compute nad Display required.
      66.  00:2041                      
      67.  00:2041  21 7D 40                    LD      HL,$407D        ; The first location after System Variables -
      68.  00:2044                                                      ; 16509 decimal.
      69.  00:2044  22 0C 40                    LD      ($400C),HL      ; set system variable D_FILE to this value.
      70.  00:2047  06 19                       LD      B,$19           ; prepare minimal screen of 24 NEWLINEs
      71.  00:2049                                                      ; following an initial NEWLINE.
      72.  00:2049                      
      73.  00:2049                      ;; LINE
      74.  00:2049  36 76               L0408:  LD      (HL),$76        ; insert NEWLINE (HALT instruction)
      75.  00:204B  23                          INC     HL              ; point to next location.
      76.  00:204C  10 FB                       DJNZ    L0408           ; loop back for all twenty five to LINE
      77.  00:204E                      
      78.  00:204E  22 10 40                    LD      ($4010),HL      ; set system variable VARS to next location
      79.  00:2051                      
      80.  00:2051  CD 9A 14            		CALL CLEAR
      81.  00:2054                      ;        CALL    L149A           ; routine CLEAR sets $80 end-marker and the 
      82.  00:2054                                                      ; dynamic memory pointers E_LINE, STKBOT and
      83.  00:2054                                                      ; STKEND.
      84.  00:2054                      
      97   00:2054                      
      98   00:2054                      ; Let's continue in normal RAM, system boots up simply
      99   00:2054  CD AD 14              CALL CURSOR_IN
     100   00:2057  CD 2A 0A              CALL CLS
     101   00:205A  31 FF BF              LD SP, CTRL_SHADOW
     102   00:205D  CD 07 02              CALL SLOW_PER_FAST
     103   00:2060                        
     104   00:2060  3E 1F                 LD A,$1F	; upper two bits are bank select, set them 0, lower 3 bits are for flash: D0-D1-D2 -> /CS, clk, Data-In. /CS: high, clk: low (data:low), bit3 is SD chip select
     105   00:2062  D3 3F                 OUT (CTRL_PORT), A
     106   00:2064  32 FF BF              LD (CTRL_SHADOW), A
     107   00:2067                      
     108   00:2067                        INCLUDE "cart-program-flash.asm"
       1.  00:2067                      /**
       2.  00:2067                    ~  * This is right after the ZX81 is initialized.
       3.  00:2067                    ~  * I print out the menu border and check if there is
       4.  00:2067                    ~  * SD card in slot. If yes, I jump there otherwise
       5.  00:2067                    ~  * continue with flash usage.
       6.  00:2067                    ~  */
       7.  00:2067                       
       8.  00:2067  (00:0010)           WINDOW_HEIGHT EQU 16
       9.  00:2067  (00:7A00)           WINDOW_POS EQU $7A00       ; DW
      10.  00:2067  (00:7A02)           SELECTED_LINE EQU WINDOW_POS + 2	 ; DB
      11.  00:2067  (00:7A03)           NUM_OF_ENTRIES EQU SELECTED_LINE + 1 ; DW
      12.  00:2067  (00:7A05)           CURR_LINE EQU NUM_OF_ENTRIES + 2     ; DB
      13.  00:2067  (00:7A06)           CURR_LINE_ADDR EQU CURR_LINE + 1     ; DW
      14.  00:2067  (00:7A08)           CURR_NUM_ADDR EQU CURR_LINE_ADDR + 2 ; DW
      15.  00:2067  (00:7A0A)           TEMP_AREA EQU CURR_NUM_ADDR + 2      ; 32 bytes
      16.  00:2067  (00:7A2A)           LAST_PRESSED_KEY EQU TEMP_AREA + 32  ; DB
      17.  00:2067  (00:7A2B)           PRESSED_KEY_CNT EQU LAST_PRESSED_KEY + 1  ; DB
      18.  00:2067  (00:7A2C)           CURR_ENTRY_ADDR EQU PRESSED_KEY_CNT + 1  ; DW
      19.  00:2067  (00:7A2E)           CURRENT_DIR_FADDR EQU CURR_ENTRY_ADDR + 2 ; 3 bytes
      20.  00:2067  (00:7A31)           LAST_FRAME        EQU CURRENT_DIR_FADDR + 3 ;
      21.  00:2067                      
      22.  00:2067                      
      23.  00:2067  (00:B000)           ON_SCREEN_ENTRIES EQU $B000
      24.  00:2067                      ifdef DEBUG
      25.  00:2067                    ~ REPEAT_KEY_COUNTER_FIRST EQU $0e
      26.  00:2067                    ~ REPEAT_KEY_COUNTER_SECOND EQU $06
      27.  00:2067                    ~ else
      28.  00:2067  (00:0010)           REPEAT_KEY_COUNTER_FIRST EQU $10
      29.  00:2067  (00:000A)           REPEAT_KEY_COUNTER_SECOND EQU $0a
      30.  00:2067                      
      31.  00:2067                      endif
      32.  00:2067                      
      33.  00:2067  (00:0001)           KEY_1      EQU 1
      34.  00:2067  (00:0002)           KEY_UP     EQU 2
      35.  00:2067  (00:0003)           KEY_DOWN   EQU 3
      36.  00:2067  (00:0004)           KEY_LEFT   EQU 4
      37.  00:2067  (00:0005)           KEY_RIGHT  EQU 5
      38.  00:2067  (00:0006)           KEY_SELECT EQU 6
      39.  00:2067  (00:0007)           KEY_C      EQU 7
      40.  00:2067                      
      41.  00:2067                      ; define DEBUG
      42.  00:2067                      
      43.  00:2067  CD 51 24              CALL INIT_VARIABLES
      44.  00:206A  CD 01 26              CALL DRAW_SCREEN
      45.  00:206D  DB 3F                 in a, (CTRL_PORT)
      46.  00:206F  CB 67                 bit 4, A
      47.  00:2071  CA A0 3F              jp z, ENTER_TO_SD
      48.  00:2074                      USE_FLASH:
      49.  00:2074  CD 6A 26              call PRINT_FLASH_SIZE
      50.  00:2077  CD AE 23              CALL SET_VARIABLES_FROM_DIRHEADER
      51.  00:207A  CD 69 24              CALL PRINT_FULL_BOX
      52.  00:207D                      
      53.  00:207D                      HANDLE_INPUT:
      54.  00:207D                      ifdef DEBUG
      55.  00:207D                    ~   ld a,c
      56.  00:207D                    ~   ld b, 2
      57.  00:207D                    ~   ld c, 0
      58.  00:207D                    ~   call PRINT_AT
      59.  00:207D                    ~ else
      60.  00:207D  3A 34 40              ld a,(FRAMES)
      61.  00:2080  21 31 7A              ld hl, LAST_FRAME
      62.  00:2083  BE                    cp (hl)
      63.  00:2084  28 F7                 jr z,HANDLE_INPUT
      64.  00:2086  32 31 7A              ld (LAST_FRAME), A
      65.  00:2089                      endif
      66.  00:2089  CD 52 23              CALL CHECK_KEMPSTON
      67.  00:208C  AF                    xor a
      68.  00:208D  B9                    cp c
      69.  00:208E  20 03                 jr nz,SKIP_KEYBOARD_CHECK
      70.  00:2090  CD 79 23              call CHECK_56780
      71.  00:2093                      SKIP_KEYBOARD_CHECK:
      72.  00:2093                      ifdef DEBUG
      73.  00:2093                    ~   push bc
      74.  00:2093                    ~   ld a,(LAST_PRESSED_KEY)
      75.  00:2093                    ~   call PRINT_HEX
      76.  00:2093                    ~   ld a,(PRESSED_KEY_CNT)
      77.  00:2093                    ~   call PRINT_HEX
      78.  00:2093                    ~   xor a
      79.  00:2093                    ~   RST $10
      80.  00:2093                    ~   ld hl,(NUM_OF_ENTRIES)
      81.  00:2093                    ~   push hl
      82.  00:2093                    ~   ld a,h
      83.  00:2093                    ~   call PRINT_HEX
      84.  00:2093                    ~   pop hl
      85.  00:2093                    ~   ld a,l
      86.  00:2093                    ~   call PRINT_HEX
      87.  00:2093                    ~   xor a
      88.  00:2093                    ~   RST $10
      89.  00:2093                    ~   ld hl,(WINDOW_POS)
      90.  00:2093                    ~   push hl
      91.  00:2093                    ~   ld a,h
      92.  00:2093                    ~   call PRINT_HEX
      93.  00:2093                    ~   pop hl
      94.  00:2093                    ~   ld a,l
      95.  00:2093                    ~   call PRINT_HEX
      96.  00:2093                    ~   pop bc
      97.  00:2093                    ~ endif
      98.  00:2093                        
      99.  00:2093  3A 2A 7A              ld a,(LAST_PRESSED_KEY)
     100.  00:2096  B9                    cp C
     101.  00:2097  21 2B 7A              ld hl,PRESSED_KEY_CNT
     102.  00:209A  20 0B                 jr nz,NEW_KEY_PRESSED
     103.  00:209C  35                    dec (hl)
     104.  00:209D  7E                    ld a,(hl)	; same key-press as before
     105.  00:209E  FE 0E                 cp REPEAT_KEY_COUNTER_FIRST - 2 ; first press should be detected fast
     106.  00:20A0  28 11                 jr z,KEY_PRESSED_FIRST
     107.  00:20A2  B7                    OR A
     108.  00:20A3  28 0B                 jr z,KEY_PRESSED
     109.  00:20A5  18 D6                 jr HANDLE_INPUT
     110.  00:20A7                      NEW_KEY_PRESSED:
     111.  00:20A7  79                    ld a,c
     112.  00:20A8  32 2A 7A              ld (LAST_PRESSED_KEY), a
     113.  00:20AB  3E 10                 ld a, REPEAT_KEY_COUNTER_FIRST
     114.  00:20AD  77                    ld (hl), a
     115.  00:20AE  18 CD                 jr HANDLE_INPUT
     116.  00:20B0                      KEY_PRESSED:
     117.  00:20B0  3E 0A                 ld a,REPEAT_KEY_COUNTER_SECOND
     118.  00:20B2  77                    ld (hl), a
     119.  00:20B3                      KEY_PRESSED_FIRST:
     120.  00:20B3  79                    ld a,c
     121.  00:20B4  FE 02                 cp KEY_UP
     122.  00:20B6  28 1C                 jr z,PROCESS_KEY_UP
     123.  00:20B8  FE 03                 cp KEY_DOWN
     124.  00:20BA  CA 46 21              jp z,PROCESS_KEY_DOWN
     125.  00:20BD  FE 04                 cp KEY_LEFT
     126.  00:20BF  CA C5 21              jp z,PROCESS_KEY_LEFT
     127.  00:20C2  FE 05                 cp KEY_RIGHT
     128.  00:20C4  CA 04 22              jp z,PROCESS_KEY_RIGHT
     129.  00:20C7  FE 06                 cp KEY_SELECT
     130.  00:20C9  CA 8B 22              jp z,PROCESS_KEY_SELECT
     131.  00:20CC  FE 01                 cp KEY_1
     132.  00:20CE  CA 30 23              jp z,PROCESS_EXIT
     133.  00:20D1  C3 7D 20              jp HANDLE_INPUT
     134.  00:20D4                      
     135.  00:20D4                      PROCESS_KEY_UP:
     136.  00:20D4  3A 02 7A              ld a,(SELECTED_LINE)
     137.  00:20D7  32 05 7A              ld (CURR_LINE), a
     138.  00:20DA  CD 34 25              call SET_CURR_LINE_ADDR
     139.  00:20DD  3A 05 7A              ld a, (CURR_LINE)
     140.  00:20E0  B7                    or a
     141.  00:20E1  28 21                 jr z, ON_TOP_OF_BOX
     142.  00:20E3  06 00                 ld b,0
     143.  00:20E5  70                    ld (hl), b
     144.  00:20E6  11 1F 00              ld de,31
     145.  00:20E9  19                    add hl,de
     146.  00:20EA  70                    ld (hl), b
     147.  00:20EB  3D                    dec a
     148.  00:20EC  11 40 00              ld de,31+33
     149.  00:20EF  37                    scf
     150.  00:20F0  3F                    ccf
     151.  00:20F1  ED 52                 sbc hl,de
     152.  00:20F3  06 12                 ld b,_GT
     153.  00:20F5  70                    ld (hl), b
     154.  00:20F6  11 1F 00              ld de,31
     155.  00:20F9  19                    add hl,de
     156.  00:20FA  06 13                 ld b, _LT
     157.  00:20FC  70                    ld (hl), b
     158.  00:20FD  21 02 7A              ld hl, SELECTED_LINE
     159.  00:2100  35                    dec (hl)
     160.  00:2101  C3 7D 20              jp HANDLE_INPUT
     161.  00:2104                      ON_TOP_OF_BOX:
     162.  00:2104  2A 00 7A              ld hl,(WINDOW_POS)
     163.  00:2107  7D                    ld a,l
     164.  00:2108  B4                    or h
     165.  00:2109  CA 7D 20              jp z, HANDLE_INPUT ; we are at the top of the window (pos: 0)
     166.  00:210C                        
     167.  00:210C  21 00 7A              ld hl, WINDOW_POS
     168.  00:210F  35                    dec (hl)
     169.  00:2110                        
     170.  00:2110  21 DF B1              ld hl, ON_SCREEN_ENTRIES + 31 + (WINDOW_HEIGHT - 2)*32
     171.  00:2113  11 FF B1              ld de, ON_SCREEN_ENTRIES + 31 + (WINDOW_HEIGHT - 1)*32
     172.  00:2116  01 E0 01              ld bc, (WINDOW_HEIGHT - 1)*32
     173.  00:2119  ED B8                 lddr
     174.  00:211B                        
     175.  00:211B  AF                    xor a
     176.  00:211C  2A 0C 40              ld hl, (D_FILE)
     177.  00:211F  11 85 00              ld de, 1+4*33
     178.  00:2122  19                    add hl, de
     179.  00:2123  77                    ld (hl), a
     180.  00:2124  11 1F 00              ld de, 31
     181.  00:2127  19                    add hl, de
     182.  00:2128  77                    ld (hl), a
     183.  00:2129                        
     184.  00:2129  2A 0C 40              ld hl, (D_FILE)
     185.  00:212C  11 72 02              ld de, 1+(4 + WINDOW_HEIGHT - 2)*33 + 31
     186.  00:212F  19                    add hl, de
     187.  00:2130  E5                    push hl
     188.  00:2131  11 21 00              ld de, 33
     189.  00:2134  19                    add hl, de
     190.  00:2135  EB                    ex de, hl
     191.  00:2136  E1                    pop hl
     192.  00:2137  01 EF 01              ld bc, (WINDOW_HEIGHT - 1)*33
     193.  00:213A  ED B8                 lddr
     194.  00:213C                        
     195.  00:213C  06 00                 ld b,0
     196.  00:213E  0E 01                 ld c,1
     197.  00:2140  CD 71 24              call PRINT_ENTRIES
     198.  00:2143                      
     199.  00:2143  C3 7D 20              jp HANDLE_INPUT
     200.  00:2146                        
     201.  00:2146                      PROCESS_KEY_DOWN:
     202.  00:2146  2A 00 7A              ld hl,(WINDOW_POS)
     203.  00:2149  3A 02 7A              ld a,(SELECTED_LINE)
     204.  00:214C  5F                    ld e,a
     205.  00:214D  16 00                 ld d,0
     206.  00:214F  19                    add hl,de
     207.  00:2150  23                    inc hl
     208.  00:2151  EB                    ex de, hl
     209.  00:2152  2A 03 7A              ld hl, (NUM_OF_ENTRIES)
     210.  00:2155  AF                    xor a
     211.  00:2156  ED 52                 sbc hl,de
     212.  00:2158  DA 7D 20              jp c, HANDLE_INPUT
     213.  00:215B  7C                    ld a,h
     214.  00:215C  B5                    or l
     215.  00:215D  CA 7D 20              jp z, HANDLE_INPUT
     216.  00:2160  3A 02 7A              ld a,(SELECTED_LINE)
     217.  00:2163  FE 0F                 cp (WINDOW_HEIGHT - 1)
     218.  00:2165  28 25                 jr z,ON_BOTTOM_OF_BOX
     219.  00:2167  3A 02 7A              ld a,(SELECTED_LINE)
     220.  00:216A  32 05 7A              ld (CURR_LINE), a
     221.  00:216D  CD 34 25              call SET_CURR_LINE_ADDR
     222.  00:2170  AF                    xor a
     223.  00:2171  77                    ld (hl),a
     224.  00:2172  11 1F 00              ld de,31
     225.  00:2175  19                    add hl,de
     226.  00:2176  77                    ld (hl),a
     227.  00:2177  11 02 00              ld de,2
     228.  00:217A  19                    add hl,de
     229.  00:217B  3E 12                 ld a,_GT
     230.  00:217D  77                    ld (hl), a
     231.  00:217E  11 1F 00              ld de,31
     232.  00:2181  19                    add hl,de
     233.  00:2182  3E 13                 ld a,_LT
     234.  00:2184  77                    ld (hl), a
     235.  00:2185  21 02 7A              ld hl, SELECTED_LINE
     236.  00:2188  34                    inc (hl)
     237.  00:2189  C3 7D 20              jp HANDLE_INPUT
     238.  00:218C                      ON_BOTTOM_OF_BOX:
     239.  00:218C  21 00 7A              ld hl, WINDOW_POS
     240.  00:218F  34                    inc (hl)
     241.  00:2190                        
     242.  00:2190  21 20 B0              ld hl, ON_SCREEN_ENTRIES + 32
     243.  00:2193  11 00 B0              ld de, ON_SCREEN_ENTRIES
     244.  00:2196  01 E0 01              ld bc, (WINDOW_HEIGHT - 1)*32
     245.  00:2199  ED B0                 ldir
     246.  00:219B                        
     247.  00:219B                      ; removing the selection ><
     248.  00:219B  AF                    xor a
     249.  00:219C  2A 0C 40              ld hl, (D_FILE)
     250.  00:219F  11 74 02              ld de, 1+(3 + WINDOW_HEIGHT)*33
     251.  00:21A2  19                    add hl, de
     252.  00:21A3  77                    ld (hl), a
     253.  00:21A4  11 1F 00              ld de, 31
     254.  00:21A7  19                    add hl, de
     255.  00:21A8  77                    ld (hl), a
     256.  00:21A9                      
     257.  00:21A9                      ; moving the screen 
     258.  00:21A9  2A 0C 40              ld hl, (D_FILE)
     259.  00:21AC  11 85 00              ld de, 1+4*33
     260.  00:21AF  19                    add hl, de
     261.  00:21B0  E5                    push hl
     262.  00:21B1  11 21 00              ld de, 33
     263.  00:21B4  19                    add hl, de
     264.  00:21B5  D1                    pop de
     265.  00:21B6  01 EF 01              ld bc, (WINDOW_HEIGHT - 1) * 33
     266.  00:21B9  ED B0                 ldir
     267.  00:21BB                        
     268.  00:21BB  06 0F                 ld b,(WINDOW_HEIGHT - 1)
     269.  00:21BD  0E 01                 ld c,1
     270.  00:21BF  CD 71 24              call PRINT_ENTRIES
     271.  00:21C2                        
     272.  00:21C2  C3 7D 20              jp HANDLE_INPUT
     273.  00:21C5                        
     274.  00:21C5                      PROCESS_KEY_LEFT:
     275.  00:21C5  2A 00 7A              ld hl, (WINDOW_POS)
     276.  00:21C8  11 10 00              ld de, WINDOW_HEIGHT
     277.  00:21CB  AF                    xor a
     278.  00:21CC  ED 52                 sbc hl, de
     279.  00:21CE  38 09                 jr c, LESS_THAN_A_PAGE
     280.  00:21D0                      PRINT_FULL_SCREEN:
     281.  00:21D0  22 00 7A              ld (WINDOW_POS), hl
     282.  00:21D3  CD 69 24              CALL PRINT_FULL_BOX
     283.  00:21D6  C3 7D 20              JP HANDLE_INPUT
     284.  00:21D9                      LESS_THAN_A_PAGE:
     285.  00:21D9  2A 00 7A              ld hl, (WINDOW_POS)
     286.  00:21DC  7D                    ld a,l
     287.  00:21DD  B4                    or h
     288.  00:21DE  28 05                 jr z, PAGE_UP_ON_FIRST_PAGE
     289.  00:21E0                      PAGE_UP_MOVE_TO_FIRST_PAGE:
     290.  00:21E0  21 00 00              ld hl, 0
     291.  00:21E3  18 EB                 jr PRINT_FULL_SCREEN
     292.  00:21E5                      PAGE_UP_ON_FIRST_PAGE:
     293.  00:21E5  3A 02 7A              ld a, (SELECTED_LINE)
     294.  00:21E8  32 05 7A              ld (CURR_LINE), a
     295.  00:21EB  CD 34 25              call SET_CURR_LINE_ADDR
     296.  00:21EE  AF                    xor a
     297.  00:21EF  77                    ld (hl), a
     298.  00:21F0  11 1F 00              ld de,31
     299.  00:21F3  19                    add hl,de
     300.  00:21F4  77                    ld (hl), a
     301.  00:21F5  32 02 7A              ld (SELECTED_LINE), a
     302.  00:21F8  32 05 7A              ld (CURR_LINE), a
     303.  00:21FB  CD 34 25              call SET_CURR_LINE_ADDR
     304.  00:21FE  CD 71 25              call PRINT_SELECTION
     305.  00:2201  C3 7D 20              jp HANDLE_INPUT
     306.  00:2204                      
     307.  00:2204                      PROCESS_KEY_RIGHT:
     308.  00:2204  21 10 00              ld hl, WINDOW_HEIGHT
     309.  00:2207  ED 5B 03 7A           ld de, (NUM_OF_ENTRIES)
     310.  00:220B  AF                    xor a
     311.  00:220C  ED 52                 sbc hl,de
     312.  00:220E  30 2C                 jr nc, PAGE_DOWN_ONE_PAGE_ONLY
     313.  00:2210  2A 00 7A              ld hl, (WINDOW_POS)
     314.  00:2213  11 10 00              ld de, WINDOW_HEIGHT
     315.  00:2216  19                    add hl, de
     316.  00:2217  ED 5B 03 7A           ld de, (NUM_OF_ENTRIES)
     317.  00:221B  AF                    xor a
     318.  00:221C  ED 52                 sbc hl, de
     319.  00:221E  28 3F                 jr z, PAGE_DOWN_THIS_IS_THE_LAST_PAGE
     320.  00:2220  2A 00 7A              ld hl, (WINDOW_POS)
     321.  00:2223  11 20 00              ld de, WINDOW_HEIGHT + WINDOW_HEIGHT
     322.  00:2226  19                    add  hl, de
     323.  00:2227  ED 5B 03 7A           ld de, (NUM_OF_ENTRIES)
     324.  00:222B  AF                    xor a
     325.  00:222C  ED 52                 sbc hl, de
     326.  00:222E  30 49                 jr nc, PAGE_DOWN_IS_ALMOST_OK
     327.  00:2230  2A 00 7A              ld hl,(WINDOW_POS)
     328.  00:2233  11 10 00              ld de, WINDOW_HEIGHT
     329.  00:2236  19                    add hl, de
     330.  00:2237  22 00 7A              ld (WINDOW_POS), hl
     331.  00:223A  18 49                 jr FULL_BOX_VARS_SET
     332.  00:223C                      PAGE_DOWN_ONE_PAGE_ONLY:
     333.  00:223C  3A 02 7A              ld a,(SELECTED_LINE)
     334.  00:223F  32 05 7A              ld (CURR_LINE), A
     335.  00:2242  CD 34 25              call SET_CURR_LINE_ADDR
     336.  00:2245  AF                    xor a
     337.  00:2246  77                    ld (hl), a
     338.  00:2247  11 1F 00              ld de,31
     339.  00:224A  19                    add hl,de
     340.  00:224B  77                    ld (hl), a
     341.  00:224C  3A 03 7A              ld a,(NUM_OF_ENTRIES)
     342.  00:224F  3D                    dec a
     343.  00:2250  32 02 7A              ld (SELECTED_LINE), a
     344.  00:2253  32 05 7A              ld (CURR_LINE), a
     345.  00:2256  CD 34 25              call SET_CURR_LINE_ADDR
     346.  00:2259  CD 71 25              call PRINT_SELECTION
     347.  00:225C  C3 7D 20              jp HANDLE_INPUT
     348.  00:225F                      PAGE_DOWN_THIS_IS_THE_LAST_PAGE:
     349.  00:225F  3A 02 7A              ld a,(SELECTED_LINE)
     350.  00:2262  47                    ld b, a
     351.  00:2263  3E 0F                 ld a, WINDOW_HEIGHT - 1
     352.  00:2265  32 02 7A              ld (SELECTED_LINE), a
     353.  00:2268  0E 01                 ld c, 1
     354.  00:226A  CD 71 24              call PRINT_ENTRIES
     355.  00:226D  3A 02 7A              ld a,(SELECTED_LINE)
     356.  00:2270  47                    ld b,a
     357.  00:2271  0E 01                 ld c,1
     358.  00:2273  CD 71 24              call PRINT_ENTRIES
     359.  00:2276  C3 7D 20              jp HANDLE_INPUT
     360.  00:2279                      PAGE_DOWN_IS_ALMOST_OK:
     361.  00:2279  2A 03 7A              ld hl, (NUM_OF_ENTRIES)
     362.  00:227C  11 10 00              ld de, WINDOW_HEIGHT
     363.  00:227F  AF                    xor a
     364.  00:2280  ED 52                 sbc hl, de
     365.  00:2282  22 00 7A              ld (WINDOW_POS), hl
     366.  00:2285                      FULL_BOX_VARS_SET:
     367.  00:2285  CD 69 24              call PRINT_FULL_BOX
     368.  00:2288  C3 7D 20              JP HANDLE_INPUT
     369.  00:228B                      
     370.  00:228B                      PROCESS_KEY_SELECT:
     371.  00:228B  3A 02 7A              ld a,(SELECTED_LINE)
     372.  00:228E  5F                    ld e,a
     373.  00:228F  16 00                 ld d,0
     374.  00:2291  06 05                 ld b,5
     375.  00:2293                      MUL_32_ON_SELECT
     376.  00:2293  CB 23                 SLA e
     377.  00:2295  CB 12                 RL D
     378.  00:2297  10 FA                 DJNZ MUL_32_ON_SELECT
     379.  00:2299  21 00 B0              ld hl,ON_SCREEN_ENTRIES
     380.  00:229C  19                    add hl,de
     381.  00:229D  3E 01                 ld a,$01
     382.  00:229F  BE                    cp (hl)
     383.  00:22A0  28 4E                 jr z, HANDLE_FILE_SELECT ; a file is selected
     384.  00:22A2  11 05 00              ld de, 5
     385.  00:22A5  19                    add hl, de
     386.  00:22A6  06 03                 ld b, 3
     387.  00:22A8  11 2E 7A              ld de, CURRENT_DIR_FADDR
     388.  00:22AB                      CDFADDR_COPY_LOOP:
     389.  00:22AB  7E                    ld a,(hl)
     390.  00:22AC  12                    ld (de),a
     391.  00:22AD  2B                    dec hl
     392.  00:22AE  13                    inc de
     393.  00:22AF  10 FA                 djnz CDFADDR_COPY_LOOP
     394.  00:22B1  AF                    xor a
     395.  00:22B2  32 02 7A              ld (SELECTED_LINE), a
     396.  00:22B5  32 00 7A              ld (WINDOW_POS), a
     397.  00:22B8  32 01 7A              ld (WINDOW_POS+1), a
     398.  00:22BB  CD AE 23              call SET_VARIABLES_FROM_DIRHEADER
     399.  00:22BE  CD 69 24              call PRINT_FULL_BOX
     400.  00:22C1  2A 03 7A              ld hl,(NUM_OF_ENTRIES)
     401.  00:22C4  11 10 00              ld de, WINDOW_HEIGHT
     402.  00:22C7  AF                    xor a
     403.  00:22C8  ED 52                 sbc hl,de
     404.  00:22CA  D2 7D 20              jp nc, HANDLE_INPUT
     405.  00:22CD  2A 0C 40              ld hl,(D_FILE)
     406.  00:22D0  11 85 00              ld de,1 + 33*4	; skip the first HALT and 4 lines (32 chars + HALT)
     407.  00:22D3  19                    add hl,de         ; Cy is reset
     408.  00:22D4  3A 03 7A              ld a,(NUM_OF_ENTRIES) ; low byte of NUM_OF_ENTRIES, but it is less than 16, so it's ok
     409.  00:22D7  47                    ld b,a
     410.  00:22D8  4F                    ld c,a
     411.  00:22D9  11 21 00              ld de,33
     412.  00:22DC                      SET_CLEAR_START_ADDR_LOOP:
     413.  00:22DC  19                    add hl,de
     414.  00:22DD  10 FD                 DJNZ SET_CLEAR_START_ADDR_LOOP
     415.  00:22DF                      CLEAR_LINES_LOOP:
     416.  00:22DF  AF                    xor a
     417.  00:22E0  06 20                 ld b,32
     418.  00:22E2                      CLEAR_ONE_LINE_LOOP
     419.  00:22E2  77                    ld (hl), a
     420.  00:22E3  23                    inc hl
     421.  00:22E4  10 FC                 DJNZ CLEAR_ONE_LINE_LOOP
     422.  00:22E6  23                    inc hl
     423.  00:22E7  0C                    inc c
     424.  00:22E8  3E 10                 ld a,WINDOW_HEIGHT
     425.  00:22EA  B9                    cp c
     426.  00:22EB  20 F2                 jr nz, CLEAR_LINES_LOOP
     427.  00:22ED  C3 7D 20              JP HANDLE_INPUT
     428.  00:22F0                      HANDLE_FILE_SELECT:
     429.  00:22F0  E5                    push hl
     430.  00:22F1  11 03 00              ld de,3
     431.  00:22F4  19                    add hl,de
     432.  00:22F5  7E                    ld a,(hl)
     433.  00:22F6  23                    inc hl
     434.  00:22F7  46                    ld b,(hl)
     435.  00:22F8  23                    inc hl
     436.  00:22F9  4E                    ld c,(hl)
     437.  00:22FA  57                    ld d,a
     438.  00:22FB  60                    ld h,b
     439.  00:22FC  69                    ld l,c
     440.  00:22FD                      ifdef DEBUG
     441.  00:22FD                    ~   call PRINT_HEX
     442.  00:22FD                    ~   ld a,b
     443.  00:22FD                    ~   call PRINT_HEX
     444.  00:22FD                    ~   ld a,c
     445.  00:22FD                    ~   call PRINT_HEX
     446.  00:22FD                    ~ endif ; DEBUG
     447.  00:22FD  CD D1 27              call SPI_START
     448.  00:2300  CD 1A 28              call W25Q_INITIATE_READ_DATA
     449.  00:2303  E1                    pop hl
     450.  00:2304  23                    inc hl ; entry structure: #0 is type, #1-#2 is size of file, #3-#5 is flash addr (file or subdirectory), #6 - caption
     451.  00:2305  4E                    ld c,(hl)
     452.  00:2306  23                    inc hl
     453.  00:2307  46                    ld b,(hl)
     454.  00:2308                      ifdef DEBUG
     455.  00:2308                    ~   push bc
     456.  00:2308                    ~   xor a
     457.  00:2308                    ~   rst $10
     458.  00:2308                    ~   ld a,b
     459.  00:2308                    ~   push bc
     460.  00:2308                    ~   call PRINT_HEX
     461.  00:2308                    ~   pop bc
     462.  00:2308                    ~   ld a,c
     463.  00:2308                    ~   call PRINT_HEX
     464.  00:2308                    ~   pop bc
     465.  00:2308                    ~ endif ;DEBUG
     466.  00:2308  11 09 40              ld de,$4009
     467.  00:230B  CD 23 0F              CALL FAST
     468.  00:230E                      LOOP_LOAD_BYTES:
     469.  00:230E  CD 32 28              call W25Q_READ_DATA
     470.  00:2311  12                    LD (DE), A
     471.  00:2312  DB FE                 IN A, ($FE)
     472.  00:2314  D3 FF                 OUT ($FF), A
     473.  00:2316  13                    inc de
     474.  00:2317  0B                    dec bc
     475.  00:2318  78                    ld a,b
     476.  00:2319  B1                    or c
     477.  00:231A  20 F2                 jr nz,LOOP_LOAD_BYTES
     478.  00:231C                      LOAD_P_DONE:
     479.  00:231C  CD D9 27              call SPI_STOP
     480.  00:231F                        
     481.  00:231F  21 76 06              ld hl,$0676 ; magic number #1
     482.  00:2322  E5                    push hl
     483.  00:2323  3E 80                 ld a,$80    ; magic number #2
     484.  00:2325  32 01 40              ld ($4001),A
     485.  00:2328  3E FF                 ld a,$FF     ; magic number #3
     486.  00:232A  32 00 40              ld ($4000), a
     487.  00:232D  C3 07 02              JP SLOW_PER_FAST
     488.  00:2330                        
     489.  00:2330                      PROCESS_EXIT:
     490.  00:2330  21 FF BF              ld hl, $BFFF
     491.  00:2333  22 04 40              ld (RAMTOP), hl
     492.  00:2336  AF                    xor a
     493.  00:2337  ED 5B 04 40           ld de, (RAMTOP)
     494.  00:233B  1B                    dec de
     495.  00:233C                      ;  ld hl, (RAMTOP)
     496.  00:233C  7E                    ld a, (hl)
     497.  00:233D  01 10 00              ld bc, 16
     498.  00:2340  ED B8                 lddr
     499.  00:2342                      
     500.  00:2342  2A 04 40              LD      HL,($4004)      ; fetch system variable RAMTOP.
     501.  00:2345  2B                    DEC     HL              ; point to last system byte.
     502.  00:2346  36 3E                 LD      (HL),$3E        ; make GO SUB end-marker $3E - too high for
     503.  00:2348                                                ; high order byte of line number.
     504.  00:2348                                                ; (was $3F on ZX80)
     505.  00:2348  2B                    DEC     HL              ; point to unimportant low-order byte.
     506.  00:2349  F9                    LD      SP,HL           ; and initialize the stack-pointer to this
     507.  00:234A                                                ; location.
     508.  00:234A  2B                    DEC     HL              ; point to first location on the machine stack
     509.  00:234B  2B                    DEC     HL              ; which will be filled by next CALL/PUSH.
     510.  00:234C  22 02 40              LD      ($4002),HL      ; set the error stack pointer ERR_SP to
     511.  00:234F                                                ; the base of the now empty machine stack.
     512.  00:234F  C3 19 04              JP UPPER
     513.  00:2352                        
     514.  00:2352                      CHECK_KEMPSTON:
     515.  00:2352  DB 1F                 IN A,(KEMPSTON_PORT)
     516.  00:2354                      ifdef DEBUG
     517.  00:2354                    ~   push AF
     518.  00:2354                    ~   call PRINT_HEX
     519.  00:2354                    ~   pop AF
     520.  00:2354                    ~ endif
     521.  00:2354  0E 00                 ld c,$00
     522.  00:2356  FE FF                 cp $FF	; no kempston i/f selected 
     523.  00:2358  C8                    ret z
     524.  00:2359  E6 1F                 AND $1F ; only the least 5 bits are interesting - active high
     525.  00:235B  B7                    OR A
     526.  00:235C  C8                    ret z	 ; no joy movement
     527.  00:235D                        /* FUDLR */
     528.  00:235D  0E 05                 ld c, KEY_RIGHT
     529.  00:235F  FE 01                 cp $01
     530.  00:2361  C8                    ret z
     531.  00:2362  0E 04                 ld c, KEY_LEFT
     532.  00:2364  FE 02                 cp $02
     533.  00:2366  C8                    ret z
     534.  00:2367  0E 03                 ld c, KEY_DOWN
     535.  00:2369  FE 04                 cp $04
     536.  00:236B  C8                    ret z
     537.  00:236C  0E 02                 ld c,KEY_UP
     538.  00:236E  FE 08                 cp $08
     539.  00:2370  C8                    ret z
     540.  00:2371  0E 06                 ld c,KEY_SELECT
     541.  00:2373  FE 10                 cp $10
     542.  00:2375  C8                    ret z
     543.  00:2376  0E 00                 ld c,$00	; multiple selection (diagonal movement or fire+direction), let's not react on that
     544.  00:2378  C9                    ret
     545.  00:2379                        
     546.  00:2379                      CHECK_56780:
     547.  00:2379  3A 25 40              ld a,(LAST_K)
     548.  00:237C  FE F7                 cp $F7
     549.  00:237E  28 1E                 jr z,KEY_LINE_A11
     550.  00:2380  FE EF                 cp $EF
     551.  00:2382  0E 00                 ld c, $00
     552.  00:2384  C0                    ret nz
     553.  00:2385  3A 26 40              ld a,(LAST_K + 1)
     554.  00:2388                        
     555.  00:2388  0E 03                 ld c,KEY_DOWN
     556.  00:238A  FE DF                 cp $DF
     557.  00:238C  C8                    ret z
     558.  00:238D                        
     559.  00:238D  0E 02                 ld c,KEY_UP
     560.  00:238F  FE EF                 cp $EF
     561.  00:2391  C8                    ret z
     562.  00:2392                      
     563.  00:2392  0E 05                 ld c,KEY_RIGHT
     564.  00:2394  FE F7                 cp $F7
     565.  00:2396  C8                    ret z
     566.  00:2397                      
     567.  00:2397  0E 06                 ld c,KEY_SELECT
     568.  00:2399  FE FD                 cp $FD
     569.  00:239B  C8                    ret z
     570.  00:239C                        
     571.  00:239C  18 0D                 jr NO_KEY_FOUND
     572.  00:239E                      KEY_LINE_A11:
     573.  00:239E  3A 26 40              ld a,(LAST_K + 1)
     574.  00:23A1                        
     575.  00:23A1  0E 04                 ld c,KEY_LEFT
     576.  00:23A3  FE DF                 cp $DF
     577.  00:23A5  C8                    ret z
     578.  00:23A6                        
     579.  00:23A6  0E 01                 ld c,KEY_1
     580.  00:23A8  FE FD                 cp $FD
     581.  00:23AA  C8                    ret z
     582.  00:23AB                      
     583.  00:23AB                      NO_KEY_FOUND:
     584.  00:23AB  0E 00                 ld c,$00
     585.  00:23AD  C9                    ret
     586.  00:23AE                        
     587.  00:23AE                      SET_VARIABLES_FROM_DIRHEADER:
     588.  00:23AE  21 2E 7A              ld hl, CURRENT_DIR_FADDR
     589.  00:23B1  7E                    ld a, (hl)
     590.  00:23B2  23                    inc hl
     591.  00:23B3  66                    ld h, (hl)
     592.  00:23B4  6F                    ld l, a
     593.  00:23B5  3A 30 7A              ld a,(CURRENT_DIR_FADDR+2)
     594.  00:23B8  57                    ld d,a
     595.  00:23B9                      HIGH_BYTE_OK:
     596.  00:23B9  CD D1 27              CALL SPI_START
     597.  00:23BC  CD 1A 28              call W25Q_INITIATE_READ_DATA
     598.  00:23BF  CD D4 23              call CHECK_DIRHEADER
     599.  00:23C2  CD 32 28              call W25Q_READ_DATA
     600.  00:23C5  5F                    ld e,a
     601.  00:23C6  CD 32 28              call W25Q_READ_DATA
     602.  00:23C9  57                    ld d,a
     603.  00:23CA  21 03 7A              ld hl,NUM_OF_ENTRIES
     604.  00:23CD  73                    ld (hl), e
     605.  00:23CE  23                    inc hl
     606.  00:23CF  72                    ld (hl), d
     607.  00:23D0  CD D9 27              call SPI_STOP
     608.  00:23D3  C9                    ret
     609.  00:23D4                      
     610.  00:23D4                      CHECK_DIRHEADER:
     611.  00:23D4  06 10                 ld b, $10
     612.  00:23D6  21 41 24              ld hl, HEADER_STR
     613.  00:23D9                      .read_header_loop
     614.  00:23D9  CD 32 28              call W25Q_READ_DATA
     615.  00:23DC  BE                    cp (hl)
     616.  00:23DD  20 04                 jr nz, .invalid_header_found
     617.  00:23DF  23                    inc hl
     618.  00:23E0  10 F7                 djnz .read_header_loop
     619.  00:23E2  C9                    ret
     620.  00:23E3                      .invalid_header_found
     621.  00:23E3  CD 05 24              call .clear_menu_area
     622.  00:23E6                      .blink_loop
     623.  00:23E6  CD 1A 24              call .print_no_flash_content
     624.  00:23E9  3E 0D                 ld a, (1<<SPI_CS) + (1<<SD_SPI_CS) + (1<<SPI_DI)
     625.  00:23EB  D3 3F                 out (CTRL_PORT), A
     626.  00:23ED  CD FC 23              call .some_delay
     627.  00:23F0  CD 05 24              call .clear_menu_area
     628.  00:23F3  3E 0F                 ld a, (1<<SPI_CS) + (1<<SD_SPI_CS) + (1<<SPI_DI) + (1<<SPI_CLK)
     629.  00:23F5  D3 3F                 out (CTRL_PORT), A
     630.  00:23F7  CD FC 23              call .some_delay
     631.  00:23FA  18 EA                 jr .blink_loop
     632.  00:23FC                      .some_delay
     633.  00:23FC  21 00 20              ld hl, $2000
     634.  00:23FF                      .wait_loop_1
     635.  00:23FF  2B                    dec hl
     636.  00:2400  7C                    ld a, h
     637.  00:2401  B5                    or l
     638.  00:2402  20 FB                 jr nz, .wait_loop_1
     639.  00:2404  C9                    ret
     640.  00:2405                      .clear_menu_area
     641.  00:2405  2A 0C 40              ld hl, (D_FILE)
     642.  00:2408  11 85 00              ld de, 4*33 + 1
     643.  00:240B  AF                    xor a
     644.  00:240C  19                    add hl, de
     645.  00:240D  06 10                 ld b, 16
     646.  00:240F                      .print_next_line_loop
     647.  00:240F  0E 20                 ld c, 32
     648.  00:2411                      .print_one_line_loop
     649.  00:2411  77                    ld (hl), a
     650.  00:2412  23                    inc hl
     651.  00:2413  0D                    dec C
     652.  00:2414  20 FB                 jr nz, .print_one_line_loop
     653.  00:2416  23                    inc hl
     654.  00:2417  10 F6                 djnz .print_next_line_loop
     655.  00:2419  C9                    ret
     656.  00:241A                      .print_no_flash_content
     657.  00:241A  21 24 24              ld hl, NO_FLASH_FOUND_STR
     658.  00:241D  01 02 0A              ld bc, 10:2
     659.  00:2420  CD C2 25              call OWN_PRINT_AT
     660.  00:2423  C9                    ret
     661.  00:2424                        
     662.  00:2424                      NO_FLASH_FOUND_STR:
     663.  00:2424                      
     664.  00:2424                        db _N, _O, __, _V, _A, _L, _I, _D, __, _F, _L, _A, _S, _H, __, _C, _O, _N, _T, _E, _N, _T, __, _F, _O, _U, _N, _D, $FF
     664.  00:2424  33 34 00 3B 26 31 2E 29 00 2B 31 26 38 2D 00 28 
     664.  00:2434  34 33 39 2A 33 39 00 2B 34 3A 33 29 FF 
     665.  00:2441                        
     666.  00:2441                      HEADER_STR:
     667.  00:2441                        db "ZX81-FlashHeader"
     667.  00:2441  5A 58 38 31 2D 46 6C 61 73 68 48 65 61 64 65 72 
     668.  00:2451                      INIT_VARIABLES:
     669.  00:2451  AF                    xor a
     670.  00:2452  32 00 7A              ld (WINDOW_POS), A
     671.  00:2455  32 01 7A              ld (WINDOW_POS+1), A
     672.  00:2458  32 02 7A              ld (SELECTED_LINE), A
     673.  00:245B  32 2E 7A              ld (CURRENT_DIR_FADDR), A
     674.  00:245E  32 2F 7A              ld (CURRENT_DIR_FADDR+1), A
     675.  00:2461  32 30 7A              ld (CURRENT_DIR_FADDR+2), A
     676.  00:2464  3D                    dec a
     677.  00:2465  32 2A 7A              ld (LAST_PRESSED_KEY), A
     678.  00:2468  C9                    ret
     679.  00:2469                        
     680.  00:2469                      PRINT_FULL_BOX:
     681.  00:2469  06 00                 ld b,0
     682.  00:246B  0E 10                 ld c,WINDOW_HEIGHT
     683.  00:246D  CD 71 24              call PRINT_ENTRIES
     684.  00:2470                        
     685.  00:2470  C9                    ret
     686.  00:2471                      
     687.  00:2471                      PRINT_ENTRIES:
     688.  00:2471                      ; let's check first if there are entries to display
     689.  00:2471  2A 03 7A              ld hl, (NUM_OF_ENTRIES)
     690.  00:2474  EB                    ex de, hl
     691.  00:2475  2A 00 7A              ld hl,(WINDOW_POS)
     692.  00:2478  AF                    xor a
     693.  00:2479  ED 52                 sbc hl, de
     694.  00:247B  D0                    ret nc	; no, there is nothing to display (window_pos must be < num of entries)
     695.  00:247C  78                    ld a,b
     696.  00:247D  32 05 7A              ld (CURR_LINE), a ; what line are we displaying
     697.  00:2480  CD 94 25              CALL SET_ENTRY_ADDR
     698.  00:2483                      ; let's position the flash to the entries
     699.  00:2483  2A 00 7A              ld hl,(WINDOW_POS)
     700.  00:2486  58                    ld e,b
     701.  00:2487  16 00                 ld d,0
     702.  00:2489  19                    add hl,de
     703.  00:248A  23                    inc hl ; 32 bytes for the flash header
     704.  00:248B  06 05                 ld b,5
     705.  00:248D                      LOOP_MUL_32:
     706.  00:248D  CB 25                 SLA L
     707.  00:248F  CB 14                 RL H
     708.  00:2491  CB 12                 RL D
     709.  00:2493  10 F8                 DJNZ LOOP_MUL_32
     710.  00:2495  D5                    push de
     711.  00:2496  E5                    push hl
     712.  00:2497  21 2E 7A              ld hl, CURRENT_DIR_FADDR
     713.  00:249A  5E                    ld e,(hl)
     714.  00:249B  23                    inc hl
     715.  00:249C  56                    ld d, (hl)
     716.  00:249D  23                    inc hl
     717.  00:249E  7E                    ld a, (hl)
     718.  00:249F  E1                    pop hl
     719.  00:24A0  19                    add hl,de
     720.  00:24A1  D1                    pop de
     721.  00:24A2  8A                    adc d
     722.  00:24A3  57                    ld d,a  
     723.  00:24A4  CD D1 27              CALL SPI_START
     724.  00:24A7  CD 1A 28              call W25Q_INITIATE_READ_DATA
     725.  00:24AA                      
     726.  00:24AA                      ; let's set the line start addr
     727.  00:24AA  CD 34 25              call SET_CURR_LINE_ADDR
     728.  00:24AD                        
     729.  00:24AD                      LOOP_PRINT_ENTRIES:
     730.  00:24AD                      ; let's check if this is still a displayable line
     731.  00:24AD  2A 00 7A              ld hl,(WINDOW_POS)
     732.  00:24B0  3A 05 7A              ld a,(CURR_LINE)
     733.  00:24B3  5F                    ld e,a
     734.  00:24B4  16 00                 ld d,0
     735.  00:24B6  19                    add hl,de
     736.  00:24B7  EB                    ex de, hl
     737.  00:24B8  2A 03 7A              ld hl,(NUM_OF_ENTRIES)
     738.  00:24BB  EB                    ex de,hl
     739.  00:24BC  AF                    xor a
     740.  00:24BD  ED 52                 sbc hl,de
     741.  00:24BF  30 28                 jr nc, CLEAN_REMAINING_SCREEN
     742.  00:24C1                      
     743.  00:24C1  CD 87 25              CALL READ_ONE_ENTRY
     744.  00:24C4  CD B3 25              CALL COPY_ENTRY
     745.  00:24C7  CD 03 25              CALL PRINT_ENTRY
     746.  00:24CA                        
     747.  00:24CA                      ; inc curr_line and curr_line_addr  
     748.  00:24CA  21 05 7A              ld hl,CURR_LINE
     749.  00:24CD  34                    inc (hl)
     750.  00:24CE  11 21 00              ld de,33
     751.  00:24D1  2A 06 7A              ld hl,(CURR_LINE_ADDR)
     752.  00:24D4  19                    add hl,de
     753.  00:24D5  22 06 7A              ld (CURR_LINE_ADDR), hl
     754.  00:24D8                        
     755.  00:24D8  2A 2C 7A              ld hl,(CURR_ENTRY_ADDR)
     756.  00:24DB  11 20 00              ld de,$20
     757.  00:24DE  19                    add hl,de
     758.  00:24DF  22 2C 7A              ld (CURR_ENTRY_ADDR), hl
     759.  00:24E2                        
     760.  00:24E2  0D                    dec c
     761.  00:24E3  20 C8                 jr nz, LOOP_PRINT_ENTRIES
     762.  00:24E5                      EXIT_PE_LOOP:
     763.  00:24E5  CD D9 27              CALL SPI_STOP
     764.  00:24E8  C9                    ret
     765.  00:24E9                      CLEAN_REMAINING_SCREEN:
     766.  00:24E9  CD 34 25              call SET_CURR_LINE_ADDR
     767.  00:24EC  C5                    push bc
     768.  00:24ED  01 1E 00              ld bc, 30
     769.  00:24F0  AF                    xor a
     770.  00:24F1  2A 06 7A              ld hl, (CURR_LINE_ADDR)
     771.  00:24F4  54                    ld d, h
     772.  00:24F5  5D                    ld e, l
     773.  00:24F6  13                    inc de
     774.  00:24F7  ED B0                 ldir
     775.  00:24F9  C1                    pop bc
     776.  00:24FA  21 05 7A              ld hl, CURR_LINE
     777.  00:24FD  34                    inc (hl)
     778.  00:24FE  0D                    dec C
     779.  00:24FF  20 E8                 jr nz, CLEAN_REMAINING_SCREEN
     780.  00:2501  18 E2                 jr EXIT_PE_LOOP
     781.  00:2503                      
     782.  00:2503                      ; Prints one line - one entry from the flash
     783.  00:2503                      PRINT_ENTRY:
     784.  00:2503  C5                    push bc
     785.  00:2504  2A 06 7A              ld hl,(CURR_LINE_ADDR)
     786.  00:2507  AF                    xor a
     787.  00:2508  77                    ld (hl), a
     788.  00:2509  23                    inc hl
     789.  00:250A  11 10 7A              ld de,TEMP_AREA + 6
     790.  00:250D  EB                    ex de,hl
     791.  00:250E  06 16                 ld b,22
     792.  00:2510                      PE_LOOP_FNAME_PRINT:
     793.  00:2510  7E                    ld a,(hl)
     794.  00:2511  FE FF                 cp $ff
     795.  00:2513  28 05                 jr z,FILE_NAME_DONE
     796.  00:2515  12                    ld (de),a
     797.  00:2516  23                    inc hl
     798.  00:2517  13                    inc de
     799.  00:2518  10 F6                 DJNZ PE_LOOP_FNAME_PRINT
     800.  00:251A                      FILE_NAME_DONE:
     801.  00:251A  AF                    xor a
     802.  00:251B  B0                    or b
     803.  00:251C  28 05                 jr z,FILE_NAME_FIELD_DONE
     804.  00:251E  AF                    xor a
     805.  00:251F                      FILE_NAME_FIELD_FILL_LOOP:
     806.  00:251F  12                    ld (de),a
     807.  00:2520  13                    inc de
     808.  00:2521  10 FC                 djnz FILE_NAME_FIELD_FILL_LOOP
     809.  00:2523                      FILE_NAME_FIELD_DONE:
     810.  00:2523  CD 4C 25              CALL PRINT_SIZE
     811.  00:2526                      ; clear selection from the end of the line
     812.  00:2526  2A 06 7A              ld hl,(CURR_LINE_ADDR)
     813.  00:2529  11 1F 00              ld de,31
     814.  00:252C  19                    add hl,de
     815.  00:252D  AF                    xor a
     816.  00:252E  77                    ld (hl),a
     817.  00:252F                      
     818.  00:252F  CD 71 25              CALL PRINT_SELECTION
     819.  00:2532                        
     820.  00:2532  C1                    pop bc
     821.  00:2533  C9                    ret
     822.  00:2534                      
     823.  00:2534                      SET_CURR_LINE_ADDR:
     824.  00:2534  2A 0C 40              ld hl,(D_FILE)
     825.  00:2537  11 85 00              ld de,1 + 33*4	; skip the first HALT and 4 lines (32 chars + HALT)
     826.  00:253A  19                    add hl,de
     827.  00:253B  3A 05 7A              ld a,(CURR_LINE)
     828.  00:253E  B7                    or a
     829.  00:253F  28 07                 jr z,PES_LINE_ADDR_SET
     830.  00:2541  47                    ld b,a
     831.  00:2542  11 21 00              ld de,33
     832.  00:2545                      PES_MUL_WITH_33:
     833.  00:2545  19                    add hl,de
     834.  00:2546  10 FD                 djnz PES_MUL_WITH_33
     835.  00:2548                      PES_LINE_ADDR_SET:
     836.  00:2548  22 06 7A              ld (CURR_LINE_ADDR), hl
     837.  00:254B  C9                    ret
     838.  00:254C                      
     839.  00:254C                      PRINT_SIZE:
     840.  00:254C  2A 06 7A              ld hl,(CURR_LINE_ADDR)
     841.  00:254F  11 19 00              ld de,25
     842.  00:2552  19                    add hl,de
     843.  00:2553  22 08 7A              ld (CURR_NUM_ADDR), HL
     844.  00:2556  3A 0A 7A              ld a,(TEMP_AREA)
     845.  00:2559  FE 01                 cp $01 ; file
     846.  00:255B  28 0D                 jr z,PRINT_FILE_SIZE
     847.  00:255D  EB                    ex de, hl
     848.  00:255E  21 AD 27              ld hl, DIR_TYPE_STR
     849.  00:2561  06 05                 ld b,5
     850.  00:2563                      PRINT_DIR_TYPE_LOOP:
     851.  00:2563  7E                    ld a,(hl)
     852.  00:2564  12                    ld (de), a
     853.  00:2565  23                    inc hl
     854.  00:2566  13                    inc de
     855.  00:2567  10 FA                 djnz PRINT_DIR_TYPE_LOOP
     856.  00:2569  C9                    ret
     857.  00:256A                      PRINT_FILE_SIZE:
     858.  00:256A  2A 0B 7A              ld hl,(TEMP_AREA + 1)
     859.  00:256D  CD 8C 26              call PRINT_DEC
     860.  00:2570  C9                    ret
     861.  00:2571                        
     862.  00:2571                      PRINT_SELECTION:
     863.  00:2571  3A 05 7A              ld a,(CURR_LINE)
     864.  00:2574  21 02 7A              ld hl,SELECTED_LINE
     865.  00:2577  BE                    cp (hl)
     866.  00:2578  C0                    ret nz
     867.  00:2579  2A 06 7A              ld hl,(CURR_LINE_ADDR)
     868.  00:257C  3E 12                 ld a,_GT
     869.  00:257E  77                    ld (hl), a
     870.  00:257F  11 1F 00              ld de, 31
     871.  00:2582  19                    add hl,de
     872.  00:2583  3E 13                 ld a,_LT
     873.  00:2585  77                    ld (hl), a
     874.  00:2586  C9                    ret
     875.  00:2587                      
     876.  00:2587                      READ_ONE_ENTRY:
     877.  00:2587  21 0A 7A              ld hl,TEMP_AREA
     878.  00:258A  06 20                 ld b,$20
     879.  00:258C                      LOOP_READ_ONE_ENTRY
     880.  00:258C  CD 32 28              call W25Q_READ_DATA
     881.  00:258F  77                    ld (hl),a
     882.  00:2590  23                    inc hl
     883.  00:2591  10 F9                 djnz LOOP_READ_ONE_ENTRY
     884.  00:2593  C9                    ret
     885.  00:2594                      
     886.  00:2594                      SET_ENTRY_ADDR:
     887.  00:2594  68                    ld l,b
     888.  00:2595  26 00                 ld h,0
     889.  00:2597  CB 25                 sla l
     890.  00:2599  CB 14                 rl h
     891.  00:259B  CB 25                 sla l
     892.  00:259D  CB 14                 rl h
     893.  00:259F  CB 25                 sla l
     894.  00:25A1  CB 14                 rl h
     895.  00:25A3  CB 25                 sla l
     896.  00:25A5  CB 14                 rl h
     897.  00:25A7  CB 25                 sla l
     898.  00:25A9  CB 14                 rl h
     899.  00:25AB  11 00 B0              ld de,ON_SCREEN_ENTRIES
     900.  00:25AE  19                    add hl,de
     901.  00:25AF  22 2C 7A              ld (CURR_ENTRY_ADDR), hl
     902.  00:25B2  C9                    ret
     903.  00:25B3                      
     904.  00:25B3                      COPY_ENTRY:
     905.  00:25B3  C5                    push bc
     906.  00:25B4  21 0A 7A              ld hl, TEMP_AREA
     907.  00:25B7  ED 5B 2C 7A           ld de, (CURR_ENTRY_ADDR)
     908.  00:25BB  01 20 00              ld bc,$20
     909.  00:25BE  ED B0                 ldir
     910.  00:25C0  C1                    pop bc
     911.  00:25C1  C9                    ret
     912.  00:25C2                      
     913.  00:25C2                      ; B - row pos, starting with 0
     914.  00:25C2                      ; C - col pos, starting with 0
     915.  00:25C2                      ; HL - pointer to $FF terminated string
     916.  00:25C2                      
     917.  00:25C2                      OWN_PRINT_AT:
     918.  00:25C2  E5                    push HL
     919.  00:25C3  2A 0C 40              ld hl,(D_FILE)
     920.  00:25C6  16 00                 ld d,0
     921.  00:25C8  23                    inc hl ; let's skip the first $76
     922.  00:25C9  AF                    xor a
     923.  00:25CA  B0                    or b
     924.  00:25CB  28 05                 jr z,LINE_ADDR_OK
     925.  00:25CD  1E 21                 ld e,33 ; 32 chars + NL
     926.  00:25CF                      ADD_LINE_NUM
     927.  00:25CF  19                    add hl,de
     928.  00:25D0  10 FD                 djnz ADD_LINE_NUM
     929.  00:25D2                      LINE_ADDR_OK:
     930.  00:25D2  59                    ld e,c
     931.  00:25D3  19                    add hl,de
     932.  00:25D4  D1                    pop de
     933.  00:25D5                      .OWN_PRINT_CHAR:
     934.  00:25D5  1A                    ld a,(de)
     935.  00:25D6  FE FF                 cp $FF
     936.  00:25D8  C8                    ret z
     937.  00:25D9  77                    ld (hl),a
     938.  00:25DA  23                    inc hl
     939.  00:25DB  13                    inc de
     940.  00:25DC  18 F7                 jr .OWN_PRINT_CHAR
     941.  00:25DE                        
     942.  00:25DE                      GET_FLASH_SIZE:
     943.  00:25DE  CD D1 27              CALL SPI_START
     944.  00:25E1  CD 3B 28              CALL W25Q_READ_JEDEC
     945.  00:25E4  CD D9 27              CALL SPI_STOP  
     946.  00:25E7  3E EF                 ld a,$EF
     947.  00:25E9  BA                    cp D
     948.  00:25EA  20 13                 jr nz, UNKNOWN_FLASH_CHIP
     949.  00:25EC  3E 40                 ld a,$40
     950.  00:25EE  BC                    cp H
     951.  00:25EF  20 0E                 jr nz, UNKNOWN_FLASH_CHIP
     952.  00:25F1  3E 14                 ld a,$14
     953.  00:25F3  BD                    cp L
     954.  00:25F4  30 09                 jr nc, UNKNOWN_FLASH_CHIP
     955.  00:25F6  3E 18                 ld a,$18
     956.  00:25F8  BD                    cp L
     957.  00:25F9  38 04                 jr c, UNKNOWN_FLASH_CHIP
     958.  00:25FB  7D                    ld a,l
     959.  00:25FC  D6 14                 sub $14
     960.  00:25FE  C9                    ret
     961.  00:25FF                        
     962.  00:25FF                      UNKNOWN_FLASH_CHIP:
     963.  00:25FF  AF                    xor a
     964.  00:2600  C9                    ret
     965.  00:2601                      
     966.  00:2601                      DRAW_SCREEN:
     967.  00:2601                      
     968.  00:2601  06 00                 ld b,0
     969.  00:2603  0E 00                 ld c,0
     970.  00:2605  21 F4 26              ld hl, SCREEN_HEADER1_STR
     971.  00:2608  CD C2 25              call OWN_PRINT_AT 
     972.  00:260B                      
     973.  00:260B  06 01                 ld b,1
     974.  00:260D  0E 0A                 ld c,10
     975.  00:260F  21 15 27              ld hl, SCREEN_HEADER2_STR
     976.  00:2612  CD C2 25              call OWN_PRINT_AT
     977.  00:2615                      
     978.  00:2615  06 01                 ld b,1
     979.  00:2617  0E 15                 ld c,21
     980.  00:2619  CD F5 08              call PRINT_AT
     981.  00:261C  3E 1D                 ld a,VERSION_MAJOR + _0
     982.  00:261E  D7                    RST $10
     983.  00:261F                        
     984.  00:261F  06 01                 ld b,1
     985.  00:2621  0E 17                 ld c,23
     986.  00:2623  CD F5 08              call PRINT_AT
     987.  00:2626  3E 1C                 ld a,(VERSION_MINOR/10) + _0
     988.  00:2628  D7                    RST $10
     989.  00:2629                        
     990.  00:2629  06 01                 ld b,1
     991.  00:262B  0E 18                 ld c,24
     992.  00:262D  CD F5 08              call PRINT_AT
     993.  00:2630  3E 1F                 ld a,(VERSION_MINOR % 10) + _0
     994.  00:2632  D7                    RST $10
     995.  00:2633                      
     996.  00:2633  06 03                 ld b,3
     997.  00:2635  0E 01                 ld c,1
     998.  00:2637  21 2B 27              ld hl, TABLE_HEADER_STR
     999.  00:263A  CD C2 25              call OWN_PRINT_AT
    1000.  00:263D                      
    1001.  00:263D  06 14                 ld b,20
    1002.  00:263F  0E 01                 ld c,1
    1003.  00:2641  CD F5 08              call PRINT_AT
    1004.  00:2644  06 1E                 ld b,30
    1005.  00:2646                      LOOP_TABLE_END_LINE:
    1006.  00:2646  3E 16                 ld a,_DASH
    1007.  00:2648  D7                    RST $10
    1008.  00:2649  10 FB                 DJNZ LOOP_TABLE_END_LINE
    1009.  00:264B                        
    1010.  00:264B  06 15                 ld b,21
    1011.  00:264D  0E 00                 ld c,0
    1012.  00:264F  21 4A 27              ld hl, SCREEN_FOOTER1_STR
    1013.  00:2652  CD C2 25              call OWN_PRINT_AT
    1014.  00:2655                      
    1015.  00:2655  06 16                 ld b,22
    1016.  00:2657  0E 00                 ld c,0
    1017.  00:2659  21 6B 27              ld hl, SCREEN_FOOTER2_STR
    1018.  00:265C  CD C2 25              call OWN_PRINT_AT
    1019.  00:265F                        
    1020.  00:265F  06 17                 ld b,23
    1021.  00:2661  0E 00                 ld c,0
    1022.  00:2663  21 8C 27              ld hl, SCREEN_FOOTER3_STR
    1023.  00:2666  CD C2 25              call OWN_PRINT_AT
    1024.  00:2669  C9                    ret
    1025.  00:266A                      
    1026.  00:266A                      PRINT_FLASH_SIZE
    1027.  00:266A  06 17                 ld b, 23
    1028.  00:266C  0E 11                 ld c, 17
    1029.  00:266E  21 9D 27              ld hl, SCREEN_FOOTER3_FLASH_STR
    1030.  00:2671  CD C2 25              call OWN_PRINT_AT
    1031.  00:2674  CD DE 25              call GET_FLASH_SIZE
    1032.  00:2677  CB 27                 SLA A
    1033.  00:2679  5F                    ld e,a
    1034.  00:267A  16 00                 ld d,0
    1035.  00:267C  21 C7 27              ld hl,FLASH_SIZE_VECTOR
    1036.  00:267F  19                    add hl,de
    1037.  00:2680  5E                    ld e,(hl)
    1038.  00:2681  23                    inc hl
    1039.  00:2682  56                    ld d,(hl)
    1040.  00:2683  EB                    ex de,hl
    1041.  00:2684  06 17                 ld b,23
    1042.  00:2686  0E 1B                 ld c,27
    1043.  00:2688  CD C2 25              call OWN_PRINT_AT
    1044.  00:268B  C9                    ret
    1045.  00:268C                      
    1046.  00:268C                      ;Number in hl to decimal ASCII
    1047.  00:268C                      ;Thanks to z80 Bits
    1048.  00:268C                      ;inputs:	hl = number to ASCII
    1049.  00:268C                      ;example: hl=300 outputs "00300"
    1050.  00:268C                      PRINT_DEC:
    1051.  00:268C  E5                              PUSH    hl 
    1052.  00:268D  AF                              XOR     a
    1053.  00:268E  01 10 27                        LD      bc,10000 
    1054.  00:2691  ED 42                           SBC     HL,BC 
    1055.  00:2693                      			
    1056.  00:2693  E1                              POP     HL 
    1057.  00:2694  30 2C                           JR      nc,PRINT_DEC_5
    1058.  00:2696  CD E9 26            			call    PRINT_ONE_CHARACTER
    1059.  00:2699  E5                              PUSH    hl 
    1060.  00:269A  AF                              XOR     a
    1061.  00:269B  01 E8 03                        LD      bc,1000 
    1062.  00:269E  ED 42                           SBC     HL,BC 
    1063.  00:26A0  E1                              POP     HL 
    1064.  00:26A1  30 25                           JR      nc,PRINT_DEC_4 
    1065.  00:26A3  CD E9 26            			call    PRINT_ONE_CHARACTER
    1066.  00:26A6  E5                              PUSH    hl 
    1067.  00:26A7  AF                              XOR     a
    1068.  00:26A8  01 64 00                        LD      bc,100 
    1069.  00:26AB  ED 42                           SBC     HL,BC 
    1070.  00:26AD  E1                              POP     HL 
    1071.  00:26AE  30 1E                           JR      nc,PRINT_DEC_3
    1072.  00:26B0  CD E9 26            			call    PRINT_ONE_CHARACTER
    1073.  00:26B3  E5                              PUSH    hl 
    1074.  00:26B4  AF                              XOR     a
    1075.  00:26B5  01 0A 00                        LD      bc,10 
    1076.  00:26B8  ED 42                           SBC     HL,BC 
    1077.  00:26BA  E1                              POP     HL 
    1078.  00:26BB  30 17                           JR      nc,PRINT_DEC_2 
    1079.  00:26BD  CD E9 26            			call    PRINT_ONE_CHARACTER
    1080.  00:26C0  18 18                           JR      PRINT_DEC_1 
    1081.  00:26C2                      
    1082.  00:26C2                      PRINT_DEC_5:    
    1083.  00:26C2  01 F0 D8                        LD      bc,$D8F0 ; -10000
    1084.  00:26C5  CD DD 26                        CALL    NUM1 
    1085.  00:26C8                      PRINT_DEC_4:    
    1086.  00:26C8  01 18 FC                        LD      bc,$FC18 ; -1000
    1087.  00:26CB  CD DD 26                        CALL    NUM1
    1088.  00:26CE                      PRINT_DEC_3:    
    1089.  00:26CE  01 9C FF                        LD      bc,-100 
    1090.  00:26D1  CD DD 26                        CALL    NUM1 
    1091.  00:26D4                      PRINT_DEC_2:    
    1092.  00:26D4  01 F6 FF                        LD      bc,-10 
    1093.  00:26D7  CD DD 26                        CALL    NUM1 
    1094.  00:26DA                      PRINT_DEC_1:    
    1095.  00:26DA  01 FF FF                        LD      bc,-1 
    1096.  00:26DD                      NUM1:                
    1097.  00:26DD  3E 1B                           LD      a,_0 - 1
    1098.  00:26DF                      NUM2:                
    1099.  00:26DF  3C                              INC     a 
    1100.  00:26E0  09                              ADD     hl,bc 
    1101.  00:26E1  38 FC                           JR      c,NUM2 
    1102.  00:26E3  ED 42                           SBC     hl,bc 
    1103.  00:26E5  CD E9 26            			call 	PRINT_ONE_CHARACTER
    1104.  00:26E8  C9                              RET
    1105.  00:26E9                      
    1106.  00:26E9                      PRINT_ONE_CHARACTER:
    1107.  00:26E9  E5                  	push hl
    1108.  00:26EA  2A 08 7A            	ld hl, (CURR_NUM_ADDR)
    1109.  00:26ED  77                  	ld (hl), a
    1110.  00:26EE  23                  	inc hl
    1111.  00:26EF  22 08 7A            	ld (CURR_NUM_ADDR), hl
    1112.  00:26F2  E1                  	pop hl
    1113.  00:26F3  C9                  	ret
    1114.  00:26F4                      
    1115.  00:26F4                      
    1116.  00:26F4                      
    1117.  00:26F4                      SCREEN_HEADER1_STR:
    1118.  00:26F4                      ;  DB _Z, _X, _8, _1, __, __, _F, _L, _A, _S, _H, _PLUS, _J, _O, _Y, __, _E, _X, _P, _A, _N, _S, _I, _O, _N, __, _C, _A, _R, _T, $FF
    1119.  00:26F4                        DB _Z, _X, _8, _1, __, _F, _L, _A, _S, _H, _PLUS, _S, _D, _PLUS, _J, _O, _Y, __, _E, _X, _P, _A, _N, _S, _I, _O, _N, __, _C, _A, _R, _T, $FF
    1119.  00:26F4  3F 3D 24 1D 00 2B 31 26 38 2D 15 38 29 15 2F 34 
    1119.  00:2704  3E 00 2A 3D 35 26 33 38 2E 34 33 00 28 26 37 39 
    1119.  00:2714  FF 
    1120.  00:2715                      SCREEN_HEADER2_STR:
    1121.  00:2715                        DB _B, _Y, __, _S, _A, _N, _Y, _I, _COMMA, __, _V, _X, _PERIOD, _X, _X, _COMMA, __, _2, _0, _2, _4, $FF
    1121.  00:2715  27 3E 00 38 26 33 3E 2E 1A 00 3B 3D 1B 3D 3D 1A 
    1121.  00:2725  00 1E 1C 1E 20 FF 
    1122.  00:272B                      
    1123.  00:272B                      TABLE_HEADER_STR:
    1124.  00:272B                        DB _DASH, _DASH, _DASH, _DASH, _DASH, _DASH, _DASH, _DASH, _EQUAL, _N, _A, _M, _E, _EQUAL, _DASH, _DASH, _DASH, _DASH, _DASH, _DASH, _DASH, _PLUS, _DASH, _EQUAL, _S, _I, _Z, _E, _EQUAL, _DASH, $FF
    1124.  00:272B  16 16 16 16 16 16 16 16 14 33 26 32 2A 14 16 16 
    1124.  00:273B  16 16 16 16 16 15 16 14 38 2E 3F 2A 14 16 FF 
    1125.  00:274A                       
    1126.  00:274A                      SCREEN_FOOTER1_STR:
    1127.  00:274A                        DB _U, _S, _E, __, _J, _O, _Y, __, _O, _R, __, _5, _6, _7, _8, _0, __, __, _T, _O, __, _L, _O, _A, _D, __, _A, __, _F, _I, _L, _E, $FF
    1127.  00:274A  3A 38 2A 00 2F 34 3E 00 34 37 00 21 22 23 24 1C 
    1127.  00:275A  00 00 39 34 00 31 34 26 29 00 26 00 2B 2E 31 2A 
    1127.  00:276A  FF 
    1128.  00:276B                      SCREEN_FOOTER2_STR:
    1129.  00:276B                        DB _L, _R, _DASH, _P, _A, _G, _E, __, _U, _P, _SLASH, _D, _N, _COMMA, __, _U, _D, _DASH, _M, _O, _V, _E, __, _S, _E, _L, _E, _C, _T, _I, _O, _N, $FF
    1129.  00:276B  31 37 16 35 26 2C 2A 00 3A 35 18 29 33 1A 00 3A 
    1129.  00:277B  29 16 32 34 3B 2A 00 38 2A 31 2A 28 39 2E 34 33 
    1129.  00:278B  FF 
    1130.  00:278C                      SCREEN_FOOTER3_STR:
    1131.  00:278C                        DB _P, _R, _E, _S, _S, __, _1, __, _T, _O, __, _B, _A, _S, _I, _C, $FF
    1131.  00:278C  35 37 2A 38 38 00 1D 00 39 34 00 27 26 38 2E 28 
    1131.  00:279C  FF 
    1132.  00:279D                      SCREEN_FOOTER3_FLASH_STR:
    1133.  00:279D                        DB __, __, __, __, _F, _L, _A, _S, _H, _COLON, __, __, __, _M, _B, $FF
    1133.  00:279D  00 00 00 00 2B 31 26 38 2D 0E 00 00 00 32 27 FF 
    1134.  00:27AD                        
    1135.  00:27AD                      DIR_TYPE_STR:
    1136.  00:27AD  13 29 2E 37 12 FF     DB _LT, _D, _I, _R, _GT, $FF
    1137.  00:27B3                        
    1138.  00:27B3                      FLASH_SIZE_NN:	; Unkown flash - unkown size
    1139.  00:27B3  0F 0F 00 FF           DB _QMARK, _QMARK, __, $FF
    1140.  00:27B7                      
    1141.  00:27B7                      FLASH_SIZE_2:	; $4015 - 2MB
    1142.  00:27B7  00 00 1E FF           DB __, __, _2, $FF
    1143.  00:27BB                        
    1144.  00:27BB                      FLASH_SIZE_4:	; $4016 - 4MB
    1145.  00:27BB  00 00 20 FF           DB __, __, _4, $FF
    1146.  00:27BF                      
    1147.  00:27BF                      FLASH_SIZE_8:	; $4017 - 8MB
    1148.  00:27BF  00 00 24 FF           DB __, __, _8, $FF
    1149.  00:27C3                        
    1150.  00:27C3                      FLASH_SIZE_16:	; $4018 - 16MB
    1151.  00:27C3  00 1D 22 FF           DB __, _1, _6, $FF
    1152.  00:27C7                        
    1153.  00:27C7                      FLASH_SIZE_VECTOR:
    1154.  00:27C7                        DW FLASH_SIZE_NN, FLASH_SIZE_2, FLASH_SIZE_4, FLASH_SIZE_8, FLASH_SIZE_16 
    1154.  00:27C7  B3 27 B7 27 BB 27 BF 27 C3 27 
    1155.  00:27D1                        
    1156.  00:27D1                      
    1157.  00:27D1                      ; 0|ZX81 FLASH+SD+JOY EXPANSION CART|
    1158.  00:27D1                      ;  |           BY SANYI, V1.00, 2023|
    1159.  00:27D1                      ;  |                                |
    1160.  00:27D1                      ;  | --------=NAME=-------+--SIZE-- |
    1161.  00:27D1                      ; 4| FIRST PROGRAM                2 |
    1162.  00:27D1                      ;  | SECOND PROGRAM              11 |
    1163.  00:27D1                      ;  | ---SEPARATOR LINE----          |
    1164.  00:27D1                      ;  |>VERYGOOD GAME                3<|
    1165.  00:27D1                      ;  | THIS IS ALSO A GOOD O        7 |
    1166.  00:27D1                      ; 9| NOT THAT GOOD                3 |
    1167.  00:27D1                      ;  |    .   .   .                   |
    1168.  00:27D1                      ;  |                                |
    1169.  00:27D1                      ;  |                                |
    1170.  00:27D1                      ;  |    .   .   .                   |
    1171.  00:27D1                      ;  |                                |
    1172.  00:27D1                      ;  |                                |
    1173.  00:27D1                      ;  |    .   .   .                   |
    1174.  00:27D1                      ;  |                                |
    1175.  00:27D1                      ;  |                                |
    1176.  00:27D1                      ;19| LASTGAME IN SCREEN           6 |
    1177.  00:27D1                      ;  | ------------------------------ |
    1178.  00:27D1                      ;  |USE JOY OR 56780 TO LOAD A FILE |
    1179.  00:27D1                      ;  |LR-PAGE UP/DN, UD-MOVE SELECTION|
    1180.  00:27D1                      ;23|PRESS 1 TO BASIC     FLASH:  8MB|
     109   00:27D1                        INCLUDE "W25Q.asm"
       1.  00:27D1  (00:0000)           SPI_CS    = 0
       2.  00:27D1  (00:0001)           SPI_CLK   = 1
       3.  00:27D1  (00:0002)           SPI_DI    = 2
       4.  00:27D1  (00:0003)           SD_SPI_CS = 3
       5.  00:27D1                      
       6.  00:27D1                      /*
       7.  00:27D1                    ~  * Starts the SPI communication by driving /CS to low (with clk low)
       8.  00:27D1                    ~  * REGS used: A
       9.  00:27D1                    ~  */ 
      10.  00:27D1                      SPI_START
      11.  00:27D1  3A FF BF              LD A,(CTRL_SHADOW)
      12.  00:27D4  E6 F8                 AND $F8
      13.  00:27D6  D3 3F                 OUT (CTRL_PORT), A
      14.  00:27D8  C9                    RET
      15.  00:27D9                      
      16.  00:27D9                      /*
      17.  00:27D9                    ~  * Stops the SPI communication by driving /CS to high (with clk low)
      18.  00:27D9                    ~  * REGS used: A
      19.  00:27D9                    ~  */ 
      20.  00:27D9                      SPI_STOP
      21.  00:27D9  3A FF BF              ld A,(CTRL_SHADOW)
      22.  00:27DC  E6 F8                 AND $F8
      23.  00:27DE  F6 01                 OR (1 << SPI_CS)
      24.  00:27E0  D3 3F                 OUT (CTRL_PORT), A
      25.  00:27E2  C9                    RET
      26.  00:27E3                      
      27.  00:27E3                      /**
      28.  00:27E3                    ~  *  Sending one byte to SPI (after SPI_START called), leaving CLK on low.
      29.  00:27E3                    ~  *  INPUT: A
      30.  00:27E3                    ~  *  REGS used: A,B,C
      31.  00:27E3                    ~  */
      32.  00:27E3                      SPI_SEND_BYTE
      33.  00:27E3  4F                    LD C,A
      34.  00:27E4  06 08                 LD B,8
      35.  00:27E6  3A FF BF              LD A,(CTRL_SHADOW)
      36.  00:27E9                      SSB_LOOP:
      37.  00:27E9  E6 C0                 AND $C0
      38.  00:27EB  CB 21                 SLA C
      39.  00:27ED  30 02                 jr nc,SSB_DATA_BIT_SET
      40.  00:27EF  F6 04                 OR (1<<SPI_DI)
      41.  00:27F1                      SSB_DATA_BIT_SET:
      42.  00:27F1  D3 3F                 OUT (CTRL_PORT),A
      43.  00:27F3  F6 02                 OR (1<<SPI_CLK)
      44.  00:27F5  D3 3F                 OUT (CTRL_PORT),A
      45.  00:27F7  10 F0                 DJNZ SSB_LOOP
      46.  00:27F9  E6 F9                 AND ~(1<<SPI_CLK | 1<<SPI_DI)
      47.  00:27FB  D3 3F                 OUT (CTRL_PORT),A
      48.  00:27FD  C9                    RET
      49.  00:27FE                      
      50.  00:27FE                      /**
      51.  00:27FE                    ~  *  Receiving one byte from SPI, assuming CLK is already driven low
      52.  00:27FE                    ~  *  OUTPUT: D
      53.  00:27FE                    ~  *  REGS used: A,B,C,D,E
      54.  00:27FE                    ~  */
      55.  00:27FE                      SPI_RECV_BYTE
      56.  00:27FE  16 00                 ld d,0
      57.  00:2800  06 08                 ld b,8
      58.  00:2802  0E 3F                 ld C,CTRL_PORT
      59.  00:2804  3A FF BF              ld A,(CTRL_SHADOW)
      60.  00:2807  E6 C0                 AND $C0
      61.  00:2809                      SRB_LOOP:
      62.  00:2809  ED 58                 IN E,(C) ; same data bit on bit5-bit0
      63.  00:280B  CB 1B                 RR E	; bit#0 -> Cy
      64.  00:280D  CB 12                 RL D  ; bit#6->bit#7, bit#5->bit#6, ..., bit#0->bit#1, Cy -> bit#0
      65.  00:280F  F6 02                 OR (1<<SPI_CLK) ; clk going up
      66.  00:2811  ED 79                 OUT (C),A
      67.  00:2813  E6 FD                 AND ~(1<<SPI_CLK) ; clk going down, next data bit on DOUT
      68.  00:2815  ED 79                 OUT (C),A
      69.  00:2817  10 F0                 DJNZ SRB_LOOP
      70.  00:2819  C9                    RET
      71.  00:281A                      
      72.  00:281A                      /**
      73.  00:281A                    ~  * Initiates the read data sequence by sending the 24 bit address. SPI_START must be called prior to this method
      74.  00:281A                    ~  * INPUT: DHL
      75.  00:281A                    ~  * REGS used: ADHL
      76.  00:281A                    ~  */
      77.  00:281A                      
      78.  00:281A                      W25Q_INITIATE_READ_DATA
      79.  00:281A  F5                    PUSH AF
      80.  00:281B  C5                    PUSH BC
      81.  00:281C  D5                    PUSH DE
      82.  00:281D  3E 03                 LD A,$03
      83.  00:281F  CD E3 27              CALL SPI_SEND_BYTE
      84.  00:2822  7A                    LD A,D
      85.  00:2823  CD E3 27              CALL SPI_SEND_BYTE
      86.  00:2826  7C                    LD A,H
      87.  00:2827  CD E3 27              CALL SPI_SEND_BYTE
      88.  00:282A  7D                    LD A,L
      89.  00:282B  CD E3 27              CALL SPI_SEND_BYTE
      90.  00:282E  D1                    POP DE
      91.  00:282F  C1                    POP BC
      92.  00:2830  F1                    POP AF
      93.  00:2831  C9                    RET
      94.  00:2832                      
      95.  00:2832                      /**
      96.  00:2832                    ~  * Reads one byte from the set address. This call simply calls to SPI_RECV_BYTE, but also retains the BC, DE registers
      97.  00:2832                    ~  * INPUT: -
      98.  00:2832                    ~  * OUTPUT: A
      99.  00:2832                    ~  * REGS used: -
     100.  00:2832                    ~  */
     101.  00:2832                      W25Q_READ_DATA
     102.  00:2832  C5                    PUSH BC
     103.  00:2833  D5                    PUSH DE
     104.  00:2834  CD FE 27              CALL SPI_RECV_BYTE
     105.  00:2837  7A                    LD A,D 
     106.  00:2838  D1                    pop DE
     107.  00:2839  C1                    POP BC
     108.  00:283A  C9                    RET
     109.  00:283B                        
     110.  00:283B                      /**
     111.  00:283B                    ~  * Reads the JEDEC info from the chip
     112.  00:283B                    ~  * INPUT: -
     113.  00:283B                    ~  * OUPUT: D: manufacture ID, HL: 16 bit device ID
     114.  00:283B                    ~  *           $EF (winbond),      $4015-$4018          
     115.  00:283B                    ~  */
     116.  00:283B                      W25Q_READ_JEDEC
     117.  00:283B  F5                    PUSH AF
     118.  00:283C  C5                    PUSH BC
     119.  00:283D  D5                    PUSH DE
     120.  00:283E  3E 9F                 ld A,$9F
     121.  00:2840  CD E3 27              call SPI_SEND_BYTE ; abc
     122.  00:2843  CD FE 27              CALL SPI_RECV_BYTE ; abce
     123.  00:2846  7A                    ld A,D
     124.  00:2847  F5                    PUSH AF
     125.  00:2848  CD FE 27              CALL SPI_RECV_BYTE ; abce
     126.  00:284B  62                    ld H,D 
     127.  00:284C  CD FE 27              CALL SPI_RECV_BYTE ; abce
     128.  00:284F  6A                    LD L,D
     129.  00:2850  F1                    POP AF
     130.  00:2851  D1                    POP DE
     131.  00:2852  57                    LD D,A
     132.  00:2853  C1                    POP BC
     133.  00:2854  F1                    POP AF
     134.  00:2855  C9                    RET
     135.  00:2856                      
     136.  00:2856                      CHIP_IDS:
     137.  00:2856                      	DW $4015, $4016, $4017, $4018, $FFFF
     137.  00:2856  15 40 16 40 17 40 18 40 FF FF 
     138.  00:2860                      CHIP_ID_STRINGS:
     139.  00:2860                      	DW W25Q16_STR, W25Q32_STR, W25Q64_STR, W25Q128_STR
     139.  00:2860  68 28 6F 28 76 28 7D 28 
     140.  00:2868                      
     141.  00:2868                      W25Q16_STR:
     142.  00:2868                        DB _W, _2, _5, _Q, _1, _6, $FF
     142.  00:2868  3C 1E 21 36 1D 22 FF 
     143.  00:286F                      W25Q32_STR:
     144.  00:286F                        DB _W, _2, _5, _Q, _3, _2, $FF
     144.  00:286F  3C 1E 21 36 1F 1E FF 
     145.  00:2876                      W25Q64_STR:
     146.  00:2876                        DB _W, _2, _5, _Q, _6, _4, $FF
     146.  00:2876  3C 1E 21 36 22 20 FF 
     147.  00:287D                      W25Q128_STR:
     148.  00:287D                        DB _W, _2, _5, _Q, _1, _2, _8, $FF
     148.  00:287D  3C 1E 21 36 1D 1E 24 FF 
     110   00:2885                      
     111   00:2885                      PRINT_HEX
     112   00:2885  F5                    PUSH AF
     113   00:2886  0F                    RRCA
     114   00:2887  0F                    RRCA
     115   00:2888  0F                    RRCA
     116   00:2889  0F                    RRCA
     117   00:288A  CD 92 28              CALL PRINT_NIBBLE
     118   00:288D  F1                    POP AF
     119   00:288E  CD 92 28              CALL PRINT_NIBBLE
     120   00:2891  C9                    RET
     121   00:2892                        
     122   00:2892                      PRINT_NIBBLE
     123   00:2892  E6 0F                 AND $0F	
     124   00:2894  FE 09                 CP $09
     125   00:2896  38 04                 JR c,HEX_NUM
     126   00:2898  C6 1C                 ADD _0
     127   00:289A  18 04                 JR HEX_NIBBLE_OK
     128   00:289C                      HEX_NUM:
     129   00:289C  D6 0A                 SUB $0A
     130   00:289E  C6 26                 ADD _A
     131   00:28A0                      HEX_NIBBLE_OK:
     132   00:28A0  D7                    RST $10
     133   00:28A1  C9                    RET
     134   00:28A2                        
     135   00:28A2                      PRINT_STR:
     136   00:28A2  7E                    LD A,(HL)
     137   00:28A3  FE FF                 CP $FF
     138   00:28A5  C8                    RET z
     139   00:28A6  D7                    RST $10
     140   00:28A7  23                    INC HL
     141   00:28A8  18 F8                 JR PRINT_STR
     142   00:28AA                      	
     143   00:28AA                        DB 'ZX81 Flash&SD&Joy Cart by Sanyi, 2023-09-09'
     143   00:28AA  5A 58 38 31 20 46 6C 61 73 68 26 53 44 26 4A 6F 
     143   00:28BA  79 20 43 61 72 74 20 62 79 20 53 61 6E 79 69 2C 
     143   00:28CA  20 32 30 32 33 2D 30 39 2D 30 39 
     144   00:28D5                        CODE @ 3FA0h
     145   00:3FA0                      ENTER_TO_SD:
     146   00:3FA0  3A FF BF              LD A, (CTRL_SHADOW)
     147   00:3FA3  F6 C0                 OR $C0
     148   00:3FA5  32 FF BF              LD (CTRL_SHADOW), A
     149   00:3FA8  D3 3F                 OUT (CTRL_PORT), A
     150   00:3FAA  (00:3FAA)           ENTRY_ON_PAGE3 = $
     151   00:3FAA                        
     152   00:3FAA                        CODE ! REENTRY_PAGE0_LOADED
     153   00:3FCE  CD 23 0F              CALL FAST
     154   00:3FD1  21 02 80              LD HL, $8002
     155   00:3FD4  11 09 40              LD DE, $4009
     156   00:3FD7  ED 4B 00 80           LD BC, ($8000)
     157   00:3FDB  ED B0                 LDIR
     158   00:3FDD  21 76 06              LD HL,$0676 ; magic number #1
     159   00:3FE0  E5                    PUSH HL
     160   00:3FE1  3E 80                 LD A,$80    ; magic number #2
     161   00:3FE3  32 01 40              ld ($4001),A
     162   00:3FE6  3E FF                 LD A,$FF     ; magic number #1
     163   00:3FE8  32 00 40              LD ($4000), A
     164   00:3FEB  C3 07 02              JP SLOW_PER_FAST
     165   00:3FEE                      EXIT_TO_BASIC_PAGE0:
     166   00:3FEE  C3 30 23              JP PROCESS_EXIT
     167   00:3FF1                        CODE ! REENTRY_PAGE0_FLASH
     168   00:3FFA  CD D9 27              CALL SPI_STOP
     169   00:3FFD  C3 74 20              jp USE_FLASH
     170   00:4000                        
     171   00:4000  (02)                  PAGE 2
     172   02:0000                      
     173   02:0000                      MACRO C_LINE num, path
     174   02:0000                    < ENDM
     175   02:0000                      
     176   02:0000                      MACRO GLOBAL var
     177   02:0000                    < ENDM
     178   02:0000                      
     179   02:0000                      MACRO SECTION var
     180   02:0000                    < ENDM
     181   02:0000                      
     182   02:0000                        CODE ! 0400h
     183   02:0400                        INCLUDE "ff.c.asm"
       1.  02:0400                      ;* * * * *  Small-C/Plus z88dk * * * * *
       2.  02:0400                      ;  Version: 19766-9ffe2042c-20220723
       3.  02:0400                      ;
       4.  02:0400                      ;	Reconstructed for z80 Module Assembler
       5.  02:0400                      ;
       6.  02:0400                      ;	Module compile time: Sun Aug 20 23:04:30 2023
       7.  02:0400                      
       8.  02:0400                      
       9.  02:0400                      	C_LINE	0,"./ff.c"
      10.  02:0400                      
      11.  02:0400                      	MODULE X__ff_c
      12.  02:0400                      
      13.  02:0400                      ;	INCLUDE "z80_crt0.hdr"
      14.  02:0400                      
      15.  02:0400                      
      16.  02:0400                      	C_LINE	0,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
      17.  02:0400                      	C_LINE	0,"c:\apps\z88dk\lib\config\\..\..\/include/sys/compiler.h"
      18.  02:0400                      	C_LINE	4,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
      19.  02:0400                      	C_LINE	0,"c:\apps\z88dk\lib\config\\..\..\/include/sys/types.h"
      20.  02:0400                      	C_LINE	17,"c:\apps\z88dk\lib\config\\..\..\/include/sys/types.h"
      21.  02:0400                      	C_LINE	26,"c:\apps\z88dk\lib\config\\..\..\/include/sys/types.h"
      22.  02:0400                      	C_LINE	35,"c:\apps\z88dk\lib\config\\..\..\/include/sys/types.h"
      23.  02:0400                      	C_LINE	40,"c:\apps\z88dk\lib\config\\..\..\/include/sys/types.h"
      24.  02:0400                      	C_LINE	45,"c:\apps\z88dk\lib\config\\..\..\/include/sys/types.h"
      25.  02:0400                      	C_LINE	50,"c:\apps\z88dk\lib\config\\..\..\/include/sys/types.h"
      26.  02:0400                      	C_LINE	55,"c:\apps\z88dk\lib\config\\..\..\/include/sys/types.h"
      27.  02:0400                      	C_LINE	60,"c:\apps\z88dk\lib\config\\..\..\/include/sys/types.h"
      28.  02:0400                      	C_LINE	65,"c:\apps\z88dk\lib\config\\..\..\/include/sys/types.h"
      29.  02:0400                      	C_LINE	70,"c:\apps\z88dk\lib\config\\..\..\/include/sys/types.h"
      30.  02:0400                      	C_LINE	75,"c:\apps\z88dk\lib\config\\..\..\/include/sys/types.h"
      31.  02:0400                      	C_LINE	80,"c:\apps\z88dk\lib\config\\..\..\/include/sys/types.h"
      32.  02:0400                      	C_LINE	85,"c:\apps\z88dk\lib\config\\..\..\/include/sys/types.h"
      33.  02:0400                      	C_LINE	89,"c:\apps\z88dk\lib\config\\..\..\/include/sys/types.h"
      34.  02:0400                      	C_LINE	90,"c:\apps\z88dk\lib\config\\..\..\/include/sys/types.h"
      35.  02:0400                      	C_LINE	91,"c:\apps\z88dk\lib\config\\..\..\/include/sys/types.h"
      36.  02:0400                      	C_LINE	93,"c:\apps\z88dk\lib\config\\..\..\/include/sys/types.h"
      37.  02:0400                      	C_LINE	94,"c:\apps\z88dk\lib\config\\..\..\/include/sys/types.h"
      38.  02:0400                      	C_LINE	95,"c:\apps\z88dk\lib\config\\..\..\/include/sys/types.h"
      39.  02:0400                      	C_LINE	101,"c:\apps\z88dk\lib\config\\..\..\/include/sys/types.h"
      40.  02:0400                      	C_LINE	106,"c:\apps\z88dk\lib\config\\..\..\/include/sys/types.h"
      41.  02:0400                      	C_LINE	5,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
      42.  02:0400                      	C_LINE	7,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
      43.  02:0400                      	C_LINE	8,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
      44.  02:0400                      	C_LINE	12,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
      45.  02:0400                      	C_LINE	14,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
      46.  02:0400                      	C_LINE	19,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
      47.  02:0400                      	C_LINE	20,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
      48.  02:0400                      	C_LINE	24,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
      49.  02:0400                      	C_LINE	25,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
      50.  02:0400                      	C_LINE	29,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
      51.  02:0400                      	C_LINE	30,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
      52.  02:0400                      	C_LINE	34,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
      53.  02:0400                      	C_LINE	35,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
      54.  02:0400                      	C_LINE	39,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
      55.  02:0400                      	C_LINE	41,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
      56.  02:0400                      	C_LINE	46,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
      57.  02:0400                      	C_LINE	47,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
      58.  02:0400                      	C_LINE	52,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
      59.  02:0400                      	C_LINE	53,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
      60.  02:0400                      	C_LINE	57,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
      61.  02:0400                      	C_LINE	59,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
      62.  02:0400                      	C_LINE	64,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
      63.  02:0400                      	C_LINE	65,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
      64.  02:0400                      	C_LINE	69,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
      65.  02:0400                      	C_LINE	72,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
      66.  02:0400                      	C_LINE	75,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
      67.  02:0400                      	C_LINE	78,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
      68.  02:0400                      	C_LINE	79,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
      69.  02:0400                      	C_LINE	83,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
      70.  02:0400                      	C_LINE	85,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
      71.  02:0400                      	C_LINE	90,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
      72.  02:0400                      	C_LINE	92,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
      73.  02:0400                      	C_LINE	97,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
      74.  02:0400                      	C_LINE	99,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
      75.  02:0400                      	C_LINE	104,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
      76.  02:0400                      	C_LINE	105,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
      77.  02:0400                      	C_LINE	109,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
      78.  02:0400                      	C_LINE	111,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
      79.  02:0400                      	C_LINE	116,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
      80.  02:0400                      	C_LINE	118,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
      81.  02:0400                      	C_LINE	123,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
      82.  02:0400                      	C_LINE	125,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
      83.  02:0400                      	C_LINE	133,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
      84.  02:0400                      	C_LINE	135,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
      85.  02:0400                      	C_LINE	139,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
      86.  02:0400                      	C_LINE	141,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
      87.  02:0400                      	C_LINE	145,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
      88.  02:0400                      	C_LINE	146,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
      89.  02:0400                      	C_LINE	150,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
      90.  02:0400                      	C_LINE	152,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
      91.  02:0400                      	C_LINE	157,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
      92.  02:0400                      	C_LINE	158,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
      93.  02:0400                      	C_LINE	162,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
      94.  02:0400                      	C_LINE	163,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
      95.  02:0400                      	C_LINE	167,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
      96.  02:0400                      	C_LINE	168,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
      97.  02:0400                      	C_LINE	172,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
      98.  02:0400                      	C_LINE	173,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
      99.  02:0400                      	C_LINE	177,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     100.  02:0400                      	C_LINE	178,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     101.  02:0400                      	C_LINE	182,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     102.  02:0400                      	C_LINE	183,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     103.  02:0400                      	C_LINE	187,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     104.  02:0400                      	C_LINE	188,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     105.  02:0400                      	C_LINE	192,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     106.  02:0400                      	C_LINE	193,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     107.  02:0400                      	C_LINE	197,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     108.  02:0400                      	C_LINE	200,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     109.  02:0400                      	C_LINE	203,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     110.  02:0400                      	C_LINE	204,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     111.  02:0400                      	C_LINE	208,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     112.  02:0400                      	C_LINE	210,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     113.  02:0400                      	C_LINE	215,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     114.  02:0400                      	C_LINE	217,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     115.  02:0400                      	C_LINE	222,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     116.  02:0400                      	C_LINE	225,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     117.  02:0400                      	C_LINE	228,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     118.  02:0400                      	C_LINE	230,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     119.  02:0400                      	C_LINE	235,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     120.  02:0400                      	C_LINE	237,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     121.  02:0400                      	C_LINE	242,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     122.  02:0400                      	C_LINE	244,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     123.  02:0400                      	C_LINE	249,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     124.  02:0400                      	C_LINE	251,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     125.  02:0400                      	C_LINE	256,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     126.  02:0400                      	C_LINE	258,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     127.  02:0400                      	C_LINE	263,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     128.  02:0400                      	C_LINE	264,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     129.  02:0400                      	C_LINE	268,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     130.  02:0400                      	C_LINE	269,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     131.  02:0400                      	C_LINE	273,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     132.  02:0400                      	C_LINE	274,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     133.  02:0400                      	C_LINE	278,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     134.  02:0400                      	C_LINE	279,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     135.  02:0400                      	C_LINE	283,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     136.  02:0400                      	C_LINE	284,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     137.  02:0400                      	C_LINE	288,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     138.  02:0400                      	C_LINE	289,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     139.  02:0400                      	C_LINE	293,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     140.  02:0400                      	C_LINE	296,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     141.  02:0400                      	C_LINE	297,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     142.  02:0400                      	C_LINE	301,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     143.  02:0400                      	C_LINE	304,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     144.  02:0400                      	C_LINE	305,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     145.  02:0400                      	C_LINE	309,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     146.  02:0400                      	C_LINE	310,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     147.  02:0400                      	C_LINE	314,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     148.  02:0400                      	C_LINE	315,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     149.  02:0400                      	C_LINE	319,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     150.  02:0400                      	C_LINE	322,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     151.  02:0400                      	C_LINE	323,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     152.  02:0400                      	C_LINE	327,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     153.  02:0400                      	C_LINE	329,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     154.  02:0400                      	C_LINE	334,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     155.  02:0400                      	C_LINE	337,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     156.  02:0400                      	C_LINE	339,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     157.  02:0400                      	C_LINE	343,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     158.  02:0400                      	C_LINE	344,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     159.  02:0400                      	C_LINE	348,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     160.  02:0400                      	C_LINE	349,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     161.  02:0400                      	C_LINE	352,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     162.  02:0400                      	C_LINE	353,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     163.  02:0400                      	C_LINE	410,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     164.  02:0400                      	C_LINE	416,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     165.  02:0400                      	C_LINE	422,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     166.  02:0400                      	C_LINE	428,"c:\apps\z88dk\lib\config\\..\..\/include/string.h"
     167.  02:0400                      	C_LINE	22,"./ff.c"
     168.  02:0400                      	C_LINE	0,"./ff.h"
     169.  02:0400                      	C_LINE	0,"./ffconf.h"
     170.  02:0400                      	C_LINE	29,"./ff.h"
     171.  02:0400                      	C_LINE	0,"c:\apps\z88dk\lib\config\\..\..\/include/stdint.h"
     172.  02:0400                      	C_LINE	13,"c:\apps\z88dk\lib\config\\..\..\/include/stdint.h"
     173.  02:0400                      	C_LINE	14,"c:\apps\z88dk\lib\config\\..\..\/include/stdint.h"
     174.  02:0400                      	C_LINE	15,"c:\apps\z88dk\lib\config\\..\..\/include/stdint.h"
     175.  02:0400                      	C_LINE	17,"c:\apps\z88dk\lib\config\\..\..\/include/stdint.h"
     176.  02:0400                      	C_LINE	18,"c:\apps\z88dk\lib\config\\..\..\/include/stdint.h"
     177.  02:0400                      	C_LINE	19,"c:\apps\z88dk\lib\config\\..\..\/include/stdint.h"
     178.  02:0400                      	C_LINE	21,"c:\apps\z88dk\lib\config\\..\..\/include/stdint.h"
     179.  02:0400                      	C_LINE	22,"c:\apps\z88dk\lib\config\\..\..\/include/stdint.h"
     180.  02:0400                      	C_LINE	23,"c:\apps\z88dk\lib\config\\..\..\/include/stdint.h"
     181.  02:0400                      	C_LINE	25,"c:\apps\z88dk\lib\config\\..\..\/include/stdint.h"
     182.  02:0400                      	C_LINE	26,"c:\apps\z88dk\lib\config\\..\..\/include/stdint.h"
     183.  02:0400                      	C_LINE	27,"c:\apps\z88dk\lib\config\\..\..\/include/stdint.h"
     184.  02:0400                      	C_LINE	29,"c:\apps\z88dk\lib\config\\..\..\/include/stdint.h"
     185.  02:0400                      	C_LINE	30,"c:\apps\z88dk\lib\config\\..\..\/include/stdint.h"
     186.  02:0400                      	C_LINE	31,"c:\apps\z88dk\lib\config\\..\..\/include/stdint.h"
     187.  02:0400                      	C_LINE	33,"c:\apps\z88dk\lib\config\\..\..\/include/stdint.h"
     188.  02:0400                      	C_LINE	34,"c:\apps\z88dk\lib\config\\..\..\/include/stdint.h"
     189.  02:0400                      	C_LINE	35,"c:\apps\z88dk\lib\config\\..\..\/include/stdint.h"
     190.  02:0400                      	C_LINE	37,"c:\apps\z88dk\lib\config\\..\..\/include/stdint.h"
     191.  02:0400                      	C_LINE	38,"c:\apps\z88dk\lib\config\\..\..\/include/stdint.h"
     192.  02:0400                      	C_LINE	40,"c:\apps\z88dk\lib\config\\..\..\/include/stdint.h"
     193.  02:0400                      	C_LINE	41,"c:\apps\z88dk\lib\config\\..\..\/include/stdint.h"
     194.  02:0400                      	C_LINE	43,"c:\apps\z88dk\lib\config\\..\..\/include/stdint.h"
     195.  02:0400                      	C_LINE	44,"c:\apps\z88dk\lib\config\\..\..\/include/stdint.h"
     196.  02:0400                      	C_LINE	49,"c:\apps\z88dk\lib\config\\..\..\/include/stdint.h"
     197.  02:0400                      	C_LINE	52,"c:\apps\z88dk\lib\config\\..\..\/include/stdint.h"
     198.  02:0400                      	C_LINE	54,"c:\apps\z88dk\lib\config\\..\..\/include/stdint.h"
     199.  02:0400                      	C_LINE	55,"c:\apps\z88dk\lib\config\\..\..\/include/stdint.h"
     200.  02:0400                      	C_LINE	53,"./ff.h"
     201.  02:0400                      	C_LINE	54,"./ff.h"
     202.  02:0400                      	C_LINE	55,"./ff.h"
     203.  02:0400                      	C_LINE	56,"./ff.h"
     204.  02:0400                      	C_LINE	57,"./ff.h"
     205.  02:0400                      	C_LINE	58,"./ff.h"
     206.  02:0400                      	C_LINE	91,"./ff.h"
     207.  02:0400                      	C_LINE	92,"./ff.h"
     208.  02:0400                      	C_LINE	117,"./ff.h"
     209.  02:0400                      	C_LINE	145,"./ff.h"
     210.  02:0400                      	C_LINE	191,"./ff.h"
     211.  02:0400                      	C_LINE	214,"./ff.h"
     212.  02:0400                      	C_LINE	237,"./ff.h"
     213.  02:0400                      	C_LINE	256,"./ff.h"
     214.  02:0400                      	C_LINE	273,"./ff.h"
     215.  02:0400                      	C_LINE	285,"./ff.h"
     216.  02:0400                      	C_LINE	317,"./ff.h"
     217.  02:0400                      	C_LINE	318,"./ff.h"
     218.  02:0400                      	C_LINE	319,"./ff.h"
     219.  02:0400                      	C_LINE	320,"./ff.h"
     220.  02:0400                      	C_LINE	321,"./ff.h"
     221.  02:0400                      	C_LINE	322,"./ff.h"
     222.  02:0400                      	C_LINE	323,"./ff.h"
     223.  02:0400                      	C_LINE	324,"./ff.h"
     224.  02:0400                      	C_LINE	325,"./ff.h"
     225.  02:0400                      	C_LINE	326,"./ff.h"
     226.  02:0400                      	C_LINE	327,"./ff.h"
     227.  02:0400                      	C_LINE	328,"./ff.h"
     228.  02:0400                      	C_LINE	329,"./ff.h"
     229.  02:0400                      	C_LINE	330,"./ff.h"
     230.  02:0400                      	C_LINE	331,"./ff.h"
     231.  02:0400                      	C_LINE	332,"./ff.h"
     232.  02:0400                      	C_LINE	333,"./ff.h"
     233.  02:0400                      	C_LINE	334,"./ff.h"
     234.  02:0400                      	C_LINE	335,"./ff.h"
     235.  02:0400                      	C_LINE	336,"./ff.h"
     236.  02:0400                      	C_LINE	337,"./ff.h"
     237.  02:0400                      	C_LINE	338,"./ff.h"
     238.  02:0400                      	C_LINE	339,"./ff.h"
     239.  02:0400                      	C_LINE	340,"./ff.h"
     240.  02:0400                      	C_LINE	341,"./ff.h"
     241.  02:0400                      	C_LINE	342,"./ff.h"
     242.  02:0400                      	C_LINE	343,"./ff.h"
     243.  02:0400                      	C_LINE	344,"./ff.h"
     244.  02:0400                      	C_LINE	345,"./ff.h"
     245.  02:0400                      	C_LINE	346,"./ff.h"
     246.  02:0400                      	C_LINE	348,"./ff.h"
     247.  02:0400                      	C_LINE	349,"./ff.h"
     248.  02:0400                      	C_LINE	350,"./ff.h"
     249.  02:0400                      	C_LINE	351,"./ff.h"
     250.  02:0400                      	C_LINE	24,"./ff.c"
     251.  02:0400                      	C_LINE	0,"./diskio_sd.h"
     252.  02:0400                      	C_LINE	85,"./diskio_sd.h"
     253.  02:0400                      	C_LINE	86,"./diskio_sd.h"
     254.  02:0400                      	C_LINE	87,"./diskio_sd.h"
     255.  02:0400                      	C_LINE	88,"./diskio_sd.h"
     256.  02:0400                      	C_LINE	89,"./diskio_sd.h"
     257.  02:0400                      	C_LINE	103,"./diskio_sd.h"
     258.  02:0400                      	C_LINE	106,"./diskio_sd.h"
     259.  02:0400                      	C_LINE	115,"./diskio_sd.h"
     260.  02:0400                      	C_LINE	122,"./diskio_sd.h"
     261.  02:0400                      	C_LINE	132,"./diskio_sd.h"
     262.  02:0400                      	C_LINE	145,"./diskio_sd.h"
     263.  02:0400                      	C_LINE	161,"./diskio_sd.h"
     264.  02:0400                      	C_LINE	176,"./diskio_sd.h"
     265.  02:0400                      	C_LINE	35,"./ff.c"
     266.  02:0400                      	C_LINE	501,"./ff.c"
     267.  02:0400                      	C_LINE	502,"./ff.c"
     268.  02:0400                      	C_LINE	505,"./ff.c"
     269.  02:0400                      	C_LINE	633,"./ff.c"
     270.  02:0400                      	SECTION	rodata_compiler
     271.  02:0400                      _ExCvt
     272.  02:0400  80                  	defb	128
     273.  02:0401  9A                  	defb	154
     274.  02:0402  45                  	defb	69
     275.  02:0403  41                  	defb	65
     276.  02:0404  8E                  	defb	142
     277.  02:0405  41                  	defb	65
     278.  02:0406  8F                  	defb	143
     279.  02:0407  80                  	defb	128
     280.  02:0408  45                  	defb	69
     281.  02:0409  45                  	defb	69
     282.  02:040A  45                  	defb	69
     283.  02:040B  49                  	defb	73
     284.  02:040C  49                  	defb	73
     285.  02:040D  49                  	defb	73
     286.  02:040E  8E                  	defb	142
     287.  02:040F  8F                  	defb	143
     288.  02:0410  90                  	defb	144
     289.  02:0411  92                  	defb	146
     290.  02:0412  92                  	defb	146
     291.  02:0413  4F                  	defb	79
     292.  02:0414  99                  	defb	153
     293.  02:0415  4F                  	defb	79
     294.  02:0416  55                  	defb	85
     295.  02:0417  55                  	defb	85
     296.  02:0418  59                  	defb	89
     297.  02:0419  99                  	defb	153
     298.  02:041A  9A                  	defb	154
     299.  02:041B  9B                  	defb	155
     300.  02:041C  9C                  	defb	156
     301.  02:041D  9D                  	defb	157
     302.  02:041E  9E                  	defb	158
     303.  02:041F  9F                  	defb	159
     304.  02:0420  41                  	defb	65
     305.  02:0421  49                  	defb	73
     306.  02:0422  4F                  	defb	79
     307.  02:0423  55                  	defb	85
     308.  02:0424  A5                  	defb	165
     309.  02:0425  A5                  	defb	165
     310.  02:0426  A6                  	defb	166
     311.  02:0427  A7                  	defb	167
     312.  02:0428  A8                  	defb	168
     313.  02:0429  A9                  	defb	169
     314.  02:042A  AA                  	defb	170
     315.  02:042B  AB                  	defb	171
     316.  02:042C  AC                  	defb	172
     317.  02:042D  AD                  	defb	173
     318.  02:042E  AE                  	defb	174
     319.  02:042F  AF                  	defb	175
     320.  02:0430  B0                  	defb	176
     321.  02:0431  B1                  	defb	177
     322.  02:0432  B2                  	defb	178
     323.  02:0433  B3                  	defb	179
     324.  02:0434  B4                  	defb	180
     325.  02:0435  B5                  	defb	181
     326.  02:0436  B6                  	defb	182
     327.  02:0437  B7                  	defb	183
     328.  02:0438  B8                  	defb	184
     329.  02:0439  B9                  	defb	185
     330.  02:043A  BA                  	defb	186
     331.  02:043B  BB                  	defb	187
     332.  02:043C  BC                  	defb	188
     333.  02:043D  BD                  	defb	189
     334.  02:043E  BE                  	defb	190
     335.  02:043F  BF                  	defb	191
     336.  02:0440  C0                  	defb	192
     337.  02:0441  C1                  	defb	193
     338.  02:0442  C2                  	defb	194
     339.  02:0443  C3                  	defb	195
     340.  02:0444  C4                  	defb	196
     341.  02:0445  C5                  	defb	197
     342.  02:0446  C6                  	defb	198
     343.  02:0447  C7                  	defb	199
     344.  02:0448  C8                  	defb	200
     345.  02:0449  C9                  	defb	201
     346.  02:044A  CA                  	defb	202
     347.  02:044B  CB                  	defb	203
     348.  02:044C  CC                  	defb	204
     349.  02:044D  CD                  	defb	205
     350.  02:044E  CE                  	defb	206
     351.  02:044F  CF                  	defb	207
     352.  02:0450  D0                  	defb	208
     353.  02:0451  D1                  	defb	209
     354.  02:0452  D2                  	defb	210
     355.  02:0453  D3                  	defb	211
     356.  02:0454  D4                  	defb	212
     357.  02:0455  D5                  	defb	213
     358.  02:0456  D6                  	defb	214
     359.  02:0457  D7                  	defb	215
     360.  02:0458  D8                  	defb	216
     361.  02:0459  D9                  	defb	217
     362.  02:045A  DA                  	defb	218
     363.  02:045B  DB                  	defb	219
     364.  02:045C  DC                  	defb	220
     365.  02:045D  DD                  	defb	221
     366.  02:045E  DE                  	defb	222
     367.  02:045F  DF                  	defb	223
     368.  02:0460  E0                  	defb	224
     369.  02:0461  E1                  	defb	225
     370.  02:0462  E2                  	defb	226
     371.  02:0463  E3                  	defb	227
     372.  02:0464  E4                  	defb	228
     373.  02:0465  E5                  	defb	229
     374.  02:0466  E6                  	defb	230
     375.  02:0467  E7                  	defb	231
     376.  02:0468  E8                  	defb	232
     377.  02:0469  E9                  	defb	233
     378.  02:046A  EA                  	defb	234
     379.  02:046B  EB                  	defb	235
     380.  02:046C  EC                  	defb	236
     381.  02:046D  ED                  	defb	237
     382.  02:046E  EE                  	defb	238
     383.  02:046F  EF                  	defb	239
     384.  02:0470  F0                  	defb	240
     385.  02:0471  F1                  	defb	241
     386.  02:0472  F2                  	defb	242
     387.  02:0473  F3                  	defb	243
     388.  02:0474  F4                  	defb	244
     389.  02:0475  F5                  	defb	245
     390.  02:0476  F6                  	defb	246
     391.  02:0477  F7                  	defb	247
     392.  02:0478  F8                  	defb	248
     393.  02:0479  F9                  	defb	249
     394.  02:047A  FA                  	defb	250
     395.  02:047B  FB                  	defb	251
     396.  02:047C  FC                  	defb	252
     397.  02:047D  FD                  	defb	253
     398.  02:047E  FE                  	defb	254
     399.  02:047F  FF                  	defb	255
     400.  02:0480                      	SECTION	code_compiler
     401.  02:0480                      	C_LINE	657,"./ff.c"
     402.  02:0480                      
     403.  02:0480                      ; Function ld_word flags 0x00000200 __smallc 
     404.  02:0480                      ; unsigned int WORDld_word(const unsigned char BYTE* ptr)
     405.  02:0480                      ; parameter 'const unsigned char BYTE* ptr' at sp+2 size(2)
     406.  02:0480                      	C_LINE	658,"./ff.c::ld_word::0::0"
     407.  02:0480                      @_ld_word
     408.  02:0480  C5                  	push	bc
     409.  02:0481  21 04 00            	ld	hl,4	;const
     410.  02:0484  39                  	add	hl,sp
     411.  02:0485  7E                  	ld	a,(hl)	;l_gint
     412.  02:0486  23                  	inc	hl
     413.  02:0487  66                  	ld	h,(hl)
     414.  02:0488  6F                  	ld	l,a
     415.  02:0489  23                  	inc	hl
     416.  02:048A  6E                  	ld	l,(hl)
     417.  02:048B  26 00               	ld	h,0
     418.  02:048D  C1                  	pop	bc
     419.  02:048E  E5                  	push	hl
     420.  02:048F  65                  	ld	h,l
     421.  02:0490  2E 00               	ld	l,0
     422.  02:0492  E5                  	push	hl
     423.  02:0493  21 06 00            	ld	hl,6	;const
     424.  02:0496  39                  	add	hl,sp
     425.  02:0497  7E                  	ld	a,(hl)	;l_gint
     426.  02:0498  23                  	inc	hl
     427.  02:0499  66                  	ld	h,(hl)
     428.  02:049A  6F                  	ld	l,a
     429.  02:049B  6E                  	ld	l,(hl)
     430.  02:049C  D1                  	pop	de
     431.  02:049D  62                  	ld	h,d
     432.  02:049E  7D                  	ld	a,l
     433.  02:049F  B3                  	or	e
     434.  02:04A0  6F                  	ld	l,a
     435.  02:04A1  C1                  	pop	bc
     436.  02:04A2  C9                  	ret
     437.  02:04A3                      
     438.  02:04A3                      	C_LINE	666,"./ff.c::ld_word::0::1"
     439.  02:04A3                      
     440.  02:04A3                      ; Function ld_dword flags 0x00000200 __smallc 
     441.  02:04A3                      ; unsigned long DWORDld_dword(const unsigned char BYTE* ptr)
     442.  02:04A3                      ; parameter 'const unsigned char BYTE* ptr' at sp+2 size(2)
     443.  02:04A3                      	C_LINE	667,"./ff.c::ld_dword::0::1"
     444.  02:04A3                      @_ld_dword
     445.  02:04A3  C5                  	push	bc
     446.  02:04A4  C5                  	push	bc
     447.  02:04A5  21 00 00            	ld	hl,0	;const
     448.  02:04A8  39                  	add	hl,sp
     449.  02:04A9  E5                  	push	hl
     450.  02:04AA  21 08 00            	ld	hl,8	;const
     451.  02:04AD  39                  	add	hl,sp
     452.  02:04AE  7E                  	ld	a,(hl)	;l_gint
     453.  02:04AF  23                  	inc	hl
     454.  02:04B0  66                  	ld	h,(hl)
     455.  02:04B1  6F                  	ld	l,a
     456.  02:04B2  23                  	inc	hl
     457.  02:04B3  23                  	inc	hl
     458.  02:04B4  23                  	inc	hl
     459.  02:04B5  6E                  	ld	l,(hl)
     460.  02:04B6  26 00               	ld	h,0
     461.  02:04B8  11 00 00            	ld	de,0
     462.  02:04BB  C1                  	pop	bc
     463.  02:04BC  CD C3 54            	call	l_plong
     464.  02:04BF  21 00 00            	ld	hl,0	;const
     465.  02:04C2  39                  	add	hl,sp
     466.  02:04C3  E5                  	push	hl
     467.  02:04C4  7E                  	ld	a,(hl)
     468.  02:04C5  23                  	inc	hl
     469.  02:04C6  5E                  	ld	e,(hl)
     470.  02:04C7  23                  	inc	hl
     471.  02:04C8  56                  	ld	d,(hl)
     472.  02:04C9  67                  	ld	h,a
     473.  02:04CA  2E 00               	ld	l,0
     474.  02:04CC  D5                  	push	de
     475.  02:04CD  E5                  	push	hl
     476.  02:04CE  21 0C 00            	ld	hl,12	;const
     477.  02:04D1  39                  	add	hl,sp
     478.  02:04D2  7E                  	ld	a,(hl)	;l_gint
     479.  02:04D3  23                  	inc	hl
     480.  02:04D4  66                  	ld	h,(hl)
     481.  02:04D5  6F                  	ld	l,a
     482.  02:04D6  23                  	inc	hl
     483.  02:04D7  23                  	inc	hl
     484.  02:04D8  6E                  	ld	l,(hl)
     485.  02:04D9  D1                  	pop	de
     486.  02:04DA  62                  	ld	h,d
     487.  02:04DB  7D                  	ld	a,l
     488.  02:04DC  B3                  	or	e
     489.  02:04DD  6F                  	ld	l,a
     490.  02:04DE  D1                  	pop	de
     491.  02:04DF  C1                  	pop	bc
     492.  02:04E0  CD C3 54            	call	l_plong
     493.  02:04E3  21 00 00            	ld	hl,0	;const
     494.  02:04E6  39                  	add	hl,sp
     495.  02:04E7  E5                  	push	hl
     496.  02:04E8  7E                  	ld	a,(hl)
     497.  02:04E9  23                  	inc	hl
     498.  02:04EA  5E                  	ld	e,(hl)
     499.  02:04EB  23                  	inc	hl
     500.  02:04EC  56                  	ld	d,(hl)
     501.  02:04ED  67                  	ld	h,a
     502.  02:04EE  2E 00               	ld	l,0
     503.  02:04F0  D5                  	push	de
     504.  02:04F1  E5                  	push	hl
     505.  02:04F2  21 0C 00            	ld	hl,12	;const
     506.  02:04F5  39                  	add	hl,sp
     507.  02:04F6  7E                  	ld	a,(hl)	;l_gint
     508.  02:04F7  23                  	inc	hl
     509.  02:04F8  66                  	ld	h,(hl)
     510.  02:04F9  6F                  	ld	l,a
     511.  02:04FA  23                  	inc	hl
     512.  02:04FB  6E                  	ld	l,(hl)
     513.  02:04FC  D1                  	pop	de
     514.  02:04FD  62                  	ld	h,d
     515.  02:04FE  7D                  	ld	a,l
     516.  02:04FF  B3                  	or	e
     517.  02:0500  6F                  	ld	l,a
     518.  02:0501  D1                  	pop	de
     519.  02:0502  C1                  	pop	bc
     520.  02:0503  CD C3 54            	call	l_plong
     521.  02:0506  21 00 00            	ld	hl,0	;const
     522.  02:0509  39                  	add	hl,sp
     523.  02:050A  E5                  	push	hl
     524.  02:050B  7E                  	ld	a,(hl)
     525.  02:050C  23                  	inc	hl
     526.  02:050D  5E                  	ld	e,(hl)
     527.  02:050E  23                  	inc	hl
     528.  02:050F  56                  	ld	d,(hl)
     529.  02:0510  67                  	ld	h,a
     530.  02:0511  2E 00               	ld	l,0
     531.  02:0513  D5                  	push	de
     532.  02:0514  E5                  	push	hl
     533.  02:0515  21 0C 00            	ld	hl,12	;const
     534.  02:0518  39                  	add	hl,sp
     535.  02:0519  7E                  	ld	a,(hl)	;l_gint
     536.  02:051A  23                  	inc	hl
     537.  02:051B  66                  	ld	h,(hl)
     538.  02:051C  6F                  	ld	l,a
     539.  02:051D  6E                  	ld	l,(hl)
     540.  02:051E  D1                  	pop	de
     541.  02:051F  62                  	ld	h,d
     542.  02:0520  7D                  	ld	a,l
     543.  02:0521  B3                  	or	e
     544.  02:0522  6F                  	ld	l,a
     545.  02:0523  D1                  	pop	de
     546.  02:0524  C1                  	pop	bc
     547.  02:0525  CD C3 54            	call	l_plong
     548.  02:0528  21 00 00            	ld	hl,0	;const
     549.  02:052B  39                  	add	hl,sp
     550.  02:052C  CD DE 54            	call	l_glong
     551.  02:052F  C1                  	pop	bc
     552.  02:0530  C1                  	pop	bc
     553.  02:0531  C9                  	ret
     554.  02:0532                      
     555.  02:0532                      
     556.  02:0532                      	C_LINE	732,"./ff.c::ld_dword::0::2"
     557.  02:0532                      
     558.  02:0532                      ; Function dbc_1st flags 0x00000200 __smallc 
     559.  02:0532                      ; int dbc_1st(unsigned char c)
     560.  02:0532                      ; parameter 'unsigned char c' at sp+2 size(1)
     561.  02:0532                      	C_LINE	733,"./ff.c::dbc_1st::0::2"
     562.  02:0532                      @_dbc_1st
     563.  02:0532  21 02 00            	ld	hl,2	;const
     564.  02:0535  39                  	add	hl,sp
     565.  02:0536  7E                  	ld	a,(hl)
     566.  02:0537  A7                  	and	a
     567.  02:0538  CA 3F 05            	jp	z,i_3	;
     568.  02:053B  21 00 00            	ld	hl,0	;const
     569.  02:053E  C9                  	ret
     570.  02:053F                      
     571.  02:053F                      
     572.  02:053F                      i_3
     573.  02:053F  21 00 00            	ld	hl,0	;const
     574.  02:0542  C9                  	ret
     575.  02:0543                      
     576.  02:0543                      
     577.  02:0543                      	C_LINE	752,"./ff.c::dbc_1st::0::3"
     578.  02:0543                      
     579.  02:0543                      ; Function dbc_2nd flags 0x00000200 __smallc 
     580.  02:0543                      ; int dbc_2nd(unsigned char c)
     581.  02:0543                      ; parameter 'unsigned char c' at sp+2 size(1)
     582.  02:0543                      	C_LINE	753,"./ff.c::dbc_2nd::0::3"
     583.  02:0543                      @_dbc_2nd
     584.  02:0543  21 02 00            	ld	hl,2	;const
     585.  02:0546  39                  	add	hl,sp
     586.  02:0547  7E                  	ld	a,(hl)
     587.  02:0548  A7                  	and	a
     588.  02:0549  CA 50 05            	jp	z,i_4	;
     589.  02:054C  21 00 00            	ld	hl,0	;const
     590.  02:054F  C9                  	ret
     591.  02:0550                      
     592.  02:0550                      
     593.  02:0550                      i_4
     594.  02:0550  21 00 00            	ld	hl,0	;const
     595.  02:0553  C9                  	ret
     596.  02:0554                      
     597.  02:0554                      
     598.  02:0554                      	C_LINE	1117,"./ff.c::dbc_2nd::0::4"
     599.  02:0554                      
     600.  02:0554                      ; Function move_window flags 0x00000200 __smallc 
     601.  02:0554                      ; const int FRESULTmove_window(struct 0__anonstruct_145_0 FATFS* fs, unsigned long sect)
     602.  02:0554                      ; parameter 'unsigned long sect' at sp+2 size(4)
     603.  02:0554                      ; parameter 'struct 0__anonstruct_145_0 FATFS* fs' at sp+6 size(2)
     604.  02:0554                      	C_LINE	1121,"./ff.c::move_window::0::4"
     605.  02:0554                      @_move_window
     606.  02:0554  21 00 00            	ld	hl,0	;const
     607.  02:0557  E5                  	push	hl
     608.  02:0558  2E 04               	ld	l,4	
     609.  02:055A  39                  	add	hl,sp
     610.  02:055B                      
     611.  02:055B  CD CF 54            	call	l_glong2sp
     612.  02:055E  21 0C 00            	ld	hl,12	;const
     613.  02:0561  39                  	add	hl,sp
     614.  02:0562  4E                  	ld	c,(hl)
     615.  02:0563  23                  	inc	hl
     616.  02:0564  46                  	ld	b,(hl)
     617.  02:0565  21 30 00            	ld	hl,48
     618.  02:0568  09                  	add	hl,bc
     619.  02:0569                      
     620.  02:0569  CD DE 54            	call	l_glong
     621.  02:056C  CD BA 55            	call	l_long_ne
     622.  02:056F  D2 D8 05            	jp	nc,i_5	;
     623.  02:0572  E1                  	pop	hl
     624.  02:0573  E5                  	push	hl
     625.  02:0574  7C                  	ld	a,h
     626.  02:0575  B5                  	or	l
     627.  02:0576  20 01               	jr	nz,$+3
     628.  02:0578  37                  	scf
     629.  02:0579  D2 D8 05            	jp	nc,i_6	;
     630.  02:057C  21 08 00            	ld	hl,8	;const
     631.  02:057F  39                  	add	hl,sp
     632.  02:0580  7E                  	ld	a,(hl)	;l_gint
     633.  02:0581  23                  	inc	hl
     634.  02:0582  66                  	ld	h,(hl)
     635.  02:0583  6F                  	ld	l,a
     636.  02:0584  23                  	inc	hl
     637.  02:0585  6E                  	ld	l,(hl)
     638.  02:0586  26 00               	ld	h,0
     639.  02:0588  E5                  	push	hl
     640.  02:0589  21 0A 00            	ld	hl,10	;const
     641.  02:058C  39                  	add	hl,sp
     642.  02:058D  4E                  	ld	c,(hl)
     643.  02:058E  23                  	inc	hl
     644.  02:058F  46                  	ld	b,(hl)
     645.  02:0590  21 34 00            	ld	hl,52
     646.  02:0593  09                  	add	hl,bc
     647.  02:0594  E5                  	push	hl
     648.  02:0595  21 08 00            	ld	hl,8	;const
     649.  02:0598  39                  	add	hl,sp
     650.  02:0599  CD CF 54            	call	l_glong2sp
     651.  02:059C  21 01 00            	ld	hl,1	;const
     652.  02:059F  E5                  	push	hl
     653.  02:05A0  CD 22 4C            	call	disk_read
     654.  02:05A3  C1                  	pop	bc
     655.  02:05A4  C1                  	pop	bc
     656.  02:05A5  C1                  	pop	bc
     657.  02:05A6  C1                  	pop	bc
     658.  02:05A7  C1                  	pop	bc
     659.  02:05A8  7C                  	ld	a,h
     660.  02:05A9  B5                  	or	l
     661.  02:05AA  CA C1 05            	jp	z,i_7	;
     662.  02:05AD  21 04 00            	ld	hl,4	;const
     663.  02:05B0  39                  	add	hl,sp
     664.  02:05B1  36 FF               	ld	(hl),255
     665.  02:05B3  23                  	inc	hl
     666.  02:05B4  36 FF               	ld	(hl),255
     667.  02:05B6  23                  	inc	hl
     668.  02:05B7  36 FF               	ld	(hl),255
     669.  02:05B9  23                  	inc	hl
     670.  02:05BA  36 FF               	ld	(hl),255
     671.  02:05BC  21 01 00            	ld	hl,1	;const
     672.  02:05BF  C1                  	pop	bc
     673.  02:05C0  E5                  	push	hl
     674.  02:05C1                      i_7
     675.  02:05C1  21 08 00            	ld	hl,8	;const
     676.  02:05C4  39                  	add	hl,sp
     677.  02:05C5  4E                  	ld	c,(hl)
     678.  02:05C6  23                  	inc	hl
     679.  02:05C7  46                  	ld	b,(hl)
     680.  02:05C8  21 30 00            	ld	hl,48
     681.  02:05CB  09                  	add	hl,bc
     682.  02:05CC  E5                  	push	hl
     683.  02:05CD  21 06 00            	ld	hl,6	;const
     684.  02:05D0  39                  	add	hl,sp
     685.  02:05D1  CD DE 54            	call	l_glong
     686.  02:05D4  C1                  	pop	bc
     687.  02:05D5  CD C3 54            	call	l_plong
     688.  02:05D8                      i_5
     689.  02:05D8  E1                  	pop	hl
     690.  02:05D9                      	
     691.  02:05D9  C9                  	ret
     692.  02:05DA                      
     693.  02:05DA                      
     694.  02:05DA                      	C_LINE	1184,"./ff.c::move_window::0::8"
     695.  02:05DA                      
     696.  02:05DA                      ; Function clst2sect flags 0x00000200 __smallc 
     697.  02:05DA                      ; unsigned long LBA_tclst2sect(struct 0__anonstruct_145_0 FATFS* fs, unsigned long clst)
     698.  02:05DA                      ; parameter 'unsigned long clst' at sp+2 size(4)
     699.  02:05DA                      ; parameter 'struct 0__anonstruct_145_0 FATFS* fs' at sp+6 size(2)
     700.  02:05DA                      	C_LINE	1188,"./ff.c::clst2sect::0::8"
     701.  02:05DA                      @_clst2sect
     702.  02:05DA  21 02 00            	ld	hl,2	;const
     703.  02:05DD  39                  	add	hl,sp
     704.  02:05DE  E5                  	push	hl
     705.  02:05DF  CD DE 54            	call	l_glong
     706.  02:05E2  01 FE FF            	ld	bc,65534
     707.  02:05E5  09                  	add	hl,bc
     708.  02:05E6  38 01               	jr	c,$+3
     709.  02:05E8  1B                  	dec	de
     710.  02:05E9  C1                  	pop	bc
     711.  02:05EA  CD C3 54            	call	l_plong
     712.  02:05ED  21 02 00            	ld	hl,2	;const
     713.  02:05F0  39                  	add	hl,sp
     714.  02:05F1  CD CF 54            	call	l_glong2sp
     715.  02:05F4  21 0A 00            	ld	hl,10	;const
     716.  02:05F7  39                  	add	hl,sp
     717.  02:05F8  4E                  	ld	c,(hl)
     718.  02:05F9  23                  	inc	hl
     719.  02:05FA  46                  	ld	b,(hl)
     720.  02:05FB  21 18 00            	ld	hl,24
     721.  02:05FE  09                  	add	hl,bc
     722.  02:05FF  CD DE 54            	call	l_glong
     723.  02:0602  01 FE FF            	ld	bc,65534
     724.  02:0605  09                  	add	hl,bc
     725.  02:0606  38 01               	jr	c,$+3
     726.  02:0608  1B                  	dec	de
     727.  02:0609  CD E9 55            	call	l_long_uge
     728.  02:060C  D2 15 06            	jp	nc,i_8	;
     729.  02:060F  21 00 00            	ld	hl,0	;const
     730.  02:0612  54                  	ld	d,h
     731.  02:0613  5D                  	ld	e,l
     732.  02:0614  C9                  	ret
     733.  02:0615                      
     734.  02:0615                      
     735.  02:0615                      i_8
     736.  02:0615  21 06 00            	ld	hl,6	;const
     737.  02:0618  39                  	add	hl,sp
     738.  02:0619  4E                  	ld	c,(hl)
     739.  02:061A  23                  	inc	hl
     740.  02:061B  46                  	ld	b,(hl)
     741.  02:061C  21 2C 00            	ld	hl,44
     742.  02:061F  09                  	add	hl,bc
     743.  02:0620  CD CF 54            	call	l_glong2sp
     744.  02:0623  21 0A 00            	ld	hl,10	;const
     745.  02:0626  39                  	add	hl,sp
     746.  02:0627  4E                  	ld	c,(hl)
     747.  02:0628  23                  	inc	hl
     748.  02:0629  46                  	ld	b,(hl)
     749.  02:062A  21 0A 00            	ld	hl,10
     750.  02:062D  09                  	add	hl,bc
     751.  02:062E  7E                  	ld	a,(hl)	;l_gint
     752.  02:062F  23                  	inc	hl
     753.  02:0630  66                  	ld	h,(hl)
     754.  02:0631  6F                  	ld	l,a
     755.  02:0632  11 00 00            	ld	de,0
     756.  02:0635  D5                  	push	de
     757.  02:0636  E5                  	push	hl
     758.  02:0637  21 0A 00            	ld	hl,10	;const
     759.  02:063A  39                  	add	hl,sp
     760.  02:063B  CD DE 54            	call	l_glong
     761.  02:063E  CD F0 55            	call	l_long_mult_u
     762.  02:0641  C1                  	pop	bc
     763.  02:0642  09                  	add	hl,bc
     764.  02:0643  EB                  	ex	de,hl
     765.  02:0644  C1                  	pop	bc
     766.  02:0645  ED 4A               	adc	hl,bc
     767.  02:0647  EB                  	ex	de,hl
     768.  02:0648  C9                  	ret
     769.  02:0649                      
     770.  02:0649                      
     771.  02:0649                      	C_LINE	1201,"./ff.c::clst2sect::0::9"
     772.  02:0649                      
     773.  02:0649                      ; Function get_fat flags 0x00000200 __smallc 
     774.  02:0649                      ; unsigned long DWORDget_fat(struct 0__anonstruct_191_1 FFOBJID* obj, unsigned long clst)
     775.  02:0649                      ; parameter 'unsigned long clst' at sp+2 size(4)
     776.  02:0649                      ; parameter 'struct 0__anonstruct_191_1 FFOBJID* obj' at sp+6 size(2)
     777.  02:0649                      	C_LINE	1205,"./ff.c::get_fat::0::9"
     778.  02:0649                      @_get_fat
     779.  02:0649  C5                  	push	bc
     780.  02:064A  C5                  	push	bc
     781.  02:064B  C5                  	push	bc
     782.  02:064C  C5                  	push	bc
     783.  02:064D  21 0E 00            	ld	hl,14	;const
     784.  02:0650  39                  	add	hl,sp
     785.  02:0651  7E                  	ld	a,(hl)	;l_gint
     786.  02:0652  23                  	inc	hl
     787.  02:0653  66                  	ld	h,(hl)
     788.  02:0654  6F                  	ld	l,a
     789.  02:0655  5E                  	ld	e,(hl)
     790.  02:0656  23                  	inc	hl
     791.  02:0657  56                  	ld	d,(hl)
     792.  02:0658  D5                  	push	de
     793.  02:0659  21 0C 00            	ld	hl,12	;const
     794.  02:065C  39                  	add	hl,sp
     795.  02:065D  CD DE 54            	call	l_glong
     796.  02:0660  7D                  	ld	a,l
     797.  02:0661  D6 02               	sub	2
     798.  02:0663  7C                  	ld	a,h
     799.  02:0664  DE 00               	sbc	0
     800.  02:0666  7B                  	ld	a,e
     801.  02:0667  DE 00               	sbc	0
     802.  02:0669  7A                  	ld	a,d
     803.  02:066A  DE 00               	sbc	0
     804.  02:066C  DA 8A 06            	jp	c,i_10	;
     805.  02:066F  21 0C 00            	ld	hl,12	;const
     806.  02:0672  39                  	add	hl,sp
     807.  02:0673  CD CF 54            	call	l_glong2sp
     808.  02:0676  21 04 00            	ld	hl,4	;const
     809.  02:0679  39                  	add	hl,sp
     810.  02:067A  4E                  	ld	c,(hl)
     811.  02:067B  23                  	inc	hl
     812.  02:067C  46                  	ld	b,(hl)
     813.  02:067D  21 18 00            	ld	hl,24
     814.  02:0680  09                  	add	hl,bc
     815.  02:0681  CD DE 54            	call	l_glong
     816.  02:0684  CD E9 55            	call	l_long_uge
     817.  02:0687  D2 9C 06            	jp	nc,i_9	;
     818.  02:068A                      i_10
     819.  02:068A  21 02 00            	ld	hl,2	;const
     820.  02:068D  39                  	add	hl,sp
     821.  02:068E  44                  	ld	b,h
     822.  02:068F  4D                  	ld	c,l
     823.  02:0690  21 01 00            	ld	hl,1	;const
     824.  02:0693  11 00 00            	ld	de,0
     825.  02:0696  CD C3 54            	call	l_plong
     826.  02:0699  C3 FD 08            	jp	i_12	;EOS
     827.  02:069C                      i_9
     828.  02:069C  21 02 00            	ld	hl,2	;const
     829.  02:069F  39                  	add	hl,sp
     830.  02:06A0  36 FF               	ld	(hl),255
     831.  02:06A2  23                  	inc	hl
     832.  02:06A3  36 FF               	ld	(hl),255
     833.  02:06A5  23                  	inc	hl
     834.  02:06A6  36 FF               	ld	(hl),255
     835.  02:06A8  23                  	inc	hl
     836.  02:06A9  36 FF               	ld	(hl),255
     837.  02:06AB  E1                  	pop	hl
     838.  02:06AC  E5                  	push	hl
     839.  02:06AD  6E                  	ld	l,(hl)
     840.  02:06AE  26 00               	ld	h,0
     841.  02:06B0                      i_15
     842.  02:06B0  7D                  	ld	a,l
     843.  02:06B1  FE 01               	cp	+(1% 256)
     844.  02:06B3  CA C3 06            	jp	z,i_16	;
     845.  02:06B6  FE 02               	cp	+(2% 256)
     846.  02:06B8  CA F4 07            	jp	z,i_21	;
     847.  02:06BB  FE 03               	cp	+(3% 256)
     848.  02:06BD  CA 6E 08            	jp	z,i_23	;
     849.  02:06C0  C3 EE 08            	jp	i_25	;EOS
     850.  02:06C3                      i_16
     851.  02:06C3  21 06 00            	ld	hl,6	;const
     852.  02:06C6  39                  	add	hl,sp
     853.  02:06C7  E5                  	push	hl
     854.  02:06C8  21 0E 00            	ld	hl,14	;const
     855.  02:06CB  39                  	add	hl,sp
     856.  02:06CC  CD DE 54            	call	l_glong
     857.  02:06CF  D1                  	pop	de
     858.  02:06D0  EB                  	ex	de,hl	;l_pint
     859.  02:06D1  73                  	ld	(hl),e
     860.  02:06D2  23                  	inc	hl
     861.  02:06D3  72                  	ld	(hl),d
     862.  02:06D4  EB                   	ex	de,hl
     863.  02:06D5  21 06 00            	ld	hl,6	;const
     864.  02:06D8  39                  	add	hl,sp
     865.  02:06D9  E5                  	push	hl
     866.  02:06DA  5E                  	ld	e,(hl)
     867.  02:06DB  23                  	inc	hl
     868.  02:06DC  56                  	ld	d,(hl)
     869.  02:06DD  D5                  	push	de
     870.  02:06DE  21 0A 00            	ld	hl,10	;const
     871.  02:06E1  39                  	add	hl,sp
     872.  02:06E2  7E                  	ld	a,(hl)	;l_gint
     873.  02:06E3  23                  	inc	hl
     874.  02:06E4  66                  	ld	h,(hl)
     875.  02:06E5  6F                  	ld	l,a
     876.  02:06E6  CB 3C               	srl	h
     877.  02:06E8  CB 1D               	rr	l
     878.  02:06EA  D1                  	pop	de
     879.  02:06EB  19                  	add	hl,de
     880.  02:06EC  D1                  	pop	de
     881.  02:06ED  EB                  	ex	de,hl	;l_pint
     882.  02:06EE  73                  	ld	(hl),e
     883.  02:06EF  23                  	inc	hl
     884.  02:06F0  72                  	ld	(hl),d
     885.  02:06F1  EB                   	ex	de,hl
     886.  02:06F2  21 00 00            	ld	hl,0	;const
     887.  02:06F5  39                  	add	hl,sp	;l_gintspsp
     888.  02:06F6  7E                  	ld	a,(hl)
     889.  02:06F7  23                  	inc	hl
     890.  02:06F8  66                  	ld	h,(hl)
     891.  02:06F9  6F                  	ld	l,a
     892.  02:06FA  E5                  	push	hl
     893.  02:06FB  C1                  	pop	bc
     894.  02:06FC  E1                  	pop	hl
     895.  02:06FD  E5                  	push	hl
     896.  02:06FE  C5                  	push	bc
     897.  02:06FF  01 24 00            	ld	bc,36
     898.  02:0702  09                  	add	hl,bc
     899.  02:0703  CD CF 54            	call	l_glong2sp
     900.  02:0706  21 0C 00            	ld	hl,12	;const
     901.  02:0709  39                  	add	hl,sp
     902.  02:070A  7E                  	ld	a,(hl)	;l_gint
     903.  02:070B  23                  	inc	hl
     904.  02:070C  66                  	ld	h,(hl)
     905.  02:070D  6F                  	ld	l,a
     906.  02:070E  6C                  	ld	l,h
     907.  02:070F  26 00               	ld	h,0
     908.  02:0711  CB 3D               	srl	l
     909.  02:0713  11 00 00            	ld	de,0
     910.  02:0716  C1                  	pop	bc
     911.  02:0717  09                  	add	hl,bc
     912.  02:0718  EB                  	ex	de,hl
     913.  02:0719  C1                  	pop	bc
     914.  02:071A  ED 4A               	adc	hl,bc
     915.  02:071C  EB                  	ex	de,hl
     916.  02:071D  D5                  	push	de
     917.  02:071E  E5                  	push	hl
     918.  02:071F  CD 54 05            	call	_move_window
     919.  02:0722  C1                  	pop	bc
     920.  02:0723  C1                  	pop	bc
     921.  02:0724  C1                  	pop	bc
     922.  02:0725  7C                  	ld	a,h
     923.  02:0726  B5                  	or	l
     924.  02:0727  C2 FD 08            	jp	nz,i_14	;EOS
     925.  02:072A                      i_17
     926.  02:072A  21 08 00            	ld	hl,8	;const
     927.  02:072D  39                  	add	hl,sp
     928.  02:072E  D1                  	pop	de
     929.  02:072F  D5                  	push	de
     930.  02:0730  E5                  	push	hl
     931.  02:0731  EB                  	ex	de,hl
     932.  02:0732  01 34 00            	ld	bc,52
     933.  02:0735  09                  	add	hl,bc
     934.  02:0736  E5                  	push	hl
     935.  02:0737  21 0A 00            	ld	hl,10	;const
     936.  02:073A  39                  	add	hl,sp
     937.  02:073B  34                  	inc	(hl)
     938.  02:073C  7E                  	ld	a,(hl)
     939.  02:073D  23                  	inc	hl
     940.  02:073E  20 01               	jr	nz,$+3
     941.  02:0740  34                  	inc	(hl)
     942.  02:0741  66                  	ld	h,(hl)
     943.  02:0742  6F                  	ld	l,a
     944.  02:0743  2B                  	dec	hl
     945.  02:0744  11 00 02            	ld	de,512
     946.  02:0747  EB                  	ex	de,hl
     947.  02:0748  CD 84 54            	call	l_div_u
     948.  02:074B  EB                  	ex	de,hl
     949.  02:074C  D1                  	pop	de
     950.  02:074D  19                  	add	hl,de
     951.  02:074E  D1                  	pop	de
     952.  02:074F  EB                  	ex	de,hl
     953.  02:0750  1A                  	ld	a,(de)
     954.  02:0751  77                  	ld	(hl),a
     955.  02:0752  23                  	inc	hl
     956.  02:0753  36 00               	ld	(hl),0
     957.  02:0755  21 00 00            	ld	hl,0	;const
     958.  02:0758  39                  	add	hl,sp	;l_gintspsp
     959.  02:0759  7E                  	ld	a,(hl)
     960.  02:075A  23                  	inc	hl
     961.  02:075B  66                  	ld	h,(hl)
     962.  02:075C  6F                  	ld	l,a
     963.  02:075D  E5                  	push	hl
     964.  02:075E  C1                  	pop	bc
     965.  02:075F  E1                  	pop	hl
     966.  02:0760  E5                  	push	hl
     967.  02:0761  C5                  	push	bc
     968.  02:0762  01 24 00            	ld	bc,36
     969.  02:0765  09                  	add	hl,bc
     970.  02:0766  CD CF 54            	call	l_glong2sp
     971.  02:0769  21 0C 00            	ld	hl,12	;const
     972.  02:076C  39                  	add	hl,sp
     973.  02:076D  7E                  	ld	a,(hl)	;l_gint
     974.  02:076E  23                  	inc	hl
     975.  02:076F  66                  	ld	h,(hl)
     976.  02:0770  6F                  	ld	l,a
     977.  02:0771  6C                  	ld	l,h
     978.  02:0772  26 00               	ld	h,0
     979.  02:0774  CB 3D               	srl	l
     980.  02:0776  11 00 00            	ld	de,0
     981.  02:0779  C1                  	pop	bc
     982.  02:077A  09                  	add	hl,bc
     983.  02:077B  EB                  	ex	de,hl
     984.  02:077C  C1                  	pop	bc
     985.  02:077D  ED 4A               	adc	hl,bc
     986.  02:077F  EB                  	ex	de,hl
     987.  02:0780  D5                  	push	de
     988.  02:0781  E5                  	push	hl
     989.  02:0782  CD 54 05            	call	_move_window
     990.  02:0785  C1                  	pop	bc
     991.  02:0786  C1                  	pop	bc
     992.  02:0787  C1                  	pop	bc
     993.  02:0788  7C                  	ld	a,h
     994.  02:0789  B5                  	or	l
     995.  02:078A  C2 FD 08            	jp	nz,i_14	;EOS
     996.  02:078D                      i_18
     997.  02:078D  21 08 00            	ld	hl,8	;const
     998.  02:0790  39                  	add	hl,sp
     999.  02:0791  E5                  	push	hl
    1000.  02:0792  5E                  	ld	e,(hl)
    1001.  02:0793  23                  	inc	hl
    1002.  02:0794  56                  	ld	d,(hl)
    1003.  02:0795  D5                  	push	de
    1004.  02:0796  21 04 00            	ld	hl,4	;const
    1005.  02:0799  39                  	add	hl,sp
    1006.  02:079A  4E                  	ld	c,(hl)
    1007.  02:079B  23                  	inc	hl
    1008.  02:079C  46                  	ld	b,(hl)
    1009.  02:079D  21 34 00            	ld	hl,52
    1010.  02:07A0  09                  	add	hl,bc
    1011.  02:07A1  E5                  	push	hl
    1012.  02:07A2  21 0C 00            	ld	hl,12	;const
    1013.  02:07A5  39                  	add	hl,sp
    1014.  02:07A6  5E                  	ld	e,(hl)
    1015.  02:07A7  23                  	inc	hl
    1016.  02:07A8  56                  	ld	d,(hl)
    1017.  02:07A9  21 00 02            	ld	hl,512
    1018.  02:07AC  CD 84 54            	call	l_div_u
    1019.  02:07AF  EB                  	ex	de,hl
    1020.  02:07B0  D1                  	pop	de
    1021.  02:07B1  19                  	add	hl,de
    1022.  02:07B2  D1                  	pop	de
    1023.  02:07B3  7A                  	ld	a,d
    1024.  02:07B4  B6                  	or	(hl)
    1025.  02:07B5  57                  	ld	d,a
    1026.  02:07B6  EB                  	ex	de,hl
    1027.  02:07B7  D1                  	pop	de
    1028.  02:07B8  EB                  	ex	de,hl	;l_pint
    1029.  02:07B9  73                  	ld	(hl),e
    1030.  02:07BA  23                  	inc	hl
    1031.  02:07BB  72                  	ld	(hl),d
    1032.  02:07BC  EB                   	ex	de,hl
    1033.  02:07BD  21 02 00            	ld	hl,2	;const
    1034.  02:07C0  39                  	add	hl,sp
    1035.  02:07C1  E5                  	push	hl
    1036.  02:07C2  21 0E 00            	ld	hl,14	;const
    1037.  02:07C5  39                  	add	hl,sp
    1038.  02:07C6  CB 46               	bit	0,(hl)
    1039.  02:07C8  CA DC 07            	jp	z,i_19	;
    1040.  02:07CB  21 0A 00            	ld	hl,10	;const
    1041.  02:07CE  39                  	add	hl,sp
    1042.  02:07CF  7E                  	ld	a,(hl)	;l_gint
    1043.  02:07D0  23                  	inc	hl
    1044.  02:07D1  66                  	ld	h,(hl)
    1045.  02:07D2  6F                  	ld	l,a
    1046.  02:07D3  11 04 00            	ld	de,4
    1047.  02:07D6  CD EF 56            	call	l_asr_u_hl_by_e
    1048.  02:07D9  C3 EA 07            	jp	i_20	;
    1049.  02:07DC                      i_19
    1050.  02:07DC  21 0A 00            	ld	hl,10	;const
    1051.  02:07DF  39                  	add	hl,sp
    1052.  02:07E0  7E                  	ld	a,(hl)	;l_gint
    1053.  02:07E1  23                  	inc	hl
    1054.  02:07E2  66                  	ld	h,(hl)
    1055.  02:07E3  6F                  	ld	l,a
    1056.  02:07E4  11 FF 0F            	ld	de,4095
    1057.  02:07E7  CD 4F 54            	call	l_and
    1058.  02:07EA                      i_20
    1059.  02:07EA  11 00 00            	ld	de,0
    1060.  02:07ED  C1                  	pop	bc
    1061.  02:07EE  CD C3 54            	call	l_plong
    1062.  02:07F1  C3 FD 08            	jp	i_14	;EOS
    1063.  02:07F4                      i_21
    1064.  02:07F4  21 00 00            	ld	hl,0	;const
    1065.  02:07F7  39                  	add	hl,sp	;l_gintspsp
    1066.  02:07F8  7E                  	ld	a,(hl)
    1067.  02:07F9  23                  	inc	hl
    1068.  02:07FA  66                  	ld	h,(hl)
    1069.  02:07FB  6F                  	ld	l,a
    1070.  02:07FC  E5                  	push	hl
    1071.  02:07FD  C1                  	pop	bc
    1072.  02:07FE  E1                  	pop	hl
    1073.  02:07FF  E5                  	push	hl
    1074.  02:0800  C5                  	push	bc
    1075.  02:0801  01 24 00            	ld	bc,36
    1076.  02:0804  09                  	add	hl,bc
    1077.  02:0805  CD CF 54            	call	l_glong2sp
    1078.  02:0808  21 13 00            	ld	hl,19	;const
    1079.  02:080B  39                  	add	hl,sp
    1080.  02:080C  5E                  	ld	e,(hl)
    1081.  02:080D  23                  	inc	hl
    1082.  02:080E  56                  	ld	d,(hl)
    1083.  02:080F  23                  	inc	hl
    1084.  02:0810  6E                  	ld	l,(hl)
    1085.  02:0811  26 00               	ld	h,0
    1086.  02:0813  EB                  	ex	de,hl
    1087.  02:0814  C1                  	pop	bc
    1088.  02:0815  09                  	add	hl,bc
    1089.  02:0816  EB                  	ex	de,hl
    1090.  02:0817  C1                  	pop	bc
    1091.  02:0818  ED 4A               	adc	hl,bc
    1092.  02:081A  EB                  	ex	de,hl
    1093.  02:081B  D5                  	push	de
    1094.  02:081C  E5                  	push	hl
    1095.  02:081D  CD 54 05            	call	_move_window
    1096.  02:0820  C1                  	pop	bc
    1097.  02:0821  C1                  	pop	bc
    1098.  02:0822  C1                  	pop	bc
    1099.  02:0823  7C                  	ld	a,h
    1100.  02:0824  B5                  	or	l
    1101.  02:0825  C2 FD 08            	jp	nz,i_14	;EOS
    1102.  02:0828                      i_22
    1103.  02:0828  21 02 00            	ld	hl,2	;const
    1104.  02:082B  39                  	add	hl,sp
    1105.  02:082C  E5                  	push	hl
    1106.  02:082D  2B                  	dec	hl
    1107.  02:082E  2B                  	dec	hl
    1108.  02:082F  4E                  	ld	c,(hl)
    1109.  02:0830  23                  	inc	hl
    1110.  02:0831  46                  	ld	b,(hl)
    1111.  02:0832  21 34 00            	ld	hl,52
    1112.  02:0835  09                  	add	hl,bc
    1113.  02:0836  E5                  	push	hl
    1114.  02:0837  21 10 00            	ld	hl,16	;const
    1115.  02:083A  39                  	add	hl,sp
    1116.  02:083B  CD DE 54            	call	l_glong
    1117.  02:083E  29                  	add	hl,hl
    1118.  02:083F  CB 13               	rl	e
    1119.  02:0841  CB 12               	rl	d
    1120.  02:0843  D5                  	push	de
    1121.  02:0844  E5                  	push	hl
    1122.  02:0845  21 00 02            	ld	hl,512	;const
    1123.  02:0848  11 00 00            	ld	de,0
    1124.  02:084B  CD F8 55            	call	l_long_mod_u
    1125.  02:084E  D9                  	exx
    1126.  02:084F  E1                  	pop	hl
    1127.  02:0850  7C                  	ld	a,h
    1128.  02:0851  17                  	rla
    1129.  02:0852  9F                  	sbc	a
    1130.  02:0853  5F                  	ld	e,a
    1131.  02:0854  57                  	ld	d,a
    1132.  02:0855  D5                  	push	de
    1133.  02:0856  E5                  	push	hl
    1134.  02:0857  D9                  	exx
    1135.  02:0858  C1                  	pop	bc
    1136.  02:0859  09                  	add	hl,bc
    1137.  02:085A  EB                  	ex	de,hl
    1138.  02:085B  C1                  	pop	bc
    1139.  02:085C  ED 4A               	adc	hl,bc
    1140.  02:085E  EB                  	ex	de,hl
    1141.  02:085F  E5                  	push	hl
    1142.  02:0860  CD 80 04            	call	_ld_word
    1143.  02:0863  C1                  	pop	bc
    1144.  02:0864  11 00 00            	ld	de,0
    1145.  02:0867  C1                  	pop	bc
    1146.  02:0868  CD C3 54            	call	l_plong
    1147.  02:086B  C3 FD 08            	jp	i_14	;EOS
    1148.  02:086E                      i_23
    1149.  02:086E  21 00 00            	ld	hl,0	;const
    1150.  02:0871  39                  	add	hl,sp	;l_gintspsp
    1151.  02:0872  7E                  	ld	a,(hl)
    1152.  02:0873  23                  	inc	hl
    1153.  02:0874  66                  	ld	h,(hl)
    1154.  02:0875  6F                  	ld	l,a
    1155.  02:0876  E5                  	push	hl
    1156.  02:0877  C1                  	pop	bc
    1157.  02:0878  E1                  	pop	hl
    1158.  02:0879  E5                  	push	hl
    1159.  02:087A  C5                  	push	bc
    1160.  02:087B  01 24 00            	ld	bc,36
    1161.  02:087E  09                  	add	hl,bc
    1162.  02:087F  CD CF 54            	call	l_glong2sp
    1163.  02:0882  21 12 00            	ld	hl,18	;const
    1164.  02:0885  39                  	add	hl,sp
    1165.  02:0886  CD CF 54            	call	l_glong2sp
    1166.  02:0889  2E 07               	ld	l,7
    1167.  02:088B  CD 56 56            	call	l_long_asr_u
    1168.  02:088E  C1                  	pop	bc
    1169.  02:088F  09                  	add	hl,bc
    1170.  02:0890  EB                  	ex	de,hl
    1171.  02:0891  C1                  	pop	bc
    1172.  02:0892  ED 4A               	adc	hl,bc
    1173.  02:0894  EB                  	ex	de,hl
    1174.  02:0895  D5                  	push	de
    1175.  02:0896  E5                  	push	hl
    1176.  02:0897  CD 54 05            	call	_move_window
    1177.  02:089A  C1                  	pop	bc
    1178.  02:089B  C1                  	pop	bc
    1179.  02:089C  C1                  	pop	bc
    1180.  02:089D  7C                  	ld	a,h
    1181.  02:089E  B5                  	or	l
    1182.  02:089F  C2 FD 08            	jp	nz,i_14	;EOS
    1183.  02:08A2                      i_24
    1184.  02:08A2  21 02 00            	ld	hl,2	;const
    1185.  02:08A5  39                  	add	hl,sp
    1186.  02:08A6  E5                  	push	hl
    1187.  02:08A7  2B                  	dec	hl
    1188.  02:08A8  2B                  	dec	hl
    1189.  02:08A9  4E                  	ld	c,(hl)
    1190.  02:08AA  23                  	inc	hl
    1191.  02:08AB  46                  	ld	b,(hl)
    1192.  02:08AC  21 34 00            	ld	hl,52
    1193.  02:08AF  09                  	add	hl,bc
    1194.  02:08B0  E5                  	push	hl
    1195.  02:08B1  21 10 00            	ld	hl,16	;const
    1196.  02:08B4  39                  	add	hl,sp
    1197.  02:08B5  CD DE 54            	call	l_glong
    1198.  02:08B8  29                  	add	hl,hl
    1199.  02:08B9  CB 13               	rl	e
    1200.  02:08BB  CB 12               	rl	d
    1201.  02:08BD  29                  	add	hl,hl
    1202.  02:08BE  CB 13               	rl	e
    1203.  02:08C0  CB 12               	rl	d
    1204.  02:08C2  D5                  	push	de
    1205.  02:08C3  E5                  	push	hl
    1206.  02:08C4  21 00 02            	ld	hl,512	;const
    1207.  02:08C7  11 00 00            	ld	de,0
    1208.  02:08CA  CD F8 55            	call	l_long_mod_u
    1209.  02:08CD  D9                  	exx
    1210.  02:08CE  E1                  	pop	hl
    1211.  02:08CF  7C                  	ld	a,h
    1212.  02:08D0  17                  	rla
    1213.  02:08D1  9F                  	sbc	a
    1214.  02:08D2  5F                  	ld	e,a
    1215.  02:08D3  57                  	ld	d,a
    1216.  02:08D4  D5                  	push	de
    1217.  02:08D5  E5                  	push	hl
    1218.  02:08D6  D9                  	exx
    1219.  02:08D7  C1                  	pop	bc
    1220.  02:08D8  09                  	add	hl,bc
    1221.  02:08D9  EB                  	ex	de,hl
    1222.  02:08DA  C1                  	pop	bc
    1223.  02:08DB  ED 4A               	adc	hl,bc
    1224.  02:08DD  EB                  	ex	de,hl
    1225.  02:08DE  E5                  	push	hl
    1226.  02:08DF  CD A3 04            	call	_ld_dword
    1227.  02:08E2  C1                  	pop	bc
    1228.  02:08E3  7A                  	ld	a,d
    1229.  02:08E4  E6 0F               	and	15
    1230.  02:08E6  57                  	ld	d,a
    1231.  02:08E7  C1                  	pop	bc
    1232.  02:08E8  CD C3 54            	call	l_plong
    1233.  02:08EB  C3 FD 08            	jp	i_14	;EOS
    1234.  02:08EE                      i_25
    1235.  02:08EE  21 02 00            	ld	hl,2	;const
    1236.  02:08F1  39                  	add	hl,sp
    1237.  02:08F2  44                  	ld	b,h
    1238.  02:08F3  4D                  	ld	c,l
    1239.  02:08F4  21 01 00            	ld	hl,1	;const
    1240.  02:08F7  11 00 00            	ld	de,0
    1241.  02:08FA  CD C3 54            	call	l_plong
    1242.  02:08FD                      i_12
    1243.  02:08FD  21 02 00            	ld	hl,2	;const
    1244.  02:0900  39                  	add	hl,sp
    1245.  02:0901  CD DE 54            	call	l_glong
    1246.  02:0904  C1                  	pop	bc
    1247.  02:0905  C1                  	pop	bc
    1248.  02:0906  C1                  	pop	bc
    1249.  02:0907  C1                  	pop	bc
    1250.  02:0908  C1                  	pop	bc
    1251.  02:0909  C9                  	ret
    1252.  02:090A                      
    1253.  02:090A                      
    1254.  02:090A                      	C_LINE	1737,"./ff.c::get_fat::0::13"
    1255.  02:090A                      
    1256.  02:090A                      ; Function dir_sdi flags 0x00000200 __smallc 
    1257.  02:090A                      ; const int FRESULTdir_sdi(struct 0__anonstruct_237_3 DIR* dp, unsigned long ofs)
    1258.  02:090A                      ; parameter 'unsigned long ofs' at sp+2 size(4)
    1259.  02:090A                      ; parameter 'struct 0__anonstruct_237_3 DIR* dp' at sp+6 size(2)
    1260.  02:090A                      	C_LINE	1741,"./ff.c::dir_sdi::0::13"
    1261.  02:090A                      @_dir_sdi
    1262.  02:090A  C5                  	push	bc
    1263.  02:090B  C5                  	push	bc
    1264.  02:090C  C5                  	push	bc
    1265.  02:090D  C5                  	push	bc
    1266.  02:090E  21 0E 00            	ld	hl,14	;const
    1267.  02:0911  39                  	add	hl,sp
    1268.  02:0912  7E                  	ld	a,(hl)	;l_gint
    1269.  02:0913  23                  	inc	hl
    1270.  02:0914  66                  	ld	h,(hl)
    1271.  02:0915  6F                  	ld	l,a
    1272.  02:0916  5E                  	ld	e,(hl)
    1273.  02:0917  23                  	inc	hl
    1274.  02:0918  56                  	ld	d,(hl)
    1275.  02:0919  D5                  	push	de
    1276.  02:091A  21 0C 00            	ld	hl,12	;const
    1277.  02:091D  39                  	add	hl,sp
    1278.  02:091E  CD DE 54            	call	l_glong
    1279.  02:0921  D5                  	push	de
    1280.  02:0922  E5                  	push	hl
    1281.  02:0923  C3 39 09            	jp	i_27	;EOS
    1282.  02:0926  21 04 00            	ld	hl,4	;const
    1283.  02:0929  39                  	add	hl,sp
    1284.  02:092A  7E                  	ld	a,(hl)	;l_gint
    1285.  02:092B  23                  	inc	hl
    1286.  02:092C  66                  	ld	h,(hl)
    1287.  02:092D  6F                  	ld	l,a
    1288.  02:092E  7E                  	ld	a,(hl)
    1289.  02:092F  FE 04               	cp	4
    1290.  02:0931  C2 39 09            	jp	nz,i_27	;
    1291.  02:0934  21 01 00            	ld	hl,1	;const
    1292.  02:0937  18 03               	jr	i_28
    1293.  02:0939                      i_27
    1294.  02:0939  21 00 00            	ld	hl,0	;const
    1295.  02:093C                      i_28
    1296.  02:093C  D2 48 09            	jp	nc,i_29	;
    1297.  02:093F  21 00 00            	ld	hl,0	;const
    1298.  02:0942  11 00 10            	ld	de,4096
    1299.  02:0945  C3 4E 09            	jp	i_30	;
    1300.  02:0948                      i_29
    1301.  02:0948  21 00 00            	ld	hl,0	;const
    1302.  02:094B  11 20 00            	ld	de,32
    1303.  02:094E                      i_30
    1304.  02:094E  CD E9 55            	call	l_long_uge
    1305.  02:0951  DA 5E 09            	jp	c,i_31	;
    1306.  02:0954  21 0C 00            	ld	hl,12	;const
    1307.  02:0957  39                  	add	hl,sp
    1308.  02:0958  7E                  	ld	a,(hl)
    1309.  02:0959  E6 1F               	and	31
    1310.  02:095B  CA 67 09            	jp	z,i_26	;
    1311.  02:095E                      i_31
    1312.  02:095E  21 02 00            	ld	hl,2	;const
    1313.  02:0961  C1                  	pop	bc
    1314.  02:0962  C1                  	pop	bc
    1315.  02:0963  C1                  	pop	bc
    1316.  02:0964  C1                  	pop	bc
    1317.  02:0965  C1                  	pop	bc
    1318.  02:0966  C9                  	ret
    1319.  02:0967                      
    1320.  02:0967                      
    1321.  02:0967                      i_26
    1322.  02:0967  21 10 00            	ld	hl,16	;const
    1323.  02:096A  39                  	add	hl,sp
    1324.  02:096B  4E                  	ld	c,(hl)
    1325.  02:096C  23                  	inc	hl
    1326.  02:096D  46                  	ld	b,(hl)
    1327.  02:096E  21 0E 00            	ld	hl,14
    1328.  02:0971  09                  	add	hl,bc
    1329.  02:0972  E5                  	push	hl
    1330.  02:0973  21 0E 00            	ld	hl,14	;const
    1331.  02:0976  39                  	add	hl,sp
    1332.  02:0977  CD DE 54            	call	l_glong
    1333.  02:097A  C1                  	pop	bc
    1334.  02:097B  CD C3 54            	call	l_plong
    1335.  02:097E  21 02 00            	ld	hl,2	;const
    1336.  02:0981  39                  	add	hl,sp
    1337.  02:0982  E5                  	push	hl
    1338.  02:0983  21 12 00            	ld	hl,18	;const
    1339.  02:0986  39                  	add	hl,sp
    1340.  02:0987  4E                  	ld	c,(hl)
    1341.  02:0988  23                  	inc	hl
    1342.  02:0989  46                  	ld	b,(hl)
    1343.  02:098A  21 06 00            	ld	hl,6
    1344.  02:098D  09                  	add	hl,bc
    1345.  02:098E  CD DE 54            	call	l_glong
    1346.  02:0991  C1                  	pop	bc
    1347.  02:0992  CD C3 54            	call	l_plong
    1348.  02:0995  21 02 00            	ld	hl,2	;const
    1349.  02:0998  39                  	add	hl,sp
    1350.  02:0999  CD DE 54            	call	l_glong
    1351.  02:099C  7A                  	ld	a,d
    1352.  02:099D  B3                  	or	e
    1353.  02:099E  B4                  	or	h
    1354.  02:099F  B5                  	or	l
    1355.  02:09A0  20 01               	jr	nz,$+3
    1356.  02:09A2  37                  	scf
    1357.  02:09A3  D2 C7 09            	jp	nc,i_34	;
    1358.  02:09A6  E1                  	pop	hl
    1359.  02:09A7  E5                  	push	hl
    1360.  02:09A8  6E                  	ld	l,(hl)
    1361.  02:09A9  26 00               	ld	h,0
    1362.  02:09AB  7D                  	ld	a,l
    1363.  02:09AC  D6 03               	sub	3
    1364.  02:09AE  3F                  	ccf
    1365.  02:09AF  D2 C7 09            	jp	nc,i_34	;
    1366.  02:09B2                      i_35_i_34
    1367.  02:09B2  21 02 00            	ld	hl,2	;const
    1368.  02:09B5  39                  	add	hl,sp
    1369.  02:09B6  E5                  	push	hl
    1370.  02:09B7  2B                  	dec	hl
    1371.  02:09B8  2B                  	dec	hl
    1372.  02:09B9  4E                  	ld	c,(hl)
    1373.  02:09BA  23                  	inc	hl
    1374.  02:09BB  46                  	ld	b,(hl)
    1375.  02:09BC  21 28 00            	ld	hl,40
    1376.  02:09BF  09                  	add	hl,bc
    1377.  02:09C0  CD DE 54            	call	l_glong
    1378.  02:09C3  C1                  	pop	bc
    1379.  02:09C4  CD C3 54            	call	l_plong
    1380.  02:09C7                      i_33
    1381.  02:09C7  21 02 00            	ld	hl,2	;const
    1382.  02:09CA  39                  	add	hl,sp
    1383.  02:09CB  CD DE 54            	call	l_glong
    1384.  02:09CE  7A                  	ld	a,d
    1385.  02:09CF  B3                  	or	e
    1386.  02:09D0  B4                  	or	h
    1387.  02:09D1  B5                  	or	l
    1388.  02:09D2  20 01               	jr	nz,$+3
    1389.  02:09D4  37                  	scf
    1390.  02:09D5  D2 24 0A            	jp	nc,i_37	;
    1391.  02:09D8  21 0C 00            	ld	hl,12	;const
    1392.  02:09DB  39                  	add	hl,sp
    1393.  02:09DC  CD CF 54            	call	l_glong2sp
    1394.  02:09DF  2E 05               	ld	l,5
    1395.  02:09E1  CD 56 56            	call	l_long_asr_u
    1396.  02:09E4  D5                  	push	de
    1397.  02:09E5  E5                  	push	hl
    1398.  02:09E6  21 04 00            	ld	hl,4	;const
    1399.  02:09E9  39                  	add	hl,sp
    1400.  02:09EA  4E                  	ld	c,(hl)
    1401.  02:09EB  23                  	inc	hl
    1402.  02:09EC  46                  	ld	b,(hl)
    1403.  02:09ED  21 08 00            	ld	hl,8
    1404.  02:09F0  09                  	add	hl,bc
    1405.  02:09F1  7E                  	ld	a,(hl)	;l_gint
    1406.  02:09F2  23                  	inc	hl
    1407.  02:09F3  66                  	ld	h,(hl)
    1408.  02:09F4  6F                  	ld	l,a
    1409.  02:09F5  11 00 00            	ld	de,0
    1410.  02:09F8  CD E9 55            	call	l_long_uge
    1411.  02:09FB  D2 07 0A            	jp	nc,i_38	;
    1412.  02:09FE  21 02 00            	ld	hl,2	;const
    1413.  02:0A01  C1                  	pop	bc
    1414.  02:0A02  C1                  	pop	bc
    1415.  02:0A03  C1                  	pop	bc
    1416.  02:0A04  C1                  	pop	bc
    1417.  02:0A05  C1                  	pop	bc
    1418.  02:0A06  C9                  	ret
    1419.  02:0A07                      
    1420.  02:0A07                      
    1421.  02:0A07                      i_38
    1422.  02:0A07  21 10 00            	ld	hl,16	;const
    1423.  02:0A0A  39                  	add	hl,sp
    1424.  02:0A0B  4E                  	ld	c,(hl)
    1425.  02:0A0C  23                  	inc	hl
    1426.  02:0A0D  46                  	ld	b,(hl)
    1427.  02:0A0E  21 16 00            	ld	hl,22
    1428.  02:0A11  09                  	add	hl,bc
    1429.  02:0A12  D1                  	pop	de
    1430.  02:0A13  D5                  	push	de
    1431.  02:0A14  E5                  	push	hl
    1432.  02:0A15  EB                  	ex	de,hl
    1433.  02:0A16  01 28 00            	ld	bc,40
    1434.  02:0A19  09                  	add	hl,bc
    1435.  02:0A1A  CD DE 54            	call	l_glong
    1436.  02:0A1D  C1                  	pop	bc
    1437.  02:0A1E  CD C3 54            	call	l_plong
    1438.  02:0A21  C3 1C 0B            	jp	i_39	;EOS
    1439.  02:0A24                      i_37
    1440.  02:0A24  21 06 00            	ld	hl,6	;const
    1441.  02:0A27  39                  	add	hl,sp
    1442.  02:0A28  D1                  	pop	de
    1443.  02:0A29  D5                  	push	de
    1444.  02:0A2A  E5                  	push	hl
    1445.  02:0A2B  EB                  	ex	de,hl
    1446.  02:0A2C  01 0A 00            	ld	bc,10
    1447.  02:0A2F  09                  	add	hl,bc
    1448.  02:0A30  7E                  	ld	a,(hl)	;l_gint
    1449.  02:0A31  23                  	inc	hl
    1450.  02:0A32  66                  	ld	h,(hl)
    1451.  02:0A33  6F                  	ld	l,a
    1452.  02:0A34  11 00 00            	ld	de,0
    1453.  02:0A37  D5                  	push	de
    1454.  02:0A38  E5                  	push	hl
    1455.  02:0A39  21 00 02            	ld	hl,512	;const
    1456.  02:0A3C  11 00 00            	ld	de,0
    1457.  02:0A3F  CD 38 55            	call	l_long_mult
    1458.  02:0A42  C1                  	pop	bc
    1459.  02:0A43  CD C3 54            	call	l_plong
    1460.  02:0A46                      i_40
    1461.  02:0A46  21 0C 00            	ld	hl,12	;const
    1462.  02:0A49  39                  	add	hl,sp
    1463.  02:0A4A  CD CF 54            	call	l_glong2sp
    1464.  02:0A4D  21 0A 00            	ld	hl,10	;const
    1465.  02:0A50  39                  	add	hl,sp
    1466.  02:0A51  CD DE 54            	call	l_glong
    1467.  02:0A54  CD E9 55            	call	l_long_uge
    1468.  02:0A57  D2 F4 0A            	jp	nc,i_41	;
    1469.  02:0A5A  21 02 00            	ld	hl,2	;const
    1470.  02:0A5D  39                  	add	hl,sp
    1471.  02:0A5E  E5                  	push	hl
    1472.  02:0A5F  21 12 00            	ld	hl,18	;const
    1473.  02:0A62  39                  	add	hl,sp	;l_gintspsp
    1474.  02:0A63  7E                  	ld	a,(hl)
    1475.  02:0A64  23                  	inc	hl
    1476.  02:0A65  66                  	ld	h,(hl)
    1477.  02:0A66  6F                  	ld	l,a
    1478.  02:0A67  E5                  	push	hl
    1479.  02:0A68  21 06 00            	ld	hl,6	;const
    1480.  02:0A6B  39                  	add	hl,sp
    1481.  02:0A6C  CD DE 54            	call	l_glong
    1482.  02:0A6F  D5                  	push	de
    1483.  02:0A70  E5                  	push	hl
    1484.  02:0A71  CD 49 06            	call	_get_fat
    1485.  02:0A74  C1                  	pop	bc
    1486.  02:0A75  C1                  	pop	bc
    1487.  02:0A76  C1                  	pop	bc
    1488.  02:0A77  C1                  	pop	bc
    1489.  02:0A78  CD C3 54            	call	l_plong
    1490.  02:0A7B  21 02 00            	ld	hl,2	;const
    1491.  02:0A7E  39                  	add	hl,sp
    1492.  02:0A7F  CD CF 54            	call	l_glong2sp
    1493.  02:0A82  21 FF FF            	ld	hl,65535	;const
    1494.  02:0A85  11 FF FF            	ld	de,65535
    1495.  02:0A88  CD 6F 56            	call	l_long_eq
    1496.  02:0A8B  D2 97 0A            	jp	nc,i_42	;
    1497.  02:0A8E  21 01 00            	ld	hl,1	;const
    1498.  02:0A91  C1                  	pop	bc
    1499.  02:0A92  C1                  	pop	bc
    1500.  02:0A93  C1                  	pop	bc
    1501.  02:0A94  C1                  	pop	bc
    1502.  02:0A95  C1                  	pop	bc
    1503.  02:0A96  C9                  	ret
    1504.  02:0A97                      
    1505.  02:0A97                      
    1506.  02:0A97                      i_42
    1507.  02:0A97  21 02 00            	ld	hl,2	;const
    1508.  02:0A9A  39                  	add	hl,sp
    1509.  02:0A9B  CD DE 54            	call	l_glong
    1510.  02:0A9E  7D                  	ld	a,l
    1511.  02:0A9F  D6 02               	sub	2
    1512.  02:0AA1  7C                  	ld	a,h
    1513.  02:0AA2  DE 00               	sbc	0
    1514.  02:0AA4  7B                  	ld	a,e
    1515.  02:0AA5  DE 00               	sbc	0
    1516.  02:0AA7  7A                  	ld	a,d
    1517.  02:0AA8  DE 00               	sbc	0
    1518.  02:0AAA  DA C8 0A            	jp	c,i_44	;
    1519.  02:0AAD  21 02 00            	ld	hl,2	;const
    1520.  02:0AB0  39                  	add	hl,sp
    1521.  02:0AB1  CD CF 54            	call	l_glong2sp
    1522.  02:0AB4  21 04 00            	ld	hl,4	;const
    1523.  02:0AB7  39                  	add	hl,sp
    1524.  02:0AB8  4E                  	ld	c,(hl)
    1525.  02:0AB9  23                  	inc	hl
    1526.  02:0ABA  46                  	ld	b,(hl)
    1527.  02:0ABB  21 18 00            	ld	hl,24
    1528.  02:0ABE  09                  	add	hl,bc
    1529.  02:0ABF  CD DE 54            	call	l_glong
    1530.  02:0AC2  CD E9 55            	call	l_long_uge
    1531.  02:0AC5  D2 D1 0A            	jp	nc,i_43	;
    1532.  02:0AC8                      i_44
    1533.  02:0AC8  21 02 00            	ld	hl,2	;const
    1534.  02:0ACB  C1                  	pop	bc
    1535.  02:0ACC  C1                  	pop	bc
    1536.  02:0ACD  C1                  	pop	bc
    1537.  02:0ACE  C1                  	pop	bc
    1538.  02:0ACF  C1                  	pop	bc
    1539.  02:0AD0  C9                  	ret
    1540.  02:0AD1                      
    1541.  02:0AD1                      
    1542.  02:0AD1                      i_43
    1543.  02:0AD1  21 0C 00            	ld	hl,12	;const
    1544.  02:0AD4  39                  	add	hl,sp
    1545.  02:0AD5  E5                  	push	hl
    1546.  02:0AD6  CD CF 54            	call	l_glong2sp
    1547.  02:0AD9  21 0C 00            	ld	hl,12	;const
    1548.  02:0ADC  39                  	add	hl,sp
    1549.  02:0ADD  CD DE 54            	call	l_glong
    1550.  02:0AE0  4D                  	ld	c,l
    1551.  02:0AE1  44                  	ld	b,h
    1552.  02:0AE2  E1                  	pop	hl
    1553.  02:0AE3  A7                  	and	a
    1554.  02:0AE4  ED 42               	sbc	hl,bc
    1555.  02:0AE6  EB                  	ex	de,hl
    1556.  02:0AE7  4D                  	ld	c,l
    1557.  02:0AE8  44                  	ld	b,h
    1558.  02:0AE9  E1                  	pop	hl
    1559.  02:0AEA  ED 42               	sbc	hl,bc
    1560.  02:0AEC  EB                  	ex	de,hl
    1561.  02:0AED  C1                  	pop	bc
    1562.  02:0AEE  CD C3 54            	call	l_plong
    1563.  02:0AF1  C3 46 0A            	jp	i_40	;EOS
    1564.  02:0AF4                      i_41
    1565.  02:0AF4  21 10 00            	ld	hl,16	;const
    1566.  02:0AF7  39                  	add	hl,sp
    1567.  02:0AF8  4E                  	ld	c,(hl)
    1568.  02:0AF9  23                  	inc	hl
    1569.  02:0AFA  46                  	ld	b,(hl)
    1570.  02:0AFB  21 16 00            	ld	hl,22
    1571.  02:0AFE  09                  	add	hl,bc
    1572.  02:0AFF  E5                  	push	hl
    1573.  02:0B00  21 02 00            	ld	hl,2	;const
    1574.  02:0B03  39                  	add	hl,sp	;l_gintspsp
    1575.  02:0B04  7E                  	ld	a,(hl)
    1576.  02:0B05  23                  	inc	hl
    1577.  02:0B06  66                  	ld	h,(hl)
    1578.  02:0B07  6F                  	ld	l,a
    1579.  02:0B08  E5                  	push	hl
    1580.  02:0B09  21 06 00            	ld	hl,6	;const
    1581.  02:0B0C  39                  	add	hl,sp
    1582.  02:0B0D  CD DE 54            	call	l_glong
    1583.  02:0B10  D5                  	push	de
    1584.  02:0B11  E5                  	push	hl
    1585.  02:0B12  CD DA 05            	call	_clst2sect
    1586.  02:0B15  C1                  	pop	bc
    1587.  02:0B16  C1                  	pop	bc
    1588.  02:0B17  C1                  	pop	bc
    1589.  02:0B18  C1                  	pop	bc
    1590.  02:0B19  CD C3 54            	call	l_plong
    1591.  02:0B1C                      i_39
    1592.  02:0B1C  21 10 00            	ld	hl,16	;const
    1593.  02:0B1F  39                  	add	hl,sp
    1594.  02:0B20  4E                  	ld	c,(hl)
    1595.  02:0B21  23                  	inc	hl
    1596.  02:0B22  46                  	ld	b,(hl)
    1597.  02:0B23  21 12 00            	ld	hl,18
    1598.  02:0B26  09                  	add	hl,bc
    1599.  02:0B27  E5                  	push	hl
    1600.  02:0B28  21 04 00            	ld	hl,4	;const
    1601.  02:0B2B  39                  	add	hl,sp
    1602.  02:0B2C  CD DE 54            	call	l_glong
    1603.  02:0B2F  C1                  	pop	bc
    1604.  02:0B30  CD C3 54            	call	l_plong
    1605.  02:0B33  21 10 00            	ld	hl,16	;const
    1606.  02:0B36  39                  	add	hl,sp
    1607.  02:0B37  4E                  	ld	c,(hl)
    1608.  02:0B38  23                  	inc	hl
    1609.  02:0B39  46                  	ld	b,(hl)
    1610.  02:0B3A  21 16 00            	ld	hl,22
    1611.  02:0B3D  09                  	add	hl,bc
    1612.  02:0B3E  CD DE 54            	call	l_glong
    1613.  02:0B41  7A                  	ld	a,d
    1614.  02:0B42  B3                  	or	e
    1615.  02:0B43  B4                  	or	h
    1616.  02:0B44  B5                  	or	l
    1617.  02:0B45  20 01               	jr	nz,$+3
    1618.  02:0B47  37                  	scf
    1619.  02:0B48  D2 54 0B            	jp	nc,i_46	;
    1620.  02:0B4B  21 02 00            	ld	hl,2	;const
    1621.  02:0B4E  C1                  	pop	bc
    1622.  02:0B4F  C1                  	pop	bc
    1623.  02:0B50  C1                  	pop	bc
    1624.  02:0B51  C1                  	pop	bc
    1625.  02:0B52  C1                  	pop	bc
    1626.  02:0B53  C9                  	ret
    1627.  02:0B54                      
    1628.  02:0B54                      
    1629.  02:0B54                      i_46
    1630.  02:0B54  21 10 00            	ld	hl,16	;const
    1631.  02:0B57  39                  	add	hl,sp
    1632.  02:0B58  4E                  	ld	c,(hl)
    1633.  02:0B59  23                  	inc	hl
    1634.  02:0B5A  46                  	ld	b,(hl)
    1635.  02:0B5B  21 16 00            	ld	hl,22
    1636.  02:0B5E  09                  	add	hl,bc
    1637.  02:0B5F  E5                  	push	hl
    1638.  02:0B60  CD CF 54            	call	l_glong2sp
    1639.  02:0B63  21 12 00            	ld	hl,18	;const
    1640.  02:0B66  39                  	add	hl,sp
    1641.  02:0B67  CD CF 54            	call	l_glong2sp
    1642.  02:0B6A  21 00 02            	ld	hl,512	;const
    1643.  02:0B6D  11 00 00            	ld	de,0
    1644.  02:0B70  CD FB 55            	call	l_long_div_u
    1645.  02:0B73  C1                  	pop	bc
    1646.  02:0B74  09                  	add	hl,bc
    1647.  02:0B75  EB                  	ex	de,hl
    1648.  02:0B76  C1                  	pop	bc
    1649.  02:0B77  ED 4A               	adc	hl,bc
    1650.  02:0B79  EB                  	ex	de,hl
    1651.  02:0B7A  C1                  	pop	bc
    1652.  02:0B7B  CD C3 54            	call	l_plong
    1653.  02:0B7E  21 10 00            	ld	hl,16	;const
    1654.  02:0B81  39                  	add	hl,sp
    1655.  02:0B82  4E                  	ld	c,(hl)
    1656.  02:0B83  23                  	inc	hl
    1657.  02:0B84  46                  	ld	b,(hl)
    1658.  02:0B85  21 1A 00            	ld	hl,26
    1659.  02:0B88  09                  	add	hl,bc
    1660.  02:0B89  D1                  	pop	de
    1661.  02:0B8A  D5                  	push	de
    1662.  02:0B8B  E5                  	push	hl
    1663.  02:0B8C  EB                  	ex	de,hl
    1664.  02:0B8D  01 34 00            	ld	bc,52
    1665.  02:0B90  09                  	add	hl,bc
    1666.  02:0B91  E5                  	push	hl
    1667.  02:0B92  21 10 00            	ld	hl,16	;const
    1668.  02:0B95  39                  	add	hl,sp
    1669.  02:0B96  CD CF 54            	call	l_glong2sp
    1670.  02:0B99  21 00 02            	ld	hl,512	;const
    1671.  02:0B9C  11 00 00            	ld	de,0
    1672.  02:0B9F  CD F8 55            	call	l_long_mod_u
    1673.  02:0BA2  D9                  	exx
    1674.  02:0BA3  E1                  	pop	hl
    1675.  02:0BA4  7C                  	ld	a,h
    1676.  02:0BA5  17                  	rla
    1677.  02:0BA6  9F                  	sbc	a
    1678.  02:0BA7  5F                  	ld	e,a
    1679.  02:0BA8  57                  	ld	d,a
    1680.  02:0BA9  D5                  	push	de
    1681.  02:0BAA  E5                  	push	hl
    1682.  02:0BAB  D9                  	exx
    1683.  02:0BAC  C1                  	pop	bc
    1684.  02:0BAD  09                  	add	hl,bc
    1685.  02:0BAE  EB                  	ex	de,hl
    1686.  02:0BAF  C1                  	pop	bc
    1687.  02:0BB0  ED 4A               	adc	hl,bc
    1688.  02:0BB2  EB                  	ex	de,hl
    1689.  02:0BB3  D1                  	pop	de
    1690.  02:0BB4  EB                  	ex	de,hl	;l_pint
    1691.  02:0BB5  73                  	ld	(hl),e
    1692.  02:0BB6  23                  	inc	hl
    1693.  02:0BB7  72                  	ld	(hl),d
    1694.  02:0BB8  EB                   	ex	de,hl
    1695.  02:0BB9  21 00 00            	ld	hl,0	;const
    1696.  02:0BBC  C1                  	pop	bc
    1697.  02:0BBD  C1                  	pop	bc
    1698.  02:0BBE  C1                  	pop	bc
    1699.  02:0BBF  C1                  	pop	bc
    1700.  02:0BC0  C1                  	pop	bc
    1701.  02:0BC1  C9                  	ret
    1702.  02:0BC2                      
    1703.  02:0BC2                      
    1704.  02:0BC2                      	C_LINE	1785,"./ff.c::dir_sdi::0::19"
    1705.  02:0BC2                      
    1706.  02:0BC2                      ; Function dir_next flags 0x00000200 __smallc 
    1707.  02:0BC2                      ; const int FRESULTdir_next(struct 0__anonstruct_237_3 DIR* dp, int stretch)
    1708.  02:0BC2                      ; parameter 'int stretch' at sp+2 size(2)
    1709.  02:0BC2                      ; parameter 'struct 0__anonstruct_237_3 DIR* dp' at sp+4 size(2)
    1710.  02:0BC2                      	C_LINE	1789,"./ff.c::dir_next::0::19"
    1711.  02:0BC2                      @_dir_next
    1712.  02:0BC2  C5                  	push	bc
    1713.  02:0BC3  C5                  	push	bc
    1714.  02:0BC4  C5                  	push	bc
    1715.  02:0BC5  C5                  	push	bc
    1716.  02:0BC6  21 0C 00            	ld	hl,12	;const
    1717.  02:0BC9  39                  	add	hl,sp
    1718.  02:0BCA  7E                  	ld	a,(hl)	;l_gint
    1719.  02:0BCB  23                  	inc	hl
    1720.  02:0BCC  66                  	ld	h,(hl)
    1721.  02:0BCD  6F                  	ld	l,a
    1722.  02:0BCE  5E                  	ld	e,(hl)
    1723.  02:0BCF  23                  	inc	hl
    1724.  02:0BD0  56                  	ld	d,(hl)
    1725.  02:0BD1  D5                  	push	de
    1726.  02:0BD2  21 06 00            	ld	hl,6	;const
    1727.  02:0BD5  39                  	add	hl,sp
    1728.  02:0BD6  E5                  	push	hl
    1729.  02:0BD7  21 10 00            	ld	hl,16	;const
    1730.  02:0BDA  39                  	add	hl,sp
    1731.  02:0BDB  4E                  	ld	c,(hl)
    1732.  02:0BDC  23                  	inc	hl
    1733.  02:0BDD  46                  	ld	b,(hl)
    1734.  02:0BDE  21 0E 00            	ld	hl,14
    1735.  02:0BE1  09                  	add	hl,bc
    1736.  02:0BE2  CD DE 54            	call	l_glong
    1737.  02:0BE5  01 20 00            	ld	bc,32
    1738.  02:0BE8  09                  	add	hl,bc
    1739.  02:0BE9  30 01               	jr	nc,$+3
    1740.  02:0BEB  13                  	inc	de
    1741.  02:0BEC  C1                  	pop	bc
    1742.  02:0BED  CD C3 54            	call	l_plong
    1743.  02:0BF0  21 06 00            	ld	hl,6	;const
    1744.  02:0BF3  39                  	add	hl,sp
    1745.  02:0BF4  CD DE 54            	call	l_glong
    1746.  02:0BF7  D5                  	push	de
    1747.  02:0BF8  E5                  	push	hl
    1748.  02:0BF9  C3 0F 0C            	jp	i_48	;EOS
    1749.  02:0BFC  21 04 00            	ld	hl,4	;const
    1750.  02:0BFF  39                  	add	hl,sp
    1751.  02:0C00  7E                  	ld	a,(hl)	;l_gint
    1752.  02:0C01  23                  	inc	hl
    1753.  02:0C02  66                  	ld	h,(hl)
    1754.  02:0C03  6F                  	ld	l,a
    1755.  02:0C04  7E                  	ld	a,(hl)
    1756.  02:0C05  FE 04               	cp	4
    1757.  02:0C07  C2 0F 0C            	jp	nz,i_48	;
    1758.  02:0C0A  21 01 00            	ld	hl,1	;const
    1759.  02:0C0D  18 03               	jr	i_49
    1760.  02:0C0F                      i_48
    1761.  02:0C0F  21 00 00            	ld	hl,0	;const
    1762.  02:0C12                      i_49
    1763.  02:0C12  D2 1E 0C            	jp	nc,i_50	;
    1764.  02:0C15  21 00 00            	ld	hl,0	;const
    1765.  02:0C18  11 00 10            	ld	de,4096
    1766.  02:0C1B  C3 24 0C            	jp	i_51	;
    1767.  02:0C1E                      i_50
    1768.  02:0C1E  21 00 00            	ld	hl,0	;const
    1769.  02:0C21  11 20 00            	ld	de,32
    1770.  02:0C24                      i_51
    1771.  02:0C24  CD E9 55            	call	l_long_uge
    1772.  02:0C27  D2 3F 0C            	jp	nc,i_47	;
    1773.  02:0C2A  21 0E 00            	ld	hl,14	;const
    1774.  02:0C2D  39                  	add	hl,sp
    1775.  02:0C2E  4E                  	ld	c,(hl)
    1776.  02:0C2F  23                  	inc	hl
    1777.  02:0C30  46                  	ld	b,(hl)
    1778.  02:0C31  21 16 00            	ld	hl,22
    1779.  02:0C34  09                  	add	hl,bc
    1780.  02:0C35  E5                  	push	hl
    1781.  02:0C36  21 00 00            	ld	hl,0	;const
    1782.  02:0C39  54                  	ld	d,h
    1783.  02:0C3A  5D                  	ld	e,l
    1784.  02:0C3B  C1                  	pop	bc
    1785.  02:0C3C  CD C3 54            	call	l_plong
    1786.  02:0C3F                      i_47
    1787.  02:0C3F  21 0E 00            	ld	hl,14	;const
    1788.  02:0C42  39                  	add	hl,sp
    1789.  02:0C43  4E                  	ld	c,(hl)
    1790.  02:0C44  23                  	inc	hl
    1791.  02:0C45  46                  	ld	b,(hl)
    1792.  02:0C46  21 16 00            	ld	hl,22
    1793.  02:0C49  09                  	add	hl,bc
    1794.  02:0C4A  CD DE 54            	call	l_glong
    1795.  02:0C4D  7A                  	ld	a,d
    1796.  02:0C4E  B3                  	or	e
    1797.  02:0C4F  B4                  	or	h
    1798.  02:0C50  B5                  	or	l
    1799.  02:0C51  20 01               	jr	nz,$+3
    1800.  02:0C53  37                  	scf
    1801.  02:0C54  D2 60 0C            	jp	nc,i_52	;
    1802.  02:0C57  21 04 00            	ld	hl,4	;const
    1803.  02:0C5A  C1                  	pop	bc
    1804.  02:0C5B  C1                  	pop	bc
    1805.  02:0C5C  C1                  	pop	bc
    1806.  02:0C5D  C1                  	pop	bc
    1807.  02:0C5E  C1                  	pop	bc
    1808.  02:0C5F  C9                  	ret
    1809.  02:0C60                      
    1810.  02:0C60                      
    1811.  02:0C60                      i_52
    1812.  02:0C60  21 06 00            	ld	hl,6	;const
    1813.  02:0C63  39                  	add	hl,sp
    1814.  02:0C64  CD CF 54            	call	l_glong2sp
    1815.  02:0C67  21 00 02            	ld	hl,512	;const
    1816.  02:0C6A  11 00 00            	ld	de,0
    1817.  02:0C6D  CD F8 55            	call	l_long_mod_u
    1818.  02:0C70  7A                  	ld	a,d
    1819.  02:0C71  B3                  	or	e
    1820.  02:0C72  B4                  	or	h
    1821.  02:0C73  B5                  	or	l
    1822.  02:0C74  20 01               	jr	nz,$+3
    1823.  02:0C76  37                  	scf
    1824.  02:0C77  D2 12 0E            	jp	nc,i_53	;
    1825.  02:0C7A  21 0E 00            	ld	hl,14	;const
    1826.  02:0C7D  39                  	add	hl,sp
    1827.  02:0C7E  4E                  	ld	c,(hl)
    1828.  02:0C7F  23                  	inc	hl
    1829.  02:0C80  46                  	ld	b,(hl)
    1830.  02:0C81  21 16 00            	ld	hl,22
    1831.  02:0C84  09                  	add	hl,bc
    1832.  02:0C85  E5                  	push	hl
    1833.  02:0C86  CD DE 54            	call	l_glong
    1834.  02:0C89  CD F8 56            	call	l_inclong
    1835.  02:0C8C  C1                  	pop	bc
    1836.  02:0C8D  CD C3 54            	call	l_plong
    1837.  02:0C90  21 0E 00            	ld	hl,14	;const
    1838.  02:0C93  39                  	add	hl,sp
    1839.  02:0C94  4E                  	ld	c,(hl)
    1840.  02:0C95  23                  	inc	hl
    1841.  02:0C96  46                  	ld	b,(hl)
    1842.  02:0C97  21 12 00            	ld	hl,18
    1843.  02:0C9A  09                  	add	hl,bc
    1844.  02:0C9B  CD DE 54            	call	l_glong
    1845.  02:0C9E  7A                  	ld	a,d
    1846.  02:0C9F  B3                  	or	e
    1847.  02:0CA0  B4                  	or	h
    1848.  02:0CA1  B5                  	or	l
    1849.  02:0CA2  20 01               	jr	nz,$+3
    1850.  02:0CA4  37                  	scf
    1851.  02:0CA5  D2 EC 0C            	jp	nc,i_54	;
    1852.  02:0CA8  21 06 00            	ld	hl,6	;const
    1853.  02:0CAB  39                  	add	hl,sp
    1854.  02:0CAC  CD CF 54            	call	l_glong2sp
    1855.  02:0CAF  2E 05               	ld	l,5
    1856.  02:0CB1  CD 56 56            	call	l_long_asr_u
    1857.  02:0CB4  D5                  	push	de
    1858.  02:0CB5  E5                  	push	hl
    1859.  02:0CB6  21 04 00            	ld	hl,4	;const
    1860.  02:0CB9  39                  	add	hl,sp
    1861.  02:0CBA  4E                  	ld	c,(hl)
    1862.  02:0CBB  23                  	inc	hl
    1863.  02:0CBC  46                  	ld	b,(hl)
    1864.  02:0CBD  21 08 00            	ld	hl,8
    1865.  02:0CC0  09                  	add	hl,bc
    1866.  02:0CC1  7E                  	ld	a,(hl)	;l_gint
    1867.  02:0CC2  23                  	inc	hl
    1868.  02:0CC3  66                  	ld	h,(hl)
    1869.  02:0CC4  6F                  	ld	l,a
    1870.  02:0CC5  11 00 00            	ld	de,0
    1871.  02:0CC8  CD E9 55            	call	l_long_uge
    1872.  02:0CCB  D2 12 0E            	jp	nc,i_55	;
    1873.  02:0CCE  21 0E 00            	ld	hl,14	;const
    1874.  02:0CD1  39                  	add	hl,sp
    1875.  02:0CD2  4E                  	ld	c,(hl)
    1876.  02:0CD3  23                  	inc	hl
    1877.  02:0CD4  46                  	ld	b,(hl)
    1878.  02:0CD5  21 16 00            	ld	hl,22
    1879.  02:0CD8  09                  	add	hl,bc
    1880.  02:0CD9  E5                  	push	hl
    1881.  02:0CDA  21 00 00            	ld	hl,0	;const
    1882.  02:0CDD  54                  	ld	d,h
    1883.  02:0CDE  5D                  	ld	e,l
    1884.  02:0CDF  C1                  	pop	bc
    1885.  02:0CE0  CD C3 54            	call	l_plong
    1886.  02:0CE3  21 04 00            	ld	hl,4	;const
    1887.  02:0CE6  C1                  	pop	bc
    1888.  02:0CE7  C1                  	pop	bc
    1889.  02:0CE8  C1                  	pop	bc
    1890.  02:0CE9  C1                  	pop	bc
    1891.  02:0CEA  C1                  	pop	bc
    1892.  02:0CEB  C9                  	ret
    1893.  02:0CEC                      i_54
    1894.  02:0CEC  21 06 00            	ld	hl,6	;const
    1895.  02:0CEF  39                  	add	hl,sp
    1896.  02:0CF0  CD CF 54            	call	l_glong2sp
    1897.  02:0CF3  21 00 02            	ld	hl,512	;const
    1898.  02:0CF6  11 00 00            	ld	de,0
    1899.  02:0CF9  CD FB 55            	call	l_long_div_u
    1900.  02:0CFC  D5                  	push	de
    1901.  02:0CFD  E5                  	push	hl
    1902.  02:0CFE  21 04 00            	ld	hl,4	;const
    1903.  02:0D01  39                  	add	hl,sp
    1904.  02:0D02  4E                  	ld	c,(hl)
    1905.  02:0D03  23                  	inc	hl
    1906.  02:0D04  46                  	ld	b,(hl)
    1907.  02:0D05  21 0A 00            	ld	hl,10
    1908.  02:0D08  09                  	add	hl,bc
    1909.  02:0D09  7E                  	ld	a,(hl)	;l_gint
    1910.  02:0D0A  23                  	inc	hl
    1911.  02:0D0B  66                  	ld	h,(hl)
    1912.  02:0D0C  6F                  	ld	l,a
    1913.  02:0D0D  2B                  	dec	hl
    1914.  02:0D0E  11 00 00            	ld	de,0
    1915.  02:0D11  CD 9E 56            	call	l_long_and
    1916.  02:0D14  7A                  	ld	a,d
    1917.  02:0D15  B3                  	or	e
    1918.  02:0D16  B4                  	or	h
    1919.  02:0D17  B5                  	or	l
    1920.  02:0D18  20 01               	jr	nz,$+3
    1921.  02:0D1A  37                  	scf
    1922.  02:0D1B  D2 12 0E            	jp	nc,i_57	;
    1923.  02:0D1E  21 02 00            	ld	hl,2	;const
    1924.  02:0D21  39                  	add	hl,sp
    1925.  02:0D22  E5                  	push	hl
    1926.  02:0D23  21 10 00            	ld	hl,16	;const
    1927.  02:0D26  39                  	add	hl,sp
    1928.  02:0D27  7E                  	ld	a,(hl)	;l_gint
    1929.  02:0D28  23                  	inc	hl
    1930.  02:0D29  66                  	ld	h,(hl)
    1931.  02:0D2A  6F                  	ld	l,a
    1932.  02:0D2B  E5                  	push	hl
    1933.  02:0D2C  01 12 00            	ld	bc,18
    1934.  02:0D2F  09                  	add	hl,bc
    1935.  02:0D30  CD DE 54            	call	l_glong
    1936.  02:0D33  D5                  	push	de
    1937.  02:0D34  E5                  	push	hl
    1938.  02:0D35  CD 49 06            	call	_get_fat
    1939.  02:0D38  C1                  	pop	bc
    1940.  02:0D39  C1                  	pop	bc
    1941.  02:0D3A  C1                  	pop	bc
    1942.  02:0D3B  C1                  	pop	bc
    1943.  02:0D3C  CD C3 54            	call	l_plong
    1944.  02:0D3F  21 02 00            	ld	hl,2	;const
    1945.  02:0D42  39                  	add	hl,sp
    1946.  02:0D43  CD CF 54            	call	l_glong2sp
    1947.  02:0D46  21 01 00            	ld	hl,1	;const
    1948.  02:0D49  11 00 00            	ld	de,0
    1949.  02:0D4C  CD DF 56            	call	l_long_ule
    1950.  02:0D4F  D2 5B 0D            	jp	nc,i_58	;
    1951.  02:0D52  21 02 00            	ld	hl,2	;const
    1952.  02:0D55  C1                  	pop	bc
    1953.  02:0D56  C1                  	pop	bc
    1954.  02:0D57  C1                  	pop	bc
    1955.  02:0D58  C1                  	pop	bc
    1956.  02:0D59  C1                  	pop	bc
    1957.  02:0D5A  C9                  	ret
    1958.  02:0D5B                      
    1959.  02:0D5B                      
    1960.  02:0D5B                      i_58
    1961.  02:0D5B  21 02 00            	ld	hl,2	;const
    1962.  02:0D5E  39                  	add	hl,sp
    1963.  02:0D5F  CD CF 54            	call	l_glong2sp
    1964.  02:0D62  21 FF FF            	ld	hl,65535	;const
    1965.  02:0D65  11 FF FF            	ld	de,65535
    1966.  02:0D68  CD 6F 56            	call	l_long_eq
    1967.  02:0D6B  D2 77 0D            	jp	nc,i_59	;
    1968.  02:0D6E  21 01 00            	ld	hl,1	;const
    1969.  02:0D71  C1                  	pop	bc
    1970.  02:0D72  C1                  	pop	bc
    1971.  02:0D73  C1                  	pop	bc
    1972.  02:0D74  C1                  	pop	bc
    1973.  02:0D75  C1                  	pop	bc
    1974.  02:0D76  C9                  	ret
    1975.  02:0D77                      
    1976.  02:0D77                      
    1977.  02:0D77                      i_59
    1978.  02:0D77  21 02 00            	ld	hl,2	;const
    1979.  02:0D7A  39                  	add	hl,sp
    1980.  02:0D7B  CD CF 54            	call	l_glong2sp
    1981.  02:0D7E  21 04 00            	ld	hl,4	;const
    1982.  02:0D81  39                  	add	hl,sp
    1983.  02:0D82  4E                  	ld	c,(hl)
    1984.  02:0D83  23                  	inc	hl
    1985.  02:0D84  46                  	ld	b,(hl)
    1986.  02:0D85  21 18 00            	ld	hl,24
    1987.  02:0D88  09                  	add	hl,bc
    1988.  02:0D89  CD DE 54            	call	l_glong
    1989.  02:0D8C  CD E9 55            	call	l_long_uge
    1990.  02:0D8F  D2 D3 0D            	jp	nc,i_60	;
    1991.  02:0D92  21 0C 00            	ld	hl,12	;const
    1992.  02:0D95  39                  	add	hl,sp
    1993.  02:0D96  7E                  	ld	a,(hl)	;l_gint
    1994.  02:0D97  23                  	inc	hl
    1995.  02:0D98  66                  	ld	h,(hl)
    1996.  02:0D99  6F                  	ld	l,a
    1997.  02:0D9A  CD 3F 54            	call	l_lneg
    1998.  02:0D9D  D2 B5 0D            	jp	nc,i_61	;
    1999.  02:0DA0  21 0E 00            	ld	hl,14	;const
    2000.  02:0DA3  39                  	add	hl,sp
    2001.  02:0DA4  4E                  	ld	c,(hl)
    2002.  02:0DA5  23                  	inc	hl
    2003.  02:0DA6  46                  	ld	b,(hl)
    2004.  02:0DA7  21 16 00            	ld	hl,22
    2005.  02:0DAA  09                  	add	hl,bc
    2006.  02:0DAB  E5                  	push	hl
    2007.  02:0DAC  21 00 00            	ld	hl,0	;const
    2008.  02:0DAF  54                  	ld	d,h
    2009.  02:0DB0  5D                  	ld	e,l
    2010.  02:0DB1  C1                  	pop	bc
    2011.  02:0DB2  CD C3 54            	call	l_plong
    2012.  02:0DB5                      i_61
    2013.  02:0DB5  21 0E 00            	ld	hl,14	;const
    2014.  02:0DB8  39                  	add	hl,sp
    2015.  02:0DB9  4E                  	ld	c,(hl)
    2016.  02:0DBA  23                  	inc	hl
    2017.  02:0DBB  46                  	ld	b,(hl)
    2018.  02:0DBC  21 16 00            	ld	hl,22
    2019.  02:0DBF  09                  	add	hl,bc
    2020.  02:0DC0  E5                  	push	hl
    2021.  02:0DC1  21 00 00            	ld	hl,0	;const
    2022.  02:0DC4  54                  	ld	d,h
    2023.  02:0DC5  5D                  	ld	e,l
    2024.  02:0DC6  C1                  	pop	bc
    2025.  02:0DC7  CD C3 54            	call	l_plong
    2026.  02:0DCA  21 04 00            	ld	hl,4	;const
    2027.  02:0DCD  C1                  	pop	bc
    2028.  02:0DCE  C1                  	pop	bc
    2029.  02:0DCF  C1                  	pop	bc
    2030.  02:0DD0  C1                  	pop	bc
    2031.  02:0DD1  C1                  	pop	bc
    2032.  02:0DD2  C9                  	ret
    2033.  02:0DD3                      
    2034.  02:0DD3                      
    2035.  02:0DD3                      i_60
    2036.  02:0DD3  21 0E 00            	ld	hl,14	;const
    2037.  02:0DD6  39                  	add	hl,sp
    2038.  02:0DD7  4E                  	ld	c,(hl)
    2039.  02:0DD8  23                  	inc	hl
    2040.  02:0DD9  46                  	ld	b,(hl)
    2041.  02:0DDA  21 12 00            	ld	hl,18
    2042.  02:0DDD  09                  	add	hl,bc
    2043.  02:0DDE  E5                  	push	hl
    2044.  02:0DDF  21 04 00            	ld	hl,4	;const
    2045.  02:0DE2  39                  	add	hl,sp
    2046.  02:0DE3  CD DE 54            	call	l_glong
    2047.  02:0DE6  C1                  	pop	bc
    2048.  02:0DE7  CD C3 54            	call	l_plong
    2049.  02:0DEA  21 0E 00            	ld	hl,14	;const
    2050.  02:0DED  39                  	add	hl,sp
    2051.  02:0DEE  4E                  	ld	c,(hl)
    2052.  02:0DEF  23                  	inc	hl
    2053.  02:0DF0  46                  	ld	b,(hl)
    2054.  02:0DF1  21 16 00            	ld	hl,22
    2055.  02:0DF4  09                  	add	hl,bc
    2056.  02:0DF5  E5                  	push	hl
    2057.  02:0DF6  21 02 00            	ld	hl,2	;const
    2058.  02:0DF9  39                  	add	hl,sp	;l_gintspsp
    2059.  02:0DFA  7E                  	ld	a,(hl)
    2060.  02:0DFB  23                  	inc	hl
    2061.  02:0DFC  66                  	ld	h,(hl)
    2062.  02:0DFD  6F                  	ld	l,a
    2063.  02:0DFE  E5                  	push	hl
    2064.  02:0DFF  21 06 00            	ld	hl,6	;const
    2065.  02:0E02  39                  	add	hl,sp
    2066.  02:0E03  CD DE 54            	call	l_glong
    2067.  02:0E06  D5                  	push	de
    2068.  02:0E07  E5                  	push	hl
    2069.  02:0E08  CD DA 05            	call	_clst2sect
    2070.  02:0E0B  C1                  	pop	bc
    2071.  02:0E0C  C1                  	pop	bc
    2072.  02:0E0D  C1                  	pop	bc
    2073.  02:0E0E  C1                  	pop	bc
    2074.  02:0E0F  CD C3 54            	call	l_plong
    2075.  02:0E12                      i_53
    2076.  02:0E12  21 0E 00            	ld	hl,14	;const
    2077.  02:0E15  39                  	add	hl,sp
    2078.  02:0E16  4E                  	ld	c,(hl)
    2079.  02:0E17  23                  	inc	hl
    2080.  02:0E18  46                  	ld	b,(hl)
    2081.  02:0E19  21 0E 00            	ld	hl,14
    2082.  02:0E1C  09                  	add	hl,bc
    2083.  02:0E1D  E5                  	push	hl
    2084.  02:0E1E  21 08 00            	ld	hl,8	;const
    2085.  02:0E21  39                  	add	hl,sp
    2086.  02:0E22  CD DE 54            	call	l_glong
    2087.  02:0E25  C1                  	pop	bc
    2088.  02:0E26  CD C3 54            	call	l_plong
    2089.  02:0E29  21 0E 00            	ld	hl,14	;const
    2090.  02:0E2C  39                  	add	hl,sp
    2091.  02:0E2D  4E                  	ld	c,(hl)
    2092.  02:0E2E  23                  	inc	hl
    2093.  02:0E2F  46                  	ld	b,(hl)
    2094.  02:0E30  21 1A 00            	ld	hl,26
    2095.  02:0E33  09                  	add	hl,bc
    2096.  02:0E34  D1                  	pop	de
    2097.  02:0E35  D5                  	push	de
    2098.  02:0E36  E5                  	push	hl
    2099.  02:0E37  EB                  	ex	de,hl
    2100.  02:0E38  01 34 00            	ld	bc,52
    2101.  02:0E3B  09                  	add	hl,bc
    2102.  02:0E3C  E5                  	push	hl
    2103.  02:0E3D  21 0A 00            	ld	hl,10	;const
    2104.  02:0E40  39                  	add	hl,sp
    2105.  02:0E41  CD CF 54            	call	l_glong2sp
    2106.  02:0E44  21 00 02            	ld	hl,512	;const
    2107.  02:0E47  11 00 00            	ld	de,0
    2108.  02:0E4A  CD F8 55            	call	l_long_mod_u
    2109.  02:0E4D  D9                  	exx
    2110.  02:0E4E  E1                  	pop	hl
    2111.  02:0E4F  7C                  	ld	a,h
    2112.  02:0E50  17                  	rla
    2113.  02:0E51  9F                  	sbc	a
    2114.  02:0E52  5F                  	ld	e,a
    2115.  02:0E53  57                  	ld	d,a
    2116.  02:0E54  D5                  	push	de
    2117.  02:0E55  E5                  	push	hl
    2118.  02:0E56  D9                  	exx
    2119.  02:0E57  C1                  	pop	bc
    2120.  02:0E58  09                  	add	hl,bc
    2121.  02:0E59  EB                  	ex	de,hl
    2122.  02:0E5A  C1                  	pop	bc
    2123.  02:0E5B  ED 4A               	adc	hl,bc
    2124.  02:0E5D  EB                  	ex	de,hl
    2125.  02:0E5E  D1                  	pop	de
    2126.  02:0E5F  EB                  	ex	de,hl	;l_pint
    2127.  02:0E60  73                  	ld	(hl),e
    2128.  02:0E61  23                  	inc	hl
    2129.  02:0E62  72                  	ld	(hl),d
    2130.  02:0E63  EB                   	ex	de,hl
    2131.  02:0E64  21 00 00            	ld	hl,0	;const
    2132.  02:0E67  C1                  	pop	bc
    2133.  02:0E68  C1                  	pop	bc
    2134.  02:0E69  C1                  	pop	bc
    2135.  02:0E6A  C1                  	pop	bc
    2136.  02:0E6B  C1                  	pop	bc
    2137.  02:0E6C  C9                  	ret
    2138.  02:0E6D                      
    2139.  02:0E6D                      
    2140.  02:0E6D                      	C_LINE	1888,"./ff.c::dir_next::0::26"
    2141.  02:0E6D                      
    2142.  02:0E6D                      ; Function ld_clust flags 0x00000200 __smallc 
    2143.  02:0E6D                      ; unsigned long DWORDld_clust(struct 0__anonstruct_145_0 FATFS* fs, const unsigned char BYTE* dir)
    2144.  02:0E6D                      ; parameter 'const unsigned char BYTE* dir' at sp+2 size(2)
    2145.  02:0E6D                      ; parameter 'struct 0__anonstruct_145_0 FATFS* fs' at sp+4 size(2)
    2146.  02:0E6D                      	C_LINE	1892,"./ff.c::ld_clust::0::26"
    2147.  02:0E6D                      @_ld_clust
    2148.  02:0E6D  C5                  	push	bc
    2149.  02:0E6E  C5                  	push	bc
    2150.  02:0E6F  21 00 00            	ld	hl,0	;const
    2151.  02:0E72  39                  	add	hl,sp
    2152.  02:0E73  E5                  	push	hl
    2153.  02:0E74  21 08 00            	ld	hl,8	;const
    2154.  02:0E77  39                  	add	hl,sp
    2155.  02:0E78  4E                  	ld	c,(hl)
    2156.  02:0E79  23                  	inc	hl
    2157.  02:0E7A  46                  	ld	b,(hl)
    2158.  02:0E7B  21 1A 00            	ld	hl,26
    2159.  02:0E7E  09                  	add	hl,bc
    2160.  02:0E7F  E5                  	push	hl
    2161.  02:0E80  CD 80 04            	call	_ld_word
    2162.  02:0E83  C1                  	pop	bc
    2163.  02:0E84  11 00 00            	ld	de,0
    2164.  02:0E87  C1                  	pop	bc
    2165.  02:0E88  CD C3 54            	call	l_plong
    2166.  02:0E8B  21 08 00            	ld	hl,8	;const
    2167.  02:0E8E  39                  	add	hl,sp
    2168.  02:0E8F  7E                  	ld	a,(hl)	;l_gint
    2169.  02:0E90  23                  	inc	hl
    2170.  02:0E91  66                  	ld	h,(hl)
    2171.  02:0E92  6F                  	ld	l,a
    2172.  02:0E93  7E                  	ld	a,(hl)
    2173.  02:0E94  FE 03               	cp	3
    2174.  02:0E96  C2 BF 0E            	jp	nz,i_62	;
    2175.  02:0E99  21 00 00            	ld	hl,0	;const
    2176.  02:0E9C  39                  	add	hl,sp
    2177.  02:0E9D  E5                  	push	hl
    2178.  02:0E9E  CD CF 54            	call	l_glong2sp
    2179.  02:0EA1  21 0C 00            	ld	hl,12	;const
    2180.  02:0EA4  39                  	add	hl,sp
    2181.  02:0EA5  4E                  	ld	c,(hl)
    2182.  02:0EA6  23                  	inc	hl
    2183.  02:0EA7  46                  	ld	b,(hl)
    2184.  02:0EA8  21 14 00            	ld	hl,20
    2185.  02:0EAB  09                  	add	hl,bc
    2186.  02:0EAC  E5                  	push	hl
    2187.  02:0EAD  CD 80 04            	call	_ld_word
    2188.  02:0EB0  C1                  	pop	bc
    2189.  02:0EB1  11 00 00            	ld	de,0
    2190.  02:0EB4  EB                  	ex	de,hl
    2191.  02:0EB5  21 00 00            	ld	hl,0	;const
    2192.  02:0EB8  CD B8 56            	call	l_long_or
    2193.  02:0EBB  C1                  	pop	bc
    2194.  02:0EBC  CD C3 54            	call	l_plong
    2195.  02:0EBF                      i_62
    2196.  02:0EBF  21 00 00            	ld	hl,0	;const
    2197.  02:0EC2  39                  	add	hl,sp
    2198.  02:0EC3  CD DE 54            	call	l_glong
    2199.  02:0EC6  C1                  	pop	bc
    2200.  02:0EC7  C1                  	pop	bc
    2201.  02:0EC8  C9                  	ret
    2202.  02:0EC9                      
    2203.  02:0EC9                      
    2204.  02:0EC9                      	C_LINE	2346,"./ff.c::ld_clust::0::28"
    2205.  02:0EC9                      
    2206.  02:0EC9                      ; Function dir_read flags 0x00000200 __smallc 
    2207.  02:0EC9                      ; const int FRESULTdir_read(struct 0__anonstruct_237_3 DIR* dp, int vol)
    2208.  02:0EC9                      ; parameter 'int vol' at sp+2 size(2)
    2209.  02:0EC9                      ; parameter 'struct 0__anonstruct_237_3 DIR* dp' at sp+4 size(2)
    2210.  02:0EC9                      	C_LINE	2350,"./ff.c::dir_read::0::28"
    2211.  02:0EC9                      @_dir_read
    2212.  02:0EC9  21 04 00            	ld	hl,4	;const
    2213.  02:0ECC  E5                  	push	hl
    2214.  02:0ECD  2E 06               	ld	l,6	
    2215.  02:0ECF  39                  	add	hl,sp
    2216.  02:0ED0  7E                  	ld	a,(hl)	;l_gint
    2217.  02:0ED1  23                  	inc	hl
    2218.  02:0ED2  66                  	ld	h,(hl)
    2219.  02:0ED3  6F                  	ld	l,a
    2220.  02:0ED4  7E                  	ld	a,(hl)	;l_gint
    2221.  02:0ED5  23                  	inc	hl
    2222.  02:0ED6  66                  	ld	h,(hl)
    2223.  02:0ED7  6F                  	ld	l,a
    2224.  02:0ED8  E5                  	push	hl
    2225.  02:0ED9  C5                  	push	bc
    2226.  02:0EDA                      i_63
    2227.  02:0EDA  21 0A 00            	ld	hl,10	;const
    2228.  02:0EDD  39                  	add	hl,sp
    2229.  02:0EDE  4E                  	ld	c,(hl)
    2230.  02:0EDF  23                  	inc	hl
    2231.  02:0EE0  46                  	ld	b,(hl)
    2232.  02:0EE1  21 16 00            	ld	hl,22
    2233.  02:0EE4  09                  	add	hl,bc
    2234.  02:0EE5  CD DE 54            	call	l_glong
    2235.  02:0EE8  7C                  	ld	a,h
    2236.  02:0EE9  B5                  	or	l
    2237.  02:0EEA  B2                  	or	d
    2238.  02:0EEB  B3                  	or	e
    2239.  02:0EEC  CA F2 0F            	jp	z,i_64	;
    2240.  02:0EEF  21 04 00            	ld	hl,4	;const
    2241.  02:0EF2  39                  	add	hl,sp
    2242.  02:0EF3  E5                  	push	hl
    2243.  02:0EF4  21 04 00            	ld	hl,4	;const
    2244.  02:0EF7  39                  	add	hl,sp	;l_gintspsp
    2245.  02:0EF8  7E                  	ld	a,(hl)
    2246.  02:0EF9  23                  	inc	hl
    2247.  02:0EFA  66                  	ld	h,(hl)
    2248.  02:0EFB  6F                  	ld	l,a
    2249.  02:0EFC  E5                  	push	hl
    2250.  02:0EFD  21 0E 00            	ld	hl,14	;const
    2251.  02:0F00  39                  	add	hl,sp
    2252.  02:0F01  4E                  	ld	c,(hl)
    2253.  02:0F02  23                  	inc	hl
    2254.  02:0F03  46                  	ld	b,(hl)
    2255.  02:0F04  21 16 00            	ld	hl,22
    2256.  02:0F07  09                  	add	hl,bc
    2257.  02:0F08  CD DE 54            	call	l_glong
    2258.  02:0F0B  D5                  	push	de
    2259.  02:0F0C  E5                  	push	hl
    2260.  02:0F0D  CD 54 05            	call	_move_window
    2261.  02:0F10  C1                  	pop	bc
    2262.  02:0F11  C1                  	pop	bc
    2263.  02:0F12  C1                  	pop	bc
    2264.  02:0F13  D1                  	pop	de
    2265.  02:0F14  EB                  	ex	de,hl	;l_pint
    2266.  02:0F15  73                  	ld	(hl),e
    2267.  02:0F16  23                  	inc	hl
    2268.  02:0F17  72                  	ld	(hl),d
    2269.  02:0F18  EB                   	ex	de,hl
    2270.  02:0F19  21 04 00            	ld	hl,4	;const
    2271.  02:0F1C  39                  	add	hl,sp
    2272.  02:0F1D  7E                  	ld	a,(hl)	;l_gint
    2273.  02:0F1E  23                  	inc	hl
    2274.  02:0F1F  66                  	ld	h,(hl)
    2275.  02:0F20  6F                  	ld	l,a
    2276.  02:0F21  B4                  	or	h
    2277.  02:0F22  C2 F2 0F            	jp	nz,i_64	;EOS
    2278.  02:0F25                      i_65
    2279.  02:0F25  21 00 00            	ld	hl,0	;const
    2280.  02:0F28  39                  	add	hl,sp
    2281.  02:0F29  E5                  	push	hl
    2282.  02:0F2A  21 0C 00            	ld	hl,12	;const
    2283.  02:0F2D  39                  	add	hl,sp
    2284.  02:0F2E  4E                  	ld	c,(hl)
    2285.  02:0F2F  23                  	inc	hl
    2286.  02:0F30  46                  	ld	b,(hl)
    2287.  02:0F31  21 1A 00            	ld	hl,26
    2288.  02:0F34  09                  	add	hl,bc
    2289.  02:0F35  7E                  	ld	a,(hl)	;l_gint
    2290.  02:0F36  23                  	inc	hl
    2291.  02:0F37  66                  	ld	h,(hl)
    2292.  02:0F38  6F                  	ld	l,a
    2293.  02:0F39  7E                  	ld	a,(hl)
    2294.  02:0F3A  D1                  	pop	de
    2295.  02:0F3B  12                  	ld	(de),a
    2296.  02:0F3C  E1                  	pop	hl
    2297.  02:0F3D  E5                  	push	hl
    2298.  02:0F3E  7D                  	ld	a,l
    2299.  02:0F3F  A7                  	and	a
    2300.  02:0F40  C2 4F 0F            	jp	nz,i_66	;
    2301.  02:0F43  21 04 00            	ld	hl,4	;const
    2302.  02:0F46  39                  	add	hl,sp
    2303.  02:0F47  36 04               	ld	(hl),4
    2304.  02:0F49  23                  	inc	hl
    2305.  02:0F4A  36 00               	ld	(hl),0
    2306.  02:0F4C  C3 F2 0F            	jp	i_64	;EOS
    2307.  02:0F4F                      i_66
    2308.  02:0F4F  21 0A 00            	ld	hl,10	;const
    2309.  02:0F52  39                  	add	hl,sp
    2310.  02:0F53  4E                  	ld	c,(hl)
    2311.  02:0F54  23                  	inc	hl
    2312.  02:0F55  46                  	ld	b,(hl)
    2313.  02:0F56  21 04 00            	ld	hl,4
    2314.  02:0F59  09                  	add	hl,bc
    2315.  02:0F5A  E5                  	push	hl
    2316.  02:0F5B  21 03 00            	ld	hl,3	;const
    2317.  02:0F5E  39                  	add	hl,sp
    2318.  02:0F5F  E5                  	push	hl
    2319.  02:0F60  21 0E 00            	ld	hl,14	;const
    2320.  02:0F63  39                  	add	hl,sp
    2321.  02:0F64  4E                  	ld	c,(hl)
    2322.  02:0F65  23                  	inc	hl
    2323.  02:0F66  46                  	ld	b,(hl)
    2324.  02:0F67  21 1A 00            	ld	hl,26
    2325.  02:0F6A  09                  	add	hl,bc
    2326.  02:0F6B  4E                  	ld	c,(hl)
    2327.  02:0F6C  23                  	inc	hl
    2328.  02:0F6D  46                  	ld	b,(hl)
    2329.  02:0F6E  21 0B 00            	ld	hl,11
    2330.  02:0F71  09                  	add	hl,bc
    2331.  02:0F72  7E                  	ld	a,(hl)
    2332.  02:0F73  E6 3F               	and	63
    2333.  02:0F75  6F                  	ld	l,a
    2334.  02:0F76  26 00               	ld	h,0
    2335.  02:0F78  D1                  	pop	de
    2336.  02:0F79  7D                  	ld	a,l
    2337.  02:0F7A  12                  	ld	(de),a
    2338.  02:0F7B  D1                  	pop	de
    2339.  02:0F7C  7D                  	ld	a,l
    2340.  02:0F7D  12                  	ld	(de),a
    2341.  02:0F7E  21 00 00            	ld	hl,0	;const
    2342.  02:0F81  39                  	add	hl,sp
    2343.  02:0F82  7E                  	ld	a,(hl)
    2344.  02:0F83  FE E5               	cp	229
    2345.  02:0F85  CA C9 0F            	jp	z,i_68	;
    2346.  02:0F88  E1                  	pop	hl
    2347.  02:0F89  E5                  	push	hl
    2348.  02:0F8A  26 00               	ld	h,0
    2349.  02:0F8C  11 2E 00            	ld	de,46
    2350.  02:0F8F  A7                  	and	a
    2351.  02:0F90  ED 52               	sbc	hl,de
    2352.  02:0F92  37                  	scf
    2353.  02:0F93  20 01               	jr	nz,$+3
    2354.  02:0F95  3F                  	ccf
    2355.  02:0F96  D2 C9 0F            	jp	nc,i_68	;
    2356.  02:0F99  21 01 00            	ld	hl,1	;const
    2357.  02:0F9C  39                  	add	hl,sp
    2358.  02:0F9D  7E                  	ld	a,(hl)
    2359.  02:0F9E  FE 0F               	cp	15
    2360.  02:0FA0  CA C9 0F            	jp	z,i_68	;
    2361.  02:0FA3  E1                  	pop	hl
    2362.  02:0FA4  E5                  	push	hl
    2363.  02:0FA5  6C                  	ld	l,h
    2364.  02:0FA6  26 00               	ld	h,0
    2365.  02:0FA8  11 DF FF            	ld	de,65503
    2366.  02:0FAB  CD 4F 54            	call	l_and
    2367.  02:0FAE  7D                  	ld	a,l
    2368.  02:0FAF  FE 08               	cp	8
    2369.  02:0FB1  21 01 00            	ld	hl,1	;const
    2370.  02:0FB4  28 01               	jr	z,$+3
    2371.  02:0FB6  2B                  	dec	hl
    2372.  02:0FB7  EB                  	ex	de,hl
    2373.  02:0FB8  21 08 00            	ld	hl,8	;const
    2374.  02:0FBB  39                  	add	hl,sp
    2375.  02:0FBC  7E                  	ld	a,(hl)	;l_gint
    2376.  02:0FBD  23                  	inc	hl
    2377.  02:0FBE  66                  	ld	h,(hl)
    2378.  02:0FBF  6F                  	ld	l,a
    2379.  02:0FC0  CD FE 56            	call	l_eq
    2380.  02:0FC3  D2 C9 0F            	jp	nc,i_68	;
    2381.  02:0FC6  C3 F2 0F            	jp	i_64	;EOS
    2382.  02:0FC9                      i_67
    2383.  02:0FC9  21 04 00            	ld	hl,4	;const
    2384.  02:0FCC  39                  	add	hl,sp
    2385.  02:0FCD  E5                  	push	hl
    2386.  02:0FCE  21 0C 00            	ld	hl,12	;const
    2387.  02:0FD1  39                  	add	hl,sp	;l_gintspsp
    2388.  02:0FD2  7E                  	ld	a,(hl)
    2389.  02:0FD3  23                  	inc	hl
    2390.  02:0FD4  66                  	ld	h,(hl)
    2391.  02:0FD5  6F                  	ld	l,a
    2392.  02:0FD6  E5                  	push	hl
    2393.  02:0FD7  21 00 00            	ld	hl,0	;const
    2394.  02:0FDA  E5                  	push	hl
    2395.  02:0FDB  CD C2 0B            	call	_dir_next
    2396.  02:0FDE  C1                  	pop	bc
    2397.  02:0FDF  C1                  	pop	bc
    2398.  02:0FE0  D1                  	pop	de
    2399.  02:0FE1  EB                  	ex	de,hl	;l_pint
    2400.  02:0FE2  73                  	ld	(hl),e
    2401.  02:0FE3  23                  	inc	hl
    2402.  02:0FE4  72                  	ld	(hl),d
    2403.  02:0FE5  EB                   	ex	de,hl
    2404.  02:0FE6  21 04 00            	ld	hl,4	;const
    2405.  02:0FE9  39                  	add	hl,sp
    2406.  02:0FEA  7E                  	ld	a,(hl)	;l_gint
    2407.  02:0FEB  23                  	inc	hl
    2408.  02:0FEC  66                  	ld	h,(hl)
    2409.  02:0FED  6F                  	ld	l,a
    2410.  02:0FEE  B4                  	or	h
    2411.  02:0FEF  CA DA 0E            	jp	z,i_63	;EOS
    2412.  02:0FF2                      i_64
    2413.  02:0FF2  21 04 00            	ld	hl,4	;const
    2414.  02:0FF5  39                  	add	hl,sp
    2415.  02:0FF6  7E                  	ld	a,(hl)	;l_gint
    2416.  02:0FF7  23                  	inc	hl
    2417.  02:0FF8  66                  	ld	h,(hl)
    2418.  02:0FF9  6F                  	ld	l,a
    2419.  02:0FFA  B4                  	or	h
    2420.  02:0FFB  CA 13 10            	jp	z,i_71	;
    2421.  02:0FFE  21 0A 00            	ld	hl,10	;const
    2422.  02:1001  39                  	add	hl,sp
    2423.  02:1002  4E                  	ld	c,(hl)
    2424.  02:1003  23                  	inc	hl
    2425.  02:1004  46                  	ld	b,(hl)
    2426.  02:1005  21 16 00            	ld	hl,22
    2427.  02:1008  09                  	add	hl,bc
    2428.  02:1009  E5                  	push	hl
    2429.  02:100A  21 00 00            	ld	hl,0	;const
    2430.  02:100D  54                  	ld	d,h
    2431.  02:100E  5D                  	ld	e,l
    2432.  02:100F  C1                  	pop	bc
    2433.  02:1010  CD C3 54            	call	l_plong
    2434.  02:1013                      i_71
    2435.  02:1013  21 04 00            	ld	hl,4	;const
    2436.  02:1016  39                  	add	hl,sp
    2437.  02:1017  7E                  	ld	a,(hl)	;l_gint
    2438.  02:1018  23                  	inc	hl
    2439.  02:1019  66                  	ld	h,(hl)
    2440.  02:101A  6F                  	ld	l,a
    2441.  02:101B  C1                  	pop	bc
    2442.  02:101C  C1                  	pop	bc
    2443.  02:101D  C1                  	pop	bc
    2444.  02:101E  C9                  	ret
    2445.  02:101F                      
    2446.  02:101F                      
    2447.  02:101F                      	C_LINE	2424,"./ff.c::dir_read::0::33"
    2448.  02:101F                      
    2449.  02:101F                      ; Function dir_find flags 0x00000200 __smallc 
    2450.  02:101F                      ; const int FRESULTdir_find(struct 0__anonstruct_237_3 DIR* dp)
    2451.  02:101F                      ; parameter 'struct 0__anonstruct_237_3 DIR* dp' at sp+2 size(2)
    2452.  02:101F                      	C_LINE	2427,"./ff.c::dir_find::0::33"
    2453.  02:101F                      @_dir_find
    2454.  02:101F  C5                  	push	bc
    2455.  02:1020  21 04 00            	ld	hl,4	;const
    2456.  02:1023  39                  	add	hl,sp
    2457.  02:1024  7E                  	ld	a,(hl)	;l_gint
    2458.  02:1025  23                  	inc	hl
    2459.  02:1026  66                  	ld	h,(hl)
    2460.  02:1027  6F                  	ld	l,a
    2461.  02:1028  7E                  	ld	a,(hl)	;l_gint
    2462.  02:1029  23                  	inc	hl
    2463.  02:102A  66                  	ld	h,(hl)
    2464.  02:102B  6F                  	ld	l,a
    2465.  02:102C  E5                  	push	hl
    2466.  02:102D  3B                  	dec	sp
    2467.  02:102E  21 03 00            	ld	hl,3	;const
    2468.  02:1031  39                  	add	hl,sp
    2469.  02:1032  E5                  	push	hl
    2470.  02:1033  21 09 00            	ld	hl,9	;const
    2471.  02:1036  39                  	add	hl,sp	;l_gintspsp
    2472.  02:1037  7E                  	ld	a,(hl)
    2473.  02:1038  23                  	inc	hl
    2474.  02:1039  66                  	ld	h,(hl)
    2475.  02:103A  6F                  	ld	l,a
    2476.  02:103B  E5                  	push	hl
    2477.  02:103C  21 00 00            	ld	hl,0	;const
    2478.  02:103F  54                  	ld	d,h
    2479.  02:1040  5D                  	ld	e,l
    2480.  02:1041  D5                  	push	de
    2481.  02:1042  E5                  	push	hl
    2482.  02:1043  CD 0A 09            	call	_dir_sdi
    2483.  02:1046  C1                  	pop	bc
    2484.  02:1047  C1                  	pop	bc
    2485.  02:1048  C1                  	pop	bc
    2486.  02:1049  D1                  	pop	de
    2487.  02:104A  EB                  	ex	de,hl	;l_pint
    2488.  02:104B  73                  	ld	(hl),e
    2489.  02:104C  23                  	inc	hl
    2490.  02:104D  72                  	ld	(hl),d
    2491.  02:104E  EB                   	ex	de,hl
    2492.  02:104F  21 03 00            	ld	hl,3	;const
    2493.  02:1052  39                  	add	hl,sp
    2494.  02:1053  7E                  	ld	a,(hl)	;l_gint
    2495.  02:1054  23                  	inc	hl
    2496.  02:1055  66                  	ld	h,(hl)
    2497.  02:1056  6F                  	ld	l,a
    2498.  02:1057  B4                  	or	h
    2499.  02:1058  CA 67 10            	jp	z,i_72	;
    2500.  02:105B  21 03 00            	ld	hl,3	;const
    2501.  02:105E  39                  	add	hl,sp
    2502.  02:105F  7E                  	ld	a,(hl)	;l_gint
    2503.  02:1060  23                  	inc	hl
    2504.  02:1061  66                  	ld	h,(hl)
    2505.  02:1062  6F                  	ld	l,a
    2506.  02:1063  33                  	inc	sp
    2507.  02:1064  C1                  	pop	bc
    2508.  02:1065  C1                  	pop	bc
    2509.  02:1066  C9                  	ret
    2510.  02:1067                      
    2511.  02:1067                      
    2512.  02:1067                      i_75
    2513.  02:1067  21 03 00            	ld	hl,3	;const
    2514.  02:106A  39                  	add	hl,sp
    2515.  02:106B  E5                  	push	hl
    2516.  02:106C  21 03 00            	ld	hl,3	;const
    2517.  02:106F  39                  	add	hl,sp	;l_gintspsp
    2518.  02:1070  7E                  	ld	a,(hl)
    2519.  02:1071  23                  	inc	hl
    2520.  02:1072  66                  	ld	h,(hl)
    2521.  02:1073  6F                  	ld	l,a
    2522.  02:1074  E5                  	push	hl
    2523.  02:1075  21 0B 00            	ld	hl,11	;const
    2524.  02:1078  39                  	add	hl,sp
    2525.  02:1079  4E                  	ld	c,(hl)
    2526.  02:107A  23                  	inc	hl
    2527.  02:107B  46                  	ld	b,(hl)
    2528.  02:107C  21 16 00            	ld	hl,22
    2529.  02:107F  09                  	add	hl,bc
    2530.  02:1080  CD DE 54            	call	l_glong
    2531.  02:1083  D5                  	push	de
    2532.  02:1084  E5                  	push	hl
    2533.  02:1085  CD 54 05            	call	_move_window
    2534.  02:1088  C1                  	pop	bc
    2535.  02:1089  C1                  	pop	bc
    2536.  02:108A  C1                  	pop	bc
    2537.  02:108B  D1                  	pop	de
    2538.  02:108C  EB                  	ex	de,hl	;l_pint
    2539.  02:108D  73                  	ld	(hl),e
    2540.  02:108E  23                  	inc	hl
    2541.  02:108F  72                  	ld	(hl),d
    2542.  02:1090  EB                   	ex	de,hl
    2543.  02:1091  21 03 00            	ld	hl,3	;const
    2544.  02:1094  39                  	add	hl,sp
    2545.  02:1095  7E                  	ld	a,(hl)	;l_gint
    2546.  02:1096  23                  	inc	hl
    2547.  02:1097  66                  	ld	h,(hl)
    2548.  02:1098  6F                  	ld	l,a
    2549.  02:1099  B4                  	or	h
    2550.  02:109A  C2 56 11            	jp	nz,i_74	;EOS
    2551.  02:109D                      i_76
    2552.  02:109D  21 00 00            	ld	hl,0	;const
    2553.  02:10A0  39                  	add	hl,sp
    2554.  02:10A1  E5                  	push	hl
    2555.  02:10A2  21 09 00            	ld	hl,9	;const
    2556.  02:10A5  39                  	add	hl,sp
    2557.  02:10A6  4E                  	ld	c,(hl)
    2558.  02:10A7  23                  	inc	hl
    2559.  02:10A8  46                  	ld	b,(hl)
    2560.  02:10A9  21 1A 00            	ld	hl,26
    2561.  02:10AC  09                  	add	hl,bc
    2562.  02:10AD  7E                  	ld	a,(hl)	;l_gint
    2563.  02:10AE  23                  	inc	hl
    2564.  02:10AF  66                  	ld	h,(hl)
    2565.  02:10B0  6F                  	ld	l,a
    2566.  02:10B1  7E                  	ld	a,(hl)
    2567.  02:10B2  D1                  	pop	de
    2568.  02:10B3  12                  	ld	(de),a
    2569.  02:10B4  E1                  	pop	hl
    2570.  02:10B5  E5                  	push	hl
    2571.  02:10B6  7D                  	ld	a,l
    2572.  02:10B7  A7                  	and	a
    2573.  02:10B8  C2 C7 10            	jp	nz,i_77	;
    2574.  02:10BB  21 03 00            	ld	hl,3	;const
    2575.  02:10BE  39                  	add	hl,sp
    2576.  02:10BF  36 04               	ld	(hl),4
    2577.  02:10C1  23                  	inc	hl
    2578.  02:10C2  36 00               	ld	(hl),0
    2579.  02:10C4  C3 56 11            	jp	i_74	;EOS
    2580.  02:10C7                      i_77
    2581.  02:10C7  21 07 00            	ld	hl,7	;const
    2582.  02:10CA  39                  	add	hl,sp
    2583.  02:10CB  4E                  	ld	c,(hl)
    2584.  02:10CC  23                  	inc	hl
    2585.  02:10CD  46                  	ld	b,(hl)
    2586.  02:10CE  21 04 00            	ld	hl,4
    2587.  02:10D1  09                  	add	hl,bc
    2588.  02:10D2  E5                  	push	hl
    2589.  02:10D3  21 09 00            	ld	hl,9	;const
    2590.  02:10D6  39                  	add	hl,sp
    2591.  02:10D7  4E                  	ld	c,(hl)
    2592.  02:10D8  23                  	inc	hl
    2593.  02:10D9  46                  	ld	b,(hl)
    2594.  02:10DA  21 1A 00            	ld	hl,26
    2595.  02:10DD  09                  	add	hl,bc
    2596.  02:10DE  4E                  	ld	c,(hl)
    2597.  02:10DF  23                  	inc	hl
    2598.  02:10E0  46                  	ld	b,(hl)
    2599.  02:10E1  21 0B 00            	ld	hl,11
    2600.  02:10E4  09                  	add	hl,bc
    2601.  02:10E5  7E                  	ld	a,(hl)
    2602.  02:10E6  E6 3F               	and	63
    2603.  02:10E8  6F                  	ld	l,a
    2604.  02:10E9  D1                  	pop	de
    2605.  02:10EA  12                  	ld	(de),a
    2606.  02:10EB  21 07 00            	ld	hl,7	;const
    2607.  02:10EE  39                  	add	hl,sp
    2608.  02:10EF  4E                  	ld	c,(hl)
    2609.  02:10F0  23                  	inc	hl
    2610.  02:10F1  46                  	ld	b,(hl)
    2611.  02:10F2  21 1A 00            	ld	hl,26
    2612.  02:10F5  09                  	add	hl,bc
    2613.  02:10F6  4E                  	ld	c,(hl)
    2614.  02:10F7  23                  	inc	hl
    2615.  02:10F8  46                  	ld	b,(hl)
    2616.  02:10F9  21 0B 00            	ld	hl,11
    2617.  02:10FC  09                  	add	hl,bc
    2618.  02:10FD  CB 5E               	bit	3,(hl)
    2619.  02:10FF  C2 2D 11            	jp	nz,i_79	;
    2620.  02:1102  21 07 00            	ld	hl,7	;const
    2621.  02:1105  39                  	add	hl,sp
    2622.  02:1106  4E                  	ld	c,(hl)
    2623.  02:1107  23                  	inc	hl
    2624.  02:1108  46                  	ld	b,(hl)
    2625.  02:1109  21 1A 00            	ld	hl,26
    2626.  02:110C  09                  	add	hl,bc
    2627.  02:110D  5E                  	ld	e,(hl)
    2628.  02:110E  23                  	inc	hl
    2629.  02:110F  56                  	ld	d,(hl)
    2630.  02:1110  D5                  	push	de
    2631.  02:1111  21 09 00            	ld	hl,9	;const
    2632.  02:1114  39                  	add	hl,sp
    2633.  02:1115  4E                  	ld	c,(hl)
    2634.  02:1116  23                  	inc	hl
    2635.  02:1117  46                  	ld	b,(hl)
    2636.  02:1118  21 1C 00            	ld	hl,28
    2637.  02:111B  09                  	add	hl,bc
    2638.  02:111C  E5                  	push	hl
    2639.  02:111D  21 0B 00            	ld	hl,11	;const
    2640.  02:1120  E5                  	push	hl
    2641.  02:1121  CD 42 57            	call	memcmp_callee
    2642.  02:1124  CD 3F 54            	call	l_lneg
    2643.  02:1127  D2 2D 11            	jp	nc,i_79	;
    2644.  02:112A  C3 56 11            	jp	i_74	;EOS
    2645.  02:112D                      i_78
    2646.  02:112D  21 03 00            	ld	hl,3	;const
    2647.  02:1130  39                  	add	hl,sp
    2648.  02:1131  E5                  	push	hl
    2649.  02:1132  21 09 00            	ld	hl,9	;const
    2650.  02:1135  39                  	add	hl,sp	;l_gintspsp
    2651.  02:1136  7E                  	ld	a,(hl)
    2652.  02:1137  23                  	inc	hl
    2653.  02:1138  66                  	ld	h,(hl)
    2654.  02:1139  6F                  	ld	l,a
    2655.  02:113A  E5                  	push	hl
    2656.  02:113B  21 00 00            	ld	hl,0	;const
    2657.  02:113E  E5                  	push	hl
    2658.  02:113F  CD C2 0B            	call	_dir_next
    2659.  02:1142  C1                  	pop	bc
    2660.  02:1143  C1                  	pop	bc
    2661.  02:1144  D1                  	pop	de
    2662.  02:1145  EB                  	ex	de,hl	;l_pint
    2663.  02:1146  73                  	ld	(hl),e
    2664.  02:1147  23                  	inc	hl
    2665.  02:1148  72                  	ld	(hl),d
    2666.  02:1149  EB                   	ex	de,hl
    2667.  02:114A                      i_73
    2668.  02:114A  21 03 00            	ld	hl,3	;const
    2669.  02:114D  39                  	add	hl,sp
    2670.  02:114E  7E                  	ld	a,(hl)	;l_gint
    2671.  02:114F  23                  	inc	hl
    2672.  02:1150  66                  	ld	h,(hl)
    2673.  02:1151  6F                  	ld	l,a
    2674.  02:1152  B4                  	or	h
    2675.  02:1153  CA 67 10            	jp	z,i_75	;EOS
    2676.  02:1156                      i_74
    2677.  02:1156  21 03 00            	ld	hl,3	;const
    2678.  02:1159  39                  	add	hl,sp
    2679.  02:115A  7E                  	ld	a,(hl)	;l_gint
    2680.  02:115B  23                  	inc	hl
    2681.  02:115C  66                  	ld	h,(hl)
    2682.  02:115D  6F                  	ld	l,a
    2683.  02:115E  33                  	inc	sp
    2684.  02:115F  C1                  	pop	bc
    2685.  02:1160  C1                  	pop	bc
    2686.  02:1161  C9                  	ret
    2687.  02:1162                      
    2688.  02:1162                      
    2689.  02:1162                      	C_LINE	2657,"./ff.c::dir_find::0::36"
    2690.  02:1162                      
    2691.  02:1162                      ; Function get_fileinfo flags 0x00000200 __smallc 
    2692.  02:1162                      ; void get_fileinfo(struct 0__anonstruct_237_3 DIR* dp, struct 0__anonstruct_256_4 FILINFO* fno)
    2693.  02:1162                      ; parameter 'struct 0__anonstruct_256_4 FILINFO* fno' at sp+2 size(2)
    2694.  02:1162                      ; parameter 'struct 0__anonstruct_237_3 DIR* dp' at sp+4 size(2)
    2695.  02:1162                      	C_LINE	2661,"./ff.c::get_fileinfo::0::36"
    2696.  02:1162                      @_get_fileinfo
    2697.  02:1162  C5                  	push	bc
    2698.  02:1163  C5                  	push	bc
    2699.  02:1164  3B                  	dec	sp
    2700.  02:1165  21 07 00            	ld	hl,7	;const
    2701.  02:1168  39                  	add	hl,sp
    2702.  02:1169  4E                  	ld	c,(hl)
    2703.  02:116A  23                  	inc	hl
    2704.  02:116B  46                  	ld	b,(hl)
    2705.  02:116C  21 09 00            	ld	hl,9
    2706.  02:116F  09                  	add	hl,bc
    2707.  02:1170  54                  	ld	d,h
    2708.  02:1171  5D                  	ld	e,l
    2709.  02:1172  AF                  	xor	a
    2710.  02:1173  12                  	ld	(de),a
    2711.  02:1174  21 09 00            	ld	hl,9	;const
    2712.  02:1177  39                  	add	hl,sp
    2713.  02:1178  4E                  	ld	c,(hl)
    2714.  02:1179  23                  	inc	hl
    2715.  02:117A  46                  	ld	b,(hl)
    2716.  02:117B  21 16 00            	ld	hl,22
    2717.  02:117E  09                  	add	hl,bc
    2718.  02:117F  CD DE 54            	call	l_glong
    2719.  02:1182  7A                  	ld	a,d
    2720.  02:1183  B3                  	or	e
    2721.  02:1184  B4                  	or	h
    2722.  02:1185  B5                  	or	l
    2723.  02:1186  20 01               	jr	nz,$+3
    2724.  02:1188  37                  	scf
    2725.  02:1189  D2 90 11            	jp	nc,i_81	;
    2726.  02:118C  33                  	inc	sp
    2727.  02:118D  C1                  	pop	bc
    2728.  02:118E  C1                  	pop	bc
    2729.  02:118F  C9                  	ret
    2730.  02:1190                      
    2731.  02:1190                      
    2732.  02:1190                      i_81
    2733.  02:1190  21 03 00            	ld	hl,3	;const
    2734.  02:1193  39                  	add	hl,sp
    2735.  02:1194  E5                  	push	hl
    2736.  02:1195  2B                  	dec	hl
    2737.  02:1196  2B                  	dec	hl
    2738.  02:1197  11 00 00            	ld	de,0	;const
    2739.  02:119A  73                  	ld	(hl),e
    2740.  02:119B  23                  	inc	hl
    2741.  02:119C  72                  	ld	(hl),d
    2742.  02:119D  EB                  	ex	de,hl
    2743.  02:119E  D1                  	pop	de
    2744.  02:119F  EB                  	ex	de,hl	;l_pint
    2745.  02:11A0  73                  	ld	(hl),e
    2746.  02:11A1  23                  	inc	hl
    2747.  02:11A2  72                  	ld	(hl),d
    2748.  02:11A3  EB                   	ex	de,hl
    2749.  02:11A4                      i_82
    2750.  02:11A4  21 03 00            	ld	hl,3	;const
    2751.  02:11A7  39                  	add	hl,sp
    2752.  02:11A8  7E                  	ld	a,(hl)	;l_gint
    2753.  02:11A9  23                  	inc	hl
    2754.  02:11AA  66                  	ld	h,(hl)
    2755.  02:11AB  6F                  	ld	l,a
    2756.  02:11AC  11 0B 00            	ld	de,11
    2757.  02:11AF  A7                  	and	a
    2758.  02:11B0  ED 52               	sbc	hl,de
    2759.  02:11B2  D2 63 12            	jp	nc,i_83	;
    2760.  02:11B5  21 00 00            	ld	hl,0	;const
    2761.  02:11B8  39                  	add	hl,sp
    2762.  02:11B9  E5                  	push	hl
    2763.  02:11BA  21 0B 00            	ld	hl,11	;const
    2764.  02:11BD  39                  	add	hl,sp
    2765.  02:11BE  4E                  	ld	c,(hl)
    2766.  02:11BF  23                  	inc	hl
    2767.  02:11C0  46                  	ld	b,(hl)
    2768.  02:11C1  21 1A 00            	ld	hl,26
    2769.  02:11C4  09                  	add	hl,bc
    2770.  02:11C5  5E                  	ld	e,(hl)
    2771.  02:11C6  23                  	inc	hl
    2772.  02:11C7  56                  	ld	d,(hl)
    2773.  02:11C8  D5                  	push	de
    2774.  02:11C9  21 07 00            	ld	hl,7	;const
    2775.  02:11CC  39                  	add	hl,sp
    2776.  02:11CD  34                  	inc	(hl)
    2777.  02:11CE  7E                  	ld	a,(hl)
    2778.  02:11CF  23                  	inc	hl
    2779.  02:11D0  20 01               	jr	nz,$+3
    2780.  02:11D2  34                  	inc	(hl)
    2781.  02:11D3  66                  	ld	h,(hl)
    2782.  02:11D4  6F                  	ld	l,a
    2783.  02:11D5  2B                  	dec	hl
    2784.  02:11D6  D1                  	pop	de
    2785.  02:11D7  19                  	add	hl,de
    2786.  02:11D8  6E                  	ld	l,(hl)
    2787.  02:11D9  7D                  	ld	a,l
    2788.  02:11DA  17                  	rla
    2789.  02:11DB  9F                  	sbc	a
    2790.  02:11DC  67                  	ld	h,a
    2791.  02:11DD  7D                  	ld	a,l
    2792.  02:11DE  D1                  	pop	de
    2793.  02:11DF  12                  	ld	(de),a
    2794.  02:11E0  21 00 00            	ld	hl,0	;const
    2795.  02:11E3  39                  	add	hl,sp
    2796.  02:11E4  7E                  	ld	a,(hl)	;l_gchar
    2797.  02:11E5  6F                  	ld	l,a
    2798.  02:11E6  17                  	rla
    2799.  02:11E7  9F                  	sbc	a
    2800.  02:11E8  67                  	ld	h,a
    2801.  02:11E9  11 20 00            	ld	de,32
    2802.  02:11EC  A7                  	and	a
    2803.  02:11ED  ED 52               	sbc	hl,de
    2804.  02:11EF  CA A4 11            	jp	z,i_82	;EOS
    2805.  02:11F2                      i_84
    2806.  02:11F2  21 00 00            	ld	hl,0	;const
    2807.  02:11F5  39                  	add	hl,sp
    2808.  02:11F6  7E                  	ld	a,(hl)
    2809.  02:11F7  FE 05               	cp	5
    2810.  02:11F9  C2 0A 12            	jp	nz,i_85	;
    2811.  02:11FC  21 00 00            	ld	hl,0	;const
    2812.  02:11FF  39                  	add	hl,sp
    2813.  02:1200  E5                  	push	hl
    2814.  02:1201  3E E5               	ld	a,229
    2815.  02:1203  6F                  	ld	l,a		;l_sxt
    2816.  02:1204  17                  	rla
    2817.  02:1205  9F                  	sbc	a
    2818.  02:1206  67                  	ld	h,a
    2819.  02:1207  D1                  	pop	de
    2820.  02:1208  7D                  	ld	a,l
    2821.  02:1209  12                  	ld	(de),a
    2822.  02:120A                      i_85
    2823.  02:120A  21 03 00            	ld	hl,3	;const
    2824.  02:120D  39                  	add	hl,sp
    2825.  02:120E  7E                  	ld	a,(hl)	;l_gint
    2826.  02:120F  23                  	inc	hl
    2827.  02:1210  66                  	ld	h,(hl)
    2828.  02:1211  6F                  	ld	l,a
    2829.  02:1212  11 09 00            	ld	de,9
    2830.  02:1215  A7                  	and	a
    2831.  02:1216  ED 52               	sbc	hl,de
    2832.  02:1218  C2 38 12            	jp	nz,i_86	;
    2833.  02:121B  21 07 00            	ld	hl,7	;const
    2834.  02:121E  39                  	add	hl,sp
    2835.  02:121F  4E                  	ld	c,(hl)
    2836.  02:1220  23                  	inc	hl
    2837.  02:1221  46                  	ld	b,(hl)
    2838.  02:1222  21 09 00            	ld	hl,9
    2839.  02:1225  09                  	add	hl,bc
    2840.  02:1226  E5                  	push	hl
    2841.  02:1227  21 03 00            	ld	hl,3	;const
    2842.  02:122A  39                  	add	hl,sp
    2843.  02:122B  34                  	inc	(hl)
    2844.  02:122C  7E                  	ld	a,(hl)
    2845.  02:122D  23                  	inc	hl
    2846.  02:122E  20 01               	jr	nz,$+3
    2847.  02:1230  34                  	inc	(hl)
    2848.  02:1231  66                  	ld	h,(hl)
    2849.  02:1232  6F                  	ld	l,a
    2850.  02:1233  2B                  	dec	hl
    2851.  02:1234  D1                  	pop	de
    2852.  02:1235  19                  	add	hl,de
    2853.  02:1236  36 2E               	ld	(hl),46
    2854.  02:1238                      i_86
    2855.  02:1238  21 07 00            	ld	hl,7	;const
    2856.  02:123B  39                  	add	hl,sp
    2857.  02:123C  4E                  	ld	c,(hl)
    2858.  02:123D  23                  	inc	hl
    2859.  02:123E  46                  	ld	b,(hl)
    2860.  02:123F  21 09 00            	ld	hl,9
    2861.  02:1242  09                  	add	hl,bc
    2862.  02:1243  E5                  	push	hl
    2863.  02:1244  21 03 00            	ld	hl,3	;const
    2864.  02:1247  39                  	add	hl,sp
    2865.  02:1248  34                  	inc	(hl)
    2866.  02:1249  7E                  	ld	a,(hl)
    2867.  02:124A  23                  	inc	hl
    2868.  02:124B  20 01               	jr	nz,$+3
    2869.  02:124D  34                  	inc	(hl)
    2870.  02:124E  66                  	ld	h,(hl)
    2871.  02:124F  6F                  	ld	l,a
    2872.  02:1250  2B                  	dec	hl
    2873.  02:1251  D1                  	pop	de
    2874.  02:1252  19                  	add	hl,de
    2875.  02:1253  E5                  	push	hl
    2876.  02:1254  21 02 00            	ld	hl,2	;const
    2877.  02:1257  39                  	add	hl,sp
    2878.  02:1258  7E                  	ld	a,(hl)	;l_gchar
    2879.  02:1259  6F                  	ld	l,a
    2880.  02:125A  17                  	rla
    2881.  02:125B  9F                  	sbc	a
    2882.  02:125C  67                  	ld	h,a
    2883.  02:125D  D1                  	pop	de
    2884.  02:125E  7D                  	ld	a,l
    2885.  02:125F  12                  	ld	(de),a
    2886.  02:1260  C3 A4 11            	jp	i_82	;EOS
    2887.  02:1263                      i_83
    2888.  02:1263  21 07 00            	ld	hl,7	;const
    2889.  02:1266  39                  	add	hl,sp
    2890.  02:1267  4E                  	ld	c,(hl)
    2891.  02:1268  23                  	inc	hl
    2892.  02:1269  46                  	ld	b,(hl)
    2893.  02:126A  21 09 00            	ld	hl,9
    2894.  02:126D  09                  	add	hl,bc
    2895.  02:126E  EB                  	ex	de,hl
    2896.  02:126F  21 01 00            	ld	hl,1	;const
    2897.  02:1272  39                  	add	hl,sp
    2898.  02:1273  7E                  	ld	a,(hl)	;l_gint
    2899.  02:1274  23                  	inc	hl
    2900.  02:1275  66                  	ld	h,(hl)
    2901.  02:1276  6F                  	ld	l,a
    2902.  02:1277  19                  	add	hl,de
    2903.  02:1278  54                  	ld	d,h
    2904.  02:1279  5D                  	ld	e,l
    2905.  02:127A  AF                  	xor	a
    2906.  02:127B  12                  	ld	(de),a
    2907.  02:127C  21 07 00            	ld	hl,7	;const
    2908.  02:127F  39                  	add	hl,sp
    2909.  02:1280  4E                  	ld	c,(hl)
    2910.  02:1281  23                  	inc	hl
    2911.  02:1282  46                  	ld	b,(hl)
    2912.  02:1283  21 08 00            	ld	hl,8
    2913.  02:1286  09                  	add	hl,bc
    2914.  02:1287  E5                  	push	hl
    2915.  02:1288  21 0B 00            	ld	hl,11	;const
    2916.  02:128B  39                  	add	hl,sp
    2917.  02:128C  4E                  	ld	c,(hl)
    2918.  02:128D  23                  	inc	hl
    2919.  02:128E  46                  	ld	b,(hl)
    2920.  02:128F  21 1A 00            	ld	hl,26
    2921.  02:1292  09                  	add	hl,bc
    2922.  02:1293  4E                  	ld	c,(hl)
    2923.  02:1294  23                  	inc	hl
    2924.  02:1295  46                  	ld	b,(hl)
    2925.  02:1296  21 0B 00            	ld	hl,11
    2926.  02:1299  09                  	add	hl,bc
    2927.  02:129A  7E                  	ld	a,(hl)
    2928.  02:129B  E6 3F               	and	63
    2929.  02:129D  6F                  	ld	l,a
    2930.  02:129E  D1                  	pop	de
    2931.  02:129F  12                  	ld	(de),a
    2932.  02:12A0  21 07 00            	ld	hl,7	;const
    2933.  02:12A3  39                  	add	hl,sp	;l_gintspsp
    2934.  02:12A4  7E                  	ld	a,(hl)
    2935.  02:12A5  23                  	inc	hl
    2936.  02:12A6  66                  	ld	h,(hl)
    2937.  02:12A7  6F                  	ld	l,a
    2938.  02:12A8  E5                  	push	hl
    2939.  02:12A9  21 0B 00            	ld	hl,11	;const
    2940.  02:12AC  39                  	add	hl,sp
    2941.  02:12AD  4E                  	ld	c,(hl)
    2942.  02:12AE  23                  	inc	hl
    2943.  02:12AF  46                  	ld	b,(hl)
    2944.  02:12B0  21 1A 00            	ld	hl,26
    2945.  02:12B3  09                  	add	hl,bc
    2946.  02:12B4  4E                  	ld	c,(hl)
    2947.  02:12B5  23                  	inc	hl
    2948.  02:12B6  46                  	ld	b,(hl)
    2949.  02:12B7  21 1C 00            	ld	hl,28
    2950.  02:12BA  09                  	add	hl,bc
    2951.  02:12BB  E5                  	push	hl
    2952.  02:12BC  CD A3 04            	call	_ld_dword
    2953.  02:12BF  C1                  	pop	bc
    2954.  02:12C0  C1                  	pop	bc
    2955.  02:12C1  CD C3 54            	call	l_plong
    2956.  02:12C4  21 07 00            	ld	hl,7	;const
    2957.  02:12C7  39                  	add	hl,sp
    2958.  02:12C8  4E                  	ld	c,(hl)
    2959.  02:12C9  23                  	inc	hl
    2960.  02:12CA  46                  	ld	b,(hl)
    2961.  02:12CB  21 06 00            	ld	hl,6
    2962.  02:12CE  09                  	add	hl,bc
    2963.  02:12CF  E5                  	push	hl
    2964.  02:12D0  21 0B 00            	ld	hl,11	;const
    2965.  02:12D3  39                  	add	hl,sp
    2966.  02:12D4  4E                  	ld	c,(hl)
    2967.  02:12D5  23                  	inc	hl
    2968.  02:12D6  46                  	ld	b,(hl)
    2969.  02:12D7  21 1A 00            	ld	hl,26
    2970.  02:12DA  09                  	add	hl,bc
    2971.  02:12DB  4E                  	ld	c,(hl)
    2972.  02:12DC  23                  	inc	hl
    2973.  02:12DD  46                  	ld	b,(hl)
    2974.  02:12DE  21 16 00            	ld	hl,22
    2975.  02:12E1  09                  	add	hl,bc
    2976.  02:12E2  E5                  	push	hl
    2977.  02:12E3  CD 80 04            	call	_ld_word
    2978.  02:12E6  C1                  	pop	bc
    2979.  02:12E7  D1                  	pop	de
    2980.  02:12E8  EB                  	ex	de,hl	;l_pint
    2981.  02:12E9  73                  	ld	(hl),e
    2982.  02:12EA  23                  	inc	hl
    2983.  02:12EB  72                  	ld	(hl),d
    2984.  02:12EC  EB                   	ex	de,hl
    2985.  02:12ED  21 07 00            	ld	hl,7	;const
    2986.  02:12F0  39                  	add	hl,sp
    2987.  02:12F1  4E                  	ld	c,(hl)
    2988.  02:12F2  23                  	inc	hl
    2989.  02:12F3  46                  	ld	b,(hl)
    2990.  02:12F4  21 04 00            	ld	hl,4
    2991.  02:12F7  09                  	add	hl,bc
    2992.  02:12F8  E5                  	push	hl
    2993.  02:12F9  21 0B 00            	ld	hl,11	;const
    2994.  02:12FC  39                  	add	hl,sp
    2995.  02:12FD  4E                  	ld	c,(hl)
    2996.  02:12FE  23                  	inc	hl
    2997.  02:12FF  46                  	ld	b,(hl)
    2998.  02:1300  21 1A 00            	ld	hl,26
    2999.  02:1303  09                  	add	hl,bc
    3000.  02:1304  4E                  	ld	c,(hl)
    3001.  02:1305  23                  	inc	hl
    3002.  02:1306  46                  	ld	b,(hl)
    3003.  02:1307  21 18 00            	ld	hl,24
    3004.  02:130A  09                  	add	hl,bc
    3005.  02:130B  E5                  	push	hl
    3006.  02:130C  CD 80 04            	call	_ld_word
    3007.  02:130F  C1                  	pop	bc
    3008.  02:1310  D1                  	pop	de
    3009.  02:1311  EB                  	ex	de,hl	;l_pint
    3010.  02:1312  73                  	ld	(hl),e
    3011.  02:1313  23                  	inc	hl
    3012.  02:1314  72                  	ld	(hl),d
    3013.  02:1315  EB                   	ex	de,hl
    3014.  02:1316  33                  	inc	sp
    3015.  02:1317  C1                  	pop	bc
    3016.  02:1318  C1                  	pop	bc
    3017.  02:1319  C9                  	ret
    3018.  02:131A                      
    3019.  02:131A                      
    3020.  02:131A                      	C_LINE	2887,"./ff.c::get_fileinfo::0::38"
    3021.  02:131A                      
    3022.  02:131A                      ; Function create_name flags 0x00000200 __smallc 
    3023.  02:131A                      ; const int FRESULTcreate_name(struct 0__anonstruct_237_3 DIR* dp, const char TCHAR* * path)
    3024.  02:131A                      ; parameter 'const char TCHAR* * path' at sp+2 size(2)
    3025.  02:131A                      ; parameter 'struct 0__anonstruct_237_3 DIR* dp' at sp+4 size(2)
    3026.  02:131A                      	C_LINE	2891,"./ff.c::create_name::0::38"
    3027.  02:131A                      @_create_name
    3028.  02:131A  21 F4 FF            	ld	hl,65524	;const
    3029.  02:131D  39                  	add	hl,sp
    3030.  02:131E  F9                  	ld	sp,hl
    3031.  02:131F  21 0E 00            	ld	hl,14	;const
    3032.  02:1322  39                  	add	hl,sp
    3033.  02:1323  7E                  	ld	a,(hl)	;l_gint
    3034.  02:1324  23                  	inc	hl
    3035.  02:1325  66                  	ld	h,(hl)
    3036.  02:1326  6F                  	ld	l,a
    3037.  02:1327  7E                  	ld	a,(hl)	;l_gint
    3038.  02:1328  23                  	inc	hl
    3039.  02:1329  66                  	ld	h,(hl)
    3040.  02:132A  6F                  	ld	l,a
    3041.  02:132B  C1                  	pop	bc
    3042.  02:132C  E5                  	push	hl
    3043.  02:132D  21 08 00            	ld	hl,8	;const
    3044.  02:1330  39                  	add	hl,sp
    3045.  02:1331  E5                  	push	hl
    3046.  02:1332  21 12 00            	ld	hl,18	;const
    3047.  02:1335  39                  	add	hl,sp
    3048.  02:1336  4E                  	ld	c,(hl)
    3049.  02:1337  23                  	inc	hl
    3050.  02:1338  46                  	ld	b,(hl)
    3051.  02:1339  21 1C 00            	ld	hl,28
    3052.  02:133C  09                  	add	hl,bc
    3053.  02:133D  D1                  	pop	de
    3054.  02:133E  EB                  	ex	de,hl	;l_pint
    3055.  02:133F  73                  	ld	(hl),e
    3056.  02:1340  23                  	inc	hl
    3057.  02:1341  72                  	ld	(hl),d
    3058.  02:1342  EB                   	ex	de,hl
    3059.  02:1343  21 08 00            	ld	hl,8	;const
    3060.  02:1346  39                  	add	hl,sp
    3061.  02:1347  7E                  	ld	a,(hl)	;l_gint
    3062.  02:1348  23                  	inc	hl
    3063.  02:1349  66                  	ld	h,(hl)
    3064.  02:134A  6F                  	ld	l,a
    3065.  02:134B  E5                  	push	hl
    3066.  02:134C  1E 20               	ld	e,32
    3067.  02:134E  06 0B               	ld	b,11
    3068.  02:1350                      i_87
    3069.  02:1350  73                  	ld	(hl),e
    3070.  02:1351  23                  	inc	hl
    3071.  02:1352  10 FC               	djnz	i_87
    3072.  02:1354  E1                  	pop	hl
    3073.  02:1355  21 04 00            	ld	hl,4	;const
    3074.  02:1358  39                  	add	hl,sp
    3075.  02:1359  E5                  	push	hl
    3076.  02:135A  2B                  	dec	hl
    3077.  02:135B  2B                  	dec	hl
    3078.  02:135C  11 00 00            	ld	de,0	;const
    3079.  02:135F  73                  	ld	(hl),e
    3080.  02:1360  23                  	inc	hl
    3081.  02:1361  72                  	ld	(hl),d
    3082.  02:1362  EB                  	ex	de,hl
    3083.  02:1363  D1                  	pop	de
    3084.  02:1364  EB                  	ex	de,hl	;l_pint
    3085.  02:1365  73                  	ld	(hl),e
    3086.  02:1366  23                  	inc	hl
    3087.  02:1367  72                  	ld	(hl),d
    3088.  02:1368  EB                   	ex	de,hl
    3089.  02:1369  21 06 00            	ld	hl,6	;const
    3090.  02:136C  39                  	add	hl,sp
    3091.  02:136D  36 08               	ld	(hl),8
    3092.  02:136F  23                  	inc	hl
    3093.  02:1370  36 00               	ld	(hl),0
    3094.  02:1372  D1                  	pop	de
    3095.  02:1373  D5                  	push	de
    3096.  02:1374  21 04 00            	ld	hl,4	;const
    3097.  02:1377  39                  	add	hl,sp
    3098.  02:1378  7E                  	ld	a,(hl)	;l_gint
    3099.  02:1379  23                  	inc	hl
    3100.  02:137A  66                  	ld	h,(hl)
    3101.  02:137B  6F                  	ld	l,a
    3102.  02:137C  19                  	add	hl,de
    3103.  02:137D  7E                  	ld	a,(hl)	;l_gchar
    3104.  02:137E  6F                  	ld	l,a
    3105.  02:137F  17                  	rla
    3106.  02:1380  9F                  	sbc	a
    3107.  02:1381  67                  	ld	h,a
    3108.  02:1382  11 2E 00            	ld	de,46
    3109.  02:1385  A7                  	and	a
    3110.  02:1386  ED 52               	sbc	hl,de
    3111.  02:1388  C2 89 14            	jp	nz,i_88	;
    3112.  02:138B                      i_89
    3113.  02:138B  21 0B 00            	ld	hl,11	;const
    3114.  02:138E  39                  	add	hl,sp
    3115.  02:138F  E5                  	push	hl
    3116.  02:1390  21 02 00            	ld	hl,2	;const
    3117.  02:1393  39                  	add	hl,sp	;l_gintspsp
    3118.  02:1394  7E                  	ld	a,(hl)
    3119.  02:1395  23                  	inc	hl
    3120.  02:1396  66                  	ld	h,(hl)
    3121.  02:1397  6F                  	ld	l,a
    3122.  02:1398  E5                  	push	hl
    3123.  02:1399  21 08 00            	ld	hl,8	;const
    3124.  02:139C  39                  	add	hl,sp
    3125.  02:139D  34                  	inc	(hl)
    3126.  02:139E  7E                  	ld	a,(hl)
    3127.  02:139F  23                  	inc	hl
    3128.  02:13A0  20 01               	jr	nz,$+3
    3129.  02:13A2  34                  	inc	(hl)
    3130.  02:13A3  66                  	ld	h,(hl)
    3131.  02:13A4  6F                  	ld	l,a
    3132.  02:13A5  2B                  	dec	hl
    3133.  02:13A6  D1                  	pop	de
    3134.  02:13A7  19                  	add	hl,de
    3135.  02:13A8  D1                  	pop	de
    3136.  02:13A9  7E                  	ld	a,(hl)
    3137.  02:13AA  12                  	ld	(de),a
    3138.  02:13AB  21 0B 00            	ld	hl,11	;const
    3139.  02:13AE  39                  	add	hl,sp
    3140.  02:13AF  6E                  	ld	l,(hl)
    3141.  02:13B0  26 00               	ld	h,0
    3142.  02:13B2  11 2E 00            	ld	de,46
    3143.  02:13B5  A7                  	and	a
    3144.  02:13B6  ED 52               	sbc	hl,de
    3145.  02:13B8  37                  	scf
    3146.  02:13B9  20 01               	jr	nz,$+3
    3147.  02:13BB  3F                  	ccf
    3148.  02:13BC  DA F1 13            	jp	c,i_93	;
    3149.  02:13BF  21 04 00            	ld	hl,4	;const
    3150.  02:13C2  39                  	add	hl,sp
    3151.  02:13C3  5E                  	ld	e,(hl)
    3152.  02:13C4  23                  	inc	hl
    3153.  02:13C5  56                  	ld	d,(hl)
    3154.  02:13C6  21 03 00            	ld	hl,3
    3155.  02:13C9  CD 1A 57            	call	l_uge
    3156.  02:13CC  DA F1 13            	jp	c,i_90	;EOS
    3157.  02:13CF                      i_92
    3158.  02:13CF  21 08 00            	ld	hl,8	;const
    3159.  02:13D2  39                  	add	hl,sp	;l_gintspsp
    3160.  02:13D3  7E                  	ld	a,(hl)
    3161.  02:13D4  23                  	inc	hl
    3162.  02:13D5  66                  	ld	h,(hl)
    3163.  02:13D6  6F                  	ld	l,a
    3164.  02:13D7  E5                  	push	hl
    3165.  02:13D8  21 04 00            	ld	hl,4	;const
    3166.  02:13DB  39                  	add	hl,sp
    3167.  02:13DC  34                  	inc	(hl)
    3168.  02:13DD  7E                  	ld	a,(hl)
    3169.  02:13DE  23                  	inc	hl
    3170.  02:13DF  20 01               	jr	nz,$+3
    3171.  02:13E1  34                  	inc	(hl)
    3172.  02:13E2  66                  	ld	h,(hl)
    3173.  02:13E3  6F                  	ld	l,a
    3174.  02:13E4  2B                  	dec	hl
    3175.  02:13E5  D1                  	pop	de
    3176.  02:13E6  19                  	add	hl,de
    3177.  02:13E7  EB                  	ex	de,hl
    3178.  02:13E8  21 0B 00            	ld	hl,11	;const
    3179.  02:13EB  39                  	add	hl,sp
    3180.  02:13EC  7E                  	ld	a,(hl)
    3181.  02:13ED  12                  	ld	(de),a
    3182.  02:13EE  C3 8B 13            	jp	i_89	;EOS
    3183.  02:13F1                      i_90
    3184.  02:13F1  21 0B 00            	ld	hl,11	;const
    3185.  02:13F4  39                  	add	hl,sp
    3186.  02:13F5  6E                  	ld	l,(hl)
    3187.  02:13F6  26 00               	ld	h,0
    3188.  02:13F8  11 2F 00            	ld	de,47
    3189.  02:13FB  A7                  	and	a
    3190.  02:13FC  ED 52               	sbc	hl,de
    3191.  02:13FE  CA 16 14            	jp	z,i_96	;
    3192.  02:1401  21 0B 00            	ld	hl,11	;const
    3193.  02:1404  39                  	add	hl,sp
    3194.  02:1405  6E                  	ld	l,(hl)
    3195.  02:1406  26 00               	ld	h,0
    3196.  02:1408  11 5C 00            	ld	de,92
    3197.  02:140B  A7                  	and	a
    3198.  02:140C  ED 52               	sbc	hl,de
    3199.  02:140E  CA 16 14            	jp	z,i_96	;
    3200.  02:1411  21 00 00            	ld	hl,0	;const
    3201.  02:1414  18 03               	jr	i_97
    3202.  02:1416                      i_96
    3203.  02:1416  21 01 00            	ld	hl,1	;const
    3204.  02:1419                      i_97
    3205.  02:1419  CD 3F 54            	call	l_lneg
    3206.  02:141C  D2 38 14            	jp	nc,i_98	;
    3207.  02:141F  21 0B 00            	ld	hl,11	;const
    3208.  02:1422  39                  	add	hl,sp
    3209.  02:1423  5E                  	ld	e,(hl)
    3210.  02:1424  16 00               	ld	d,0
    3211.  02:1426  21 20 00            	ld	hl,32	;const
    3212.  02:1429  A7                  	and	a
    3213.  02:142A  ED 52               	sbc	hl,de
    3214.  02:142C  D2 38 14            	jp	nc,i_98	;
    3215.  02:142F                      i_99_i_98
    3216.  02:142F  21 0C 00            	ld	hl,12	;const
    3217.  02:1432  39                  	add	hl,sp
    3218.  02:1433  F9                  	ld	sp,hl
    3219.  02:1434  21 06 00            	ld	hl,6	;const
    3220.  02:1437  C9                  	ret
    3221.  02:1438                      
    3222.  02:1438                      
    3223.  02:1438                      i_95
    3224.  02:1438  21 0E 00            	ld	hl,14	;const
    3225.  02:143B  39                  	add	hl,sp	;l_gintspsp
    3226.  02:143C  7E                  	ld	a,(hl)
    3227.  02:143D  23                  	inc	hl
    3228.  02:143E  66                  	ld	h,(hl)
    3229.  02:143F  6F                  	ld	l,a
    3230.  02:1440  E5                  	push	hl
    3231.  02:1441  21 02 00            	ld	hl,2	;const
    3232.  02:1444  39                  	add	hl,sp
    3233.  02:1445  5E                  	ld	e,(hl)
    3234.  02:1446  23                  	inc	hl
    3235.  02:1447  56                  	ld	d,(hl)
    3236.  02:1448  21 06 00            	ld	hl,6	;const
    3237.  02:144B  39                  	add	hl,sp
    3238.  02:144C  7E                  	ld	a,(hl)	;l_gint
    3239.  02:144D  23                  	inc	hl
    3240.  02:144E  66                  	ld	h,(hl)
    3241.  02:144F  6F                  	ld	l,a
    3242.  02:1450  19                  	add	hl,de
    3243.  02:1451  D1                  	pop	de
    3244.  02:1452  EB                  	ex	de,hl	;l_pint
    3245.  02:1453  73                  	ld	(hl),e
    3246.  02:1454  23                  	inc	hl
    3247.  02:1455  72                  	ld	(hl),d
    3248.  02:1456  EB                   	ex	de,hl
    3249.  02:1457  21 08 00            	ld	hl,8	;const
    3250.  02:145A  39                  	add	hl,sp
    3251.  02:145B  4E                  	ld	c,(hl)
    3252.  02:145C  23                  	inc	hl
    3253.  02:145D  46                  	ld	b,(hl)
    3254.  02:145E  21 0B 00            	ld	hl,11
    3255.  02:1461  09                  	add	hl,bc
    3256.  02:1462  E5                  	push	hl
    3257.  02:1463  21 0D 00            	ld	hl,13	;const
    3258.  02:1466  39                  	add	hl,sp
    3259.  02:1467  5E                  	ld	e,(hl)
    3260.  02:1468  16 00               	ld	d,0
    3261.  02:146A  21 20 00            	ld	hl,32	;const
    3262.  02:146D  A7                  	and	a
    3263.  02:146E  ED 52               	sbc	hl,de
    3264.  02:1470  3F                  	ccf
    3265.  02:1471  D2 7A 14            	jp	nc,i_100	;
    3266.  02:1474  21 24 00            	ld	hl,36	;const
    3267.  02:1477  C3 7D 14            	jp	i_101	;
    3268.  02:147A                      i_100
    3269.  02:147A  21 20 00            	ld	hl,32	;const
    3270.  02:147D                      i_101
    3271.  02:147D  D1                  	pop	de
    3272.  02:147E  7D                  	ld	a,l
    3273.  02:147F  12                  	ld	(de),a
    3274.  02:1480  21 0C 00            	ld	hl,12	;const
    3275.  02:1483  39                  	add	hl,sp
    3276.  02:1484  F9                  	ld	sp,hl
    3277.  02:1485  21 00 00            	ld	hl,0	;const
    3278.  02:1488  C9                  	ret
    3279.  02:1489                      
    3280.  02:1489                      
    3281.  02:1489                      i_102
    3282.  02:1489  21 0B 00            	ld	hl,11	;const
    3283.  02:148C  39                  	add	hl,sp
    3284.  02:148D  E5                  	push	hl
    3285.  02:148E  21 02 00            	ld	hl,2	;const
    3286.  02:1491  39                  	add	hl,sp	;l_gintspsp
    3287.  02:1492  7E                  	ld	a,(hl)
    3288.  02:1493  23                  	inc	hl
    3289.  02:1494  66                  	ld	h,(hl)
    3290.  02:1495  6F                  	ld	l,a
    3291.  02:1496  E5                  	push	hl
    3292.  02:1497  21 08 00            	ld	hl,8	;const
    3293.  02:149A  39                  	add	hl,sp
    3294.  02:149B  34                  	inc	(hl)
    3295.  02:149C  7E                  	ld	a,(hl)
    3296.  02:149D  23                  	inc	hl
    3297.  02:149E  20 01               	jr	nz,$+3
    3298.  02:14A0  34                  	inc	(hl)
    3299.  02:14A1  66                  	ld	h,(hl)
    3300.  02:14A2  6F                  	ld	l,a
    3301.  02:14A3  2B                  	dec	hl
    3302.  02:14A4  D1                  	pop	de
    3303.  02:14A5  19                  	add	hl,de
    3304.  02:14A6  D1                  	pop	de
    3305.  02:14A7  7E                  	ld	a,(hl)
    3306.  02:14A8  12                  	ld	(de),a
    3307.  02:14A9  21 0B 00            	ld	hl,11	;const
    3308.  02:14AC  39                  	add	hl,sp
    3309.  02:14AD  5E                  	ld	e,(hl)
    3310.  02:14AE  16 00               	ld	d,0
    3311.  02:14B0  21 20 00            	ld	hl,32	;const
    3312.  02:14B3  A7                  	and	a
    3313.  02:14B4  ED 52               	sbc	hl,de
    3314.  02:14B6  3F                  	ccf
    3315.  02:14B7  DA A5 16            	jp	c,i_103	;EOS
    3316.  02:14BA                      i_105
    3317.  02:14BA  21 0B 00            	ld	hl,11	;const
    3318.  02:14BD  39                  	add	hl,sp
    3319.  02:14BE  6E                  	ld	l,(hl)
    3320.  02:14BF  26 00               	ld	h,0
    3321.  02:14C1  11 2F 00            	ld	de,47
    3322.  02:14C4  A7                  	and	a
    3323.  02:14C5  ED 52               	sbc	hl,de
    3324.  02:14C7  CA DA 14            	jp	z,i_107	;
    3325.  02:14CA  21 0B 00            	ld	hl,11	;const
    3326.  02:14CD  39                  	add	hl,sp
    3327.  02:14CE  6E                  	ld	l,(hl)
    3328.  02:14CF  26 00               	ld	h,0
    3329.  02:14D1  11 5C 00            	ld	de,92
    3330.  02:14D4  A7                  	and	a
    3331.  02:14D5  ED 52               	sbc	hl,de
    3332.  02:14D7  C2 09 15            	jp	nz,i_106	;
    3333.  02:14DA                      i_109
    3334.  02:14DA  D1                  	pop	de
    3335.  02:14DB  D5                  	push	de
    3336.  02:14DC  21 04 00            	ld	hl,4	;const
    3337.  02:14DF  39                  	add	hl,sp
    3338.  02:14E0  7E                  	ld	a,(hl)	;l_gint
    3339.  02:14E1  23                  	inc	hl
    3340.  02:14E2  66                  	ld	h,(hl)
    3341.  02:14E3  6F                  	ld	l,a
    3342.  02:14E4  19                  	add	hl,de
    3343.  02:14E5  7E                  	ld	a,(hl)
    3344.  02:14E6  FE 2F               	cp	47
    3345.  02:14E8  CA FC 14            	jp	z,i_111	;
    3346.  02:14EB  D1                  	pop	de
    3347.  02:14EC  D5                  	push	de
    3348.  02:14ED  21 04 00            	ld	hl,4	;const
    3349.  02:14F0  39                  	add	hl,sp
    3350.  02:14F1  7E                  	ld	a,(hl)	;l_gint
    3351.  02:14F2  23                  	inc	hl
    3352.  02:14F3  66                  	ld	h,(hl)
    3353.  02:14F4  6F                  	ld	l,a
    3354.  02:14F5  19                  	add	hl,de
    3355.  02:14F6  7E                  	ld	a,(hl)
    3356.  02:14F7  FE 5C               	cp	92
    3357.  02:14F9  C2 A5 16            	jp	nz,i_110	;
    3358.  02:14FC                      i_111
    3359.  02:14FC  21 04 00            	ld	hl,4	;const
    3360.  02:14FF  39                  	add	hl,sp
    3361.  02:1500  34                  	inc	(hl)
    3362.  02:1501  7E                  	ld	a,(hl)
    3363.  02:1502  23                  	inc	hl
    3364.  02:1503  20 01               	jr	nz,$+3
    3365.  02:1505  34                  	inc	(hl)
    3366.  02:1506  C3 DA 14            	jp	i_109	;EOS
    3367.  02:1509                      i_106
    3368.  02:1509  21 0B 00            	ld	hl,11	;const
    3369.  02:150C  39                  	add	hl,sp
    3370.  02:150D  6E                  	ld	l,(hl)
    3371.  02:150E  26 00               	ld	h,0
    3372.  02:1510  11 2E 00            	ld	de,46
    3373.  02:1513  A7                  	and	a
    3374.  02:1514  ED 52               	sbc	hl,de
    3375.  02:1516  CA 2E 15            	jp	z,i_114	;
    3376.  02:1519  21 02 00            	ld	hl,2	;const
    3377.  02:151C  39                  	add	hl,sp
    3378.  02:151D  5E                  	ld	e,(hl)
    3379.  02:151E  23                  	inc	hl
    3380.  02:151F  56                  	ld	d,(hl)
    3381.  02:1520  21 06 00            	ld	hl,6	;const
    3382.  02:1523  39                  	add	hl,sp
    3383.  02:1524  7E                  	ld	a,(hl)	;l_gint
    3384.  02:1525  23                  	inc	hl
    3385.  02:1526  66                  	ld	h,(hl)
    3386.  02:1527  6F                  	ld	l,a
    3387.  02:1528  CD 1A 57            	call	l_uge
    3388.  02:152B  D2 6F 15            	jp	nc,i_113	;
    3389.  02:152E                      i_114
    3390.  02:152E  21 06 00            	ld	hl,6	;const
    3391.  02:1531  39                  	add	hl,sp
    3392.  02:1532  7E                  	ld	a,(hl)	;l_gint
    3393.  02:1533  23                  	inc	hl
    3394.  02:1534  66                  	ld	h,(hl)
    3395.  02:1535  6F                  	ld	l,a
    3396.  02:1536  11 0B 00            	ld	de,11
    3397.  02:1539  A7                  	and	a
    3398.  02:153A  ED 52               	sbc	hl,de
    3399.  02:153C  CA 53 15            	jp	z,i_117	;
    3400.  02:153F  21 0B 00            	ld	hl,11	;const
    3401.  02:1542  39                  	add	hl,sp
    3402.  02:1543  6E                  	ld	l,(hl)
    3403.  02:1544  26 00               	ld	h,0
    3404.  02:1546  11 2E 00            	ld	de,46
    3405.  02:1549  A7                  	and	a
    3406.  02:154A  ED 52               	sbc	hl,de
    3407.  02:154C  37                  	scf
    3408.  02:154D  20 01               	jr	nz,$+3
    3409.  02:154F  3F                  	ccf
    3410.  02:1550  D2 5C 15            	jp	nc,i_116	;
    3411.  02:1553                      i_117
    3412.  02:1553  21 0C 00            	ld	hl,12	;const
    3413.  02:1556  39                  	add	hl,sp
    3414.  02:1557  F9                  	ld	sp,hl
    3415.  02:1558  21 06 00            	ld	hl,6	;const
    3416.  02:155B  C9                  	ret
    3417.  02:155C                      
    3418.  02:155C                      
    3419.  02:155C                      i_116
    3420.  02:155C  21 08 00            	ld	hl,8	;const
    3421.  02:155F  D1                  	pop	de
    3422.  02:1560  C1                  	pop	bc
    3423.  02:1561  E5                  	push	hl
    3424.  02:1562  D5                  	push	de
    3425.  02:1563  21 06 00            	ld	hl,6	;const
    3426.  02:1566  39                  	add	hl,sp
    3427.  02:1567  36 0B               	ld	(hl),11
    3428.  02:1569  23                  	inc	hl
    3429.  02:156A  36 00               	ld	(hl),0
    3430.  02:156C  C3 89 14            	jp	i_102	;EOS
    3431.  02:156F                      i_113
    3432.  02:156F  21 0B 00            	ld	hl,11	;const
    3433.  02:1572  39                  	add	hl,sp
    3434.  02:1573  6E                  	ld	l,(hl)
    3435.  02:1574  26 00               	ld	h,0
    3436.  02:1576  7D                  	ld	a,l
    3437.  02:1577  D6 80               	sub	128
    3438.  02:1579  3F                  	ccf
    3439.  02:157A  D2 95 15            	jp	nc,i_119	;
    3440.  02:157D  21 0B 00            	ld	hl,11	;const
    3441.  02:1580  39                  	add	hl,sp
    3442.  02:1581  E5                  	push	hl
    3443.  02:1582  21 00 04            	ld	hl,_ExCvt
    3444.  02:1585  E5                  	push	hl
    3445.  02:1586  21 0F 00            	ld	hl,15	;const
    3446.  02:1589  39                  	add	hl,sp
    3447.  02:158A  7E                  	ld	a,(hl)
    3448.  02:158B  E6 7F               	and	127
    3449.  02:158D  6F                  	ld	l,a
    3450.  02:158E  26 00               	ld	h,0
    3451.  02:1590  D1                  	pop	de
    3452.  02:1591  19                  	add	hl,de
    3453.  02:1592  7E                  	ld	a,(hl)
    3454.  02:1593  D1                  	pop	de
    3455.  02:1594  12                  	ld	(de),a
    3456.  02:1595                      i_119
    3457.  02:1595  21 0B 00            	ld	hl,11	;const
    3458.  02:1598  39                  	add	hl,sp
    3459.  02:1599  6E                  	ld	l,(hl)
    3460.  02:159A  26 00               	ld	h,0
    3461.  02:159C  E5                  	push	hl
    3462.  02:159D  CD 32 05            	call	_dbc_1st
    3463.  02:15A0  C1                  	pop	bc
    3464.  02:15A1  7C                  	ld	a,h
    3465.  02:15A2  B5                  	or	l
    3466.  02:15A3  CA 3B 16            	jp	z,i_120	;
    3467.  02:15A6  21 0A 00            	ld	hl,10	;const
    3468.  02:15A9  39                  	add	hl,sp
    3469.  02:15AA  E5                  	push	hl
    3470.  02:15AB  21 02 00            	ld	hl,2	;const
    3471.  02:15AE  39                  	add	hl,sp	;l_gintspsp
    3472.  02:15AF  7E                  	ld	a,(hl)
    3473.  02:15B0  23                  	inc	hl
    3474.  02:15B1  66                  	ld	h,(hl)
    3475.  02:15B2  6F                  	ld	l,a
    3476.  02:15B3  E5                  	push	hl
    3477.  02:15B4  21 08 00            	ld	hl,8	;const
    3478.  02:15B7  39                  	add	hl,sp
    3479.  02:15B8  34                  	inc	(hl)
    3480.  02:15B9  7E                  	ld	a,(hl)
    3481.  02:15BA  23                  	inc	hl
    3482.  02:15BB  20 01               	jr	nz,$+3
    3483.  02:15BD  34                  	inc	(hl)
    3484.  02:15BE  66                  	ld	h,(hl)
    3485.  02:15BF  6F                  	ld	l,a
    3486.  02:15C0  2B                  	dec	hl
    3487.  02:15C1  D1                  	pop	de
    3488.  02:15C2  19                  	add	hl,de
    3489.  02:15C3  D1                  	pop	de
    3490.  02:15C4  7E                  	ld	a,(hl)
    3491.  02:15C5  12                  	ld	(de),a
    3492.  02:15C6  21 0A 00            	ld	hl,10	;const
    3493.  02:15C9  39                  	add	hl,sp
    3494.  02:15CA  6E                  	ld	l,(hl)
    3495.  02:15CB  26 00               	ld	h,0
    3496.  02:15CD  E5                  	push	hl
    3497.  02:15CE  CD 43 05            	call	_dbc_2nd
    3498.  02:15D1  C1                  	pop	bc
    3499.  02:15D2  CD 3F 54            	call	l_lneg
    3500.  02:15D5  DA F1 15            	jp	c,i_122	;
    3501.  02:15D8  21 02 00            	ld	hl,2	;const
    3502.  02:15DB  39                  	add	hl,sp	;l_gintspsp
    3503.  02:15DC  7E                  	ld	a,(hl)
    3504.  02:15DD  23                  	inc	hl
    3505.  02:15DE  66                  	ld	h,(hl)
    3506.  02:15DF  6F                  	ld	l,a
    3507.  02:15E0  E5                  	push	hl
    3508.  02:15E1  21 08 00            	ld	hl,8	;const
    3509.  02:15E4  39                  	add	hl,sp
    3510.  02:15E5  7E                  	ld	a,(hl)	;l_gint
    3511.  02:15E6  23                  	inc	hl
    3512.  02:15E7  66                  	ld	h,(hl)
    3513.  02:15E8  6F                  	ld	l,a
    3514.  02:15E9  2B                  	dec	hl
    3515.  02:15EA  D1                  	pop	de
    3516.  02:15EB  CD 1A 57            	call	l_uge
    3517.  02:15EE  D2 FA 15            	jp	nc,i_121	;
    3518.  02:15F1                      i_122
    3519.  02:15F1  21 0C 00            	ld	hl,12	;const
    3520.  02:15F4  39                  	add	hl,sp
    3521.  02:15F5  F9                  	ld	sp,hl
    3522.  02:15F6  21 06 00            	ld	hl,6	;const
    3523.  02:15F9  C9                  	ret
    3524.  02:15FA                      
    3525.  02:15FA                      
    3526.  02:15FA                      i_121
    3527.  02:15FA  21 08 00            	ld	hl,8	;const
    3528.  02:15FD  39                  	add	hl,sp	;l_gintspsp
    3529.  02:15FE  7E                  	ld	a,(hl)
    3530.  02:15FF  23                  	inc	hl
    3531.  02:1600  66                  	ld	h,(hl)
    3532.  02:1601  6F                  	ld	l,a
    3533.  02:1602  E5                  	push	hl
    3534.  02:1603  21 04 00            	ld	hl,4	;const
    3535.  02:1606  39                  	add	hl,sp
    3536.  02:1607  34                  	inc	(hl)
    3537.  02:1608  7E                  	ld	a,(hl)
    3538.  02:1609  23                  	inc	hl
    3539.  02:160A  20 01               	jr	nz,$+3
    3540.  02:160C  34                  	inc	(hl)
    3541.  02:160D  66                  	ld	h,(hl)
    3542.  02:160E  6F                  	ld	l,a
    3543.  02:160F  2B                  	dec	hl
    3544.  02:1610  D1                  	pop	de
    3545.  02:1611  19                  	add	hl,de
    3546.  02:1612  EB                  	ex	de,hl
    3547.  02:1613  21 0B 00            	ld	hl,11	;const
    3548.  02:1616  39                  	add	hl,sp
    3549.  02:1617  7E                  	ld	a,(hl)
    3550.  02:1618  12                  	ld	(de),a
    3551.  02:1619  21 08 00            	ld	hl,8	;const
    3552.  02:161C  39                  	add	hl,sp	;l_gintspsp
    3553.  02:161D  7E                  	ld	a,(hl)
    3554.  02:161E  23                  	inc	hl
    3555.  02:161F  66                  	ld	h,(hl)
    3556.  02:1620  6F                  	ld	l,a
    3557.  02:1621  E5                  	push	hl
    3558.  02:1622  21 04 00            	ld	hl,4	;const
    3559.  02:1625  39                  	add	hl,sp
    3560.  02:1626  34                  	inc	(hl)
    3561.  02:1627  7E                  	ld	a,(hl)
    3562.  02:1628  23                  	inc	hl
    3563.  02:1629  20 01               	jr	nz,$+3
    3564.  02:162B  34                  	inc	(hl)
    3565.  02:162C  66                  	ld	h,(hl)
    3566.  02:162D  6F                  	ld	l,a
    3567.  02:162E  2B                  	dec	hl
    3568.  02:162F  D1                  	pop	de
    3569.  02:1630  19                  	add	hl,de
    3570.  02:1631  EB                  	ex	de,hl
    3571.  02:1632  21 0A 00            	ld	hl,10	;const
    3572.  02:1635  39                  	add	hl,sp
    3573.  02:1636  7E                  	ld	a,(hl)
    3574.  02:1637  12                  	ld	(de),a
    3575.  02:1638  C3 89 14            	jp	i_124	;EOS
    3576.  02:163B                      i_120
    3577.  02:163B  21 73 39            	ld	hl,i_1+0
    3578.  02:163E  E5                  	push	hl
    3579.  02:163F  21 0D 00            	ld	hl,13	;const
    3580.  02:1642  39                  	add	hl,sp
    3581.  02:1643  6E                  	ld	l,(hl)
    3582.  02:1644  26 00               	ld	h,0
    3583.  02:1646  EB                  	ex	de,hl
    3584.  02:1647  E1                  	pop	hl
    3585.  02:1648                      i_126
    3586.  02:1648  7E                  	ld	a,(hl)
    3587.  02:1649  BB                  	cp	e
    3588.  02:164A  28 06               	jr	z,i_127
    3589.  02:164C  A7                  	and	a
    3590.  02:164D  23                  	inc	hl
    3591.  02:164E  20 F8               	jr	nz,i_126
    3592.  02:1650  67                  	ld	h,a
    3593.  02:1651  6C                  	ld	l,h
    3594.  02:1652                      i_127
    3595.  02:1652  7C                  	ld	a,h
    3596.  02:1653  B5                  	or	l
    3597.  02:1654  CA 60 16            	jp	z,i_125	;
    3598.  02:1657  21 0C 00            	ld	hl,12	;const
    3599.  02:165A  39                  	add	hl,sp
    3600.  02:165B  F9                  	ld	sp,hl
    3601.  02:165C  21 06 00            	ld	hl,6	;const
    3602.  02:165F  C9                  	ret
    3603.  02:1660                      
    3604.  02:1660                      
    3605.  02:1660                      i_125
    3606.  02:1660  21 0B 00            	ld	hl,11	;const
    3607.  02:1663  39                  	add	hl,sp
    3608.  02:1664  3E 60               	ld	a,96
    3609.  02:1666  BE                  	cp	(hl)
    3610.  02:1667  D2 83 16            	jp	nc,i_129	;
    3611.  02:166A  21 0B 00            	ld	hl,11	;const
    3612.  02:166D  39                  	add	hl,sp
    3613.  02:166E  5E                  	ld	e,(hl)
    3614.  02:166F  16 00               	ld	d,0
    3615.  02:1671  21 7A 00            	ld	hl,122	;const
    3616.  02:1674  A7                  	and	a
    3617.  02:1675  ED 52               	sbc	hl,de
    3618.  02:1677  3F                  	ccf
    3619.  02:1678  D2 83 16            	jp	nc,i_129	;
    3620.  02:167B                      i_130_i_129
    3621.  02:167B  21 0B 00            	ld	hl,11	;const
    3622.  02:167E  39                  	add	hl,sp
    3623.  02:167F  7E                  	ld	a,(hl)
    3624.  02:1680  C6 E0               	add	a,-32
    3625.  02:1682  77                  	ld	(hl),a
    3626.  02:1683                      i_128
    3627.  02:1683  21 08 00            	ld	hl,8	;const
    3628.  02:1686  39                  	add	hl,sp	;l_gintspsp
    3629.  02:1687  7E                  	ld	a,(hl)
    3630.  02:1688  23                  	inc	hl
    3631.  02:1689  66                  	ld	h,(hl)
    3632.  02:168A  6F                  	ld	l,a
    3633.  02:168B  E5                  	push	hl
    3634.  02:168C  21 04 00            	ld	hl,4	;const
    3635.  02:168F  39                  	add	hl,sp
    3636.  02:1690  34                  	inc	(hl)
    3637.  02:1691  7E                  	ld	a,(hl)
    3638.  02:1692  23                  	inc	hl
    3639.  02:1693  20 01               	jr	nz,$+3
    3640.  02:1695  34                  	inc	(hl)
    3641.  02:1696  66                  	ld	h,(hl)
    3642.  02:1697  6F                  	ld	l,a
    3643.  02:1698  2B                  	dec	hl
    3644.  02:1699  D1                  	pop	de
    3645.  02:169A  19                  	add	hl,de
    3646.  02:169B  EB                  	ex	de,hl
    3647.  02:169C  21 0B 00            	ld	hl,11	;const
    3648.  02:169F  39                  	add	hl,sp
    3649.  02:16A0  7E                  	ld	a,(hl)
    3650.  02:16A1  12                  	ld	(de),a
    3651.  02:16A2  C3 89 14            	jp	i_102	;EOS
    3652.  02:16A5                      i_103
    3653.  02:16A5  21 0E 00            	ld	hl,14	;const
    3654.  02:16A8  39                  	add	hl,sp	;l_gintspsp
    3655.  02:16A9  7E                  	ld	a,(hl)
    3656.  02:16AA  23                  	inc	hl
    3657.  02:16AB  66                  	ld	h,(hl)
    3658.  02:16AC  6F                  	ld	l,a
    3659.  02:16AD  E5                  	push	hl
    3660.  02:16AE  21 02 00            	ld	hl,2	;const
    3661.  02:16B1  39                  	add	hl,sp
    3662.  02:16B2  5E                  	ld	e,(hl)
    3663.  02:16B3  23                  	inc	hl
    3664.  02:16B4  56                  	ld	d,(hl)
    3665.  02:16B5  21 06 00            	ld	hl,6	;const
    3666.  02:16B8  39                  	add	hl,sp
    3667.  02:16B9  7E                  	ld	a,(hl)	;l_gint
    3668.  02:16BA  23                  	inc	hl
    3669.  02:16BB  66                  	ld	h,(hl)
    3670.  02:16BC  6F                  	ld	l,a
    3671.  02:16BD  19                  	add	hl,de
    3672.  02:16BE  D1                  	pop	de
    3673.  02:16BF  EB                  	ex	de,hl	;l_pint
    3674.  02:16C0  73                  	ld	(hl),e
    3675.  02:16C1  23                  	inc	hl
    3676.  02:16C2  72                  	ld	(hl),d
    3677.  02:16C3  EB                   	ex	de,hl
    3678.  02:16C4  C1                  	pop	bc
    3679.  02:16C5  E1                  	pop	hl
    3680.  02:16C6  E5                  	push	hl
    3681.  02:16C7  C5                  	push	bc
    3682.  02:16C8  7C                  	ld	a,h
    3683.  02:16C9  B5                  	or	l
    3684.  02:16CA  20 01               	jr	nz,$+3
    3685.  02:16CC  37                  	scf
    3686.  02:16CD  D2 D9 16            	jp	nc,i_131	;
    3687.  02:16D0  21 0C 00            	ld	hl,12	;const
    3688.  02:16D3  39                  	add	hl,sp
    3689.  02:16D4  F9                  	ld	sp,hl
    3690.  02:16D5  21 06 00            	ld	hl,6	;const
    3691.  02:16D8  C9                  	ret
    3692.  02:16D9                      
    3693.  02:16D9                      
    3694.  02:16D9                      i_131
    3695.  02:16D9  21 08 00            	ld	hl,8	;const
    3696.  02:16DC  39                  	add	hl,sp
    3697.  02:16DD  7E                  	ld	a,(hl)	;l_gint
    3698.  02:16DE  23                  	inc	hl
    3699.  02:16DF  66                  	ld	h,(hl)
    3700.  02:16E0  6F                  	ld	l,a
    3701.  02:16E1  7E                  	ld	a,(hl)
    3702.  02:16E2  FE E5               	cp	229
    3703.  02:16E4  C2 F3 16            	jp	nz,i_132	;
    3704.  02:16E7  21 08 00            	ld	hl,8	;const
    3705.  02:16EA  39                  	add	hl,sp
    3706.  02:16EB  5E                  	ld	e,(hl)
    3707.  02:16EC  23                  	inc	hl
    3708.  02:16ED  56                  	ld	d,(hl)
    3709.  02:16EE  21 05 00            	ld	hl,5	;const
    3710.  02:16F1  7D                  	ld	a,l
    3711.  02:16F2  12                  	ld	(de),a
    3712.  02:16F3                      i_132
    3713.  02:16F3  21 08 00            	ld	hl,8	;const
    3714.  02:16F6  39                  	add	hl,sp
    3715.  02:16F7  4E                  	ld	c,(hl)
    3716.  02:16F8  23                  	inc	hl
    3717.  02:16F9  46                  	ld	b,(hl)
    3718.  02:16FA  21 0B 00            	ld	hl,11
    3719.  02:16FD  09                  	add	hl,bc
    3720.  02:16FE  E5                  	push	hl
    3721.  02:16FF  21 0D 00            	ld	hl,13	;const
    3722.  02:1702  39                  	add	hl,sp
    3723.  02:1703  5E                  	ld	e,(hl)
    3724.  02:1704  16 00               	ld	d,0
    3725.  02:1706  21 20 00            	ld	hl,32	;const
    3726.  02:1709  A7                  	and	a
    3727.  02:170A  ED 52               	sbc	hl,de
    3728.  02:170C  3F                  	ccf
    3729.  02:170D  DA 34 17            	jp	c,i_133	;
    3730.  02:1710  21 02 00            	ld	hl,2	;const
    3731.  02:1713  39                  	add	hl,sp
    3732.  02:1714  5E                  	ld	e,(hl)
    3733.  02:1715  23                  	inc	hl
    3734.  02:1716  56                  	ld	d,(hl)
    3735.  02:1717  21 06 00            	ld	hl,6	;const
    3736.  02:171A  39                  	add	hl,sp
    3737.  02:171B  7E                  	ld	a,(hl)	;l_gint
    3738.  02:171C  23                  	inc	hl
    3739.  02:171D  66                  	ld	h,(hl)
    3740.  02:171E  6F                  	ld	l,a
    3741.  02:171F  19                  	add	hl,de
    3742.  02:1720  7E                  	ld	a,(hl)	;l_gchar
    3743.  02:1721  6F                  	ld	l,a
    3744.  02:1722  17                  	rla
    3745.  02:1723  9F                  	sbc	a
    3746.  02:1724  67                  	ld	h,a
    3747.  02:1725  11 20 00            	ld	de,32
    3748.  02:1728  EB                  	ex	de,hl
    3749.  02:1729  CD 26 57            	call	l_le
    3750.  02:172C  DA 34 17            	jp	c,i_133	;
    3751.  02:172F  21 00 00            	ld	hl,0	;const
    3752.  02:1732  18 03               	jr	i_134
    3753.  02:1734                      i_133
    3754.  02:1734  21 01 00            	ld	hl,1	;const
    3755.  02:1737                      i_134
    3756.  02:1737  D2 40 17            	jp	nc,i_135	;
    3757.  02:173A  21 04 00            	ld	hl,4	;const
    3758.  02:173D  C3 43 17            	jp	i_136	;
    3759.  02:1740                      i_135
    3760.  02:1740  21 00 00            	ld	hl,0	;const
    3761.  02:1743                      i_136
    3762.  02:1743  D1                  	pop	de
    3763.  02:1744  7D                  	ld	a,l
    3764.  02:1745  12                  	ld	(de),a
    3765.  02:1746  21 0C 00            	ld	hl,12	;const
    3766.  02:1749  39                  	add	hl,sp
    3767.  02:174A  F9                  	ld	sp,hl
    3768.  02:174B  21 00 00            	ld	hl,0	;const
    3769.  02:174E  C9                  	ret
    3770.  02:174F                      
    3771.  02:174F                      
    3772.  02:174F                      	C_LINE	3091,"./ff.c::create_name::0::47"
    3773.  02:174F                      
    3774.  02:174F                      ; Function follow_path flags 0x00000200 __smallc 
    3775.  02:174F                      ; const int FRESULTfollow_path(struct 0__anonstruct_237_3 DIR* dp, const char TCHAR* path)
    3776.  02:174F                      ; parameter 'const char TCHAR* path' at sp+2 size(2)
    3777.  02:174F                      ; parameter 'struct 0__anonstruct_237_3 DIR* dp' at sp+4 size(2)
    3778.  02:174F                      	C_LINE	3095,"./ff.c::follow_path::0::47"
    3779.  02:174F                      @_follow_path
    3780.  02:174F  C5                  	push	bc
    3781.  02:1750  3B                  	dec	sp
    3782.  02:1751  21 07 00            	ld	hl,7	;const
    3783.  02:1754  39                  	add	hl,sp
    3784.  02:1755  7E                  	ld	a,(hl)	;l_gint
    3785.  02:1756  23                  	inc	hl
    3786.  02:1757  66                  	ld	h,(hl)
    3787.  02:1758  6F                  	ld	l,a
    3788.  02:1759  5E                  	ld	e,(hl)
    3789.  02:175A  23                  	inc	hl
    3790.  02:175B  56                  	ld	d,(hl)
    3791.  02:175C  D5                  	push	de
    3792.  02:175D  21 07 00            	ld	hl,7	;const
    3793.  02:1760  39                  	add	hl,sp
    3794.  02:1761  7E                  	ld	a,(hl)	;l_gint
    3795.  02:1762  23                  	inc	hl
    3796.  02:1763  66                  	ld	h,(hl)
    3797.  02:1764  6F                  	ld	l,a
    3798.  02:1765  7E                  	ld	a,(hl)
    3799.  02:1766  FE 2F               	cp	47
    3800.  02:1768  CA 75 17            	jp	z,i_138	;
    3801.  02:176B  FE 5C               	cp	92
    3802.  02:176D  CA 75 17            	jp	z,i_138	;
    3803.  02:1770  21 00 00            	ld	hl,0	;const
    3804.  02:1773  18 03               	jr	i_139
    3805.  02:1775                      i_138
    3806.  02:1775  21 01 00            	ld	hl,1	;const
    3807.  02:1778                      i_139
    3808.  02:1778  CD 3F 54            	call	l_lneg
    3809.  02:177B  D2 C6 17            	jp	nc,i_140	;
    3810.  02:177E  C3 A9 17            	jp	i_141	;EOS
    3811.  02:1781  21 07 00            	ld	hl,7	;const
    3812.  02:1784  39                  	add	hl,sp
    3813.  02:1785  7E                  	ld	a,(hl)	;l_gint
    3814.  02:1786  23                  	inc	hl
    3815.  02:1787  66                  	ld	h,(hl)
    3816.  02:1788  6F                  	ld	l,a
    3817.  02:1789  7E                  	ld	a,(hl)	;l_gchar
    3818.  02:178A  6F                  	ld	l,a
    3819.  02:178B  17                  	rla
    3820.  02:178C  9F                  	sbc	a
    3821.  02:178D  67                  	ld	h,a
    3822.  02:178E  E5                  	push	hl
    3823.  02:178F  21 00 00            	ld	hl,0	;const
    3824.  02:1792  7C                  	ld	a,h
    3825.  02:1793  B5                  	or	l
    3826.  02:1794  CA 9D 17            	jp	z,i_142	;
    3827.  02:1797  21 20 00            	ld	hl,32	;const
    3828.  02:179A  C3 A0 17            	jp	i_143	;
    3829.  02:179D                      i_142
    3830.  02:179D  21 21 00            	ld	hl,33	;const
    3831.  02:17A0                      i_143
    3832.  02:17A0  D1                  	pop	de
    3833.  02:17A1  EB                  	ex	de,hl
    3834.  02:17A2  A7                  	and	a
    3835.  02:17A3  ED 52               	sbc	hl,de
    3836.  02:17A5  3F                  	ccf
    3837.  02:17A6  D2 C6 17            	jp	nc,i_140	;
    3838.  02:17A9                      i_145_i_140
    3839.  02:17A9  21 09 00            	ld	hl,9	;const
    3840.  02:17AC  39                  	add	hl,sp
    3841.  02:17AD  4E                  	ld	c,(hl)
    3842.  02:17AE  23                  	inc	hl
    3843.  02:17AF  46                  	ld	b,(hl)
    3844.  02:17B0  21 06 00            	ld	hl,6
    3845.  02:17B3  09                  	add	hl,bc
    3846.  02:17B4  D1                  	pop	de
    3847.  02:17B5  D5                  	push	de
    3848.  02:17B6  E5                  	push	hl
    3849.  02:17B7  EB                  	ex	de,hl
    3850.  02:17B8  01 14 00            	ld	bc,20
    3851.  02:17BB  09                  	add	hl,bc
    3852.  02:17BC  CD DE 54            	call	l_glong
    3853.  02:17BF  C1                  	pop	bc
    3854.  02:17C0  CD C3 54            	call	l_plong
    3855.  02:17C3  C3 FB 17            	jp	i_146	;EOS
    3856.  02:17C6                      i_147
    3857.  02:17C6  21 07 00            	ld	hl,7	;const
    3858.  02:17C9  39                  	add	hl,sp
    3859.  02:17CA  7E                  	ld	a,(hl)	;l_gint
    3860.  02:17CB  23                  	inc	hl
    3861.  02:17CC  66                  	ld	h,(hl)
    3862.  02:17CD  6F                  	ld	l,a
    3863.  02:17CE  7E                  	ld	a,(hl)
    3864.  02:17CF  FE 2F               	cp	47
    3865.  02:17D1  CA D9 17            	jp	z,i_149	;
    3866.  02:17D4  FE 5C               	cp	92
    3867.  02:17D6  C2 E6 17            	jp	nz,i_148	;
    3868.  02:17D9                      i_149
    3869.  02:17D9  21 07 00            	ld	hl,7	;const
    3870.  02:17DC  39                  	add	hl,sp
    3871.  02:17DD  34                  	inc	(hl)
    3872.  02:17DE  7E                  	ld	a,(hl)
    3873.  02:17DF  23                  	inc	hl
    3874.  02:17E0  20 01               	jr	nz,$+3
    3875.  02:17E2  34                  	inc	(hl)
    3876.  02:17E3  C3 C6 17            	jp	i_147	;EOS
    3877.  02:17E6                      i_148
    3878.  02:17E6  21 09 00            	ld	hl,9	;const
    3879.  02:17E9  39                  	add	hl,sp
    3880.  02:17EA  4E                  	ld	c,(hl)
    3881.  02:17EB  23                  	inc	hl
    3882.  02:17EC  46                  	ld	b,(hl)
    3883.  02:17ED  21 06 00            	ld	hl,6
    3884.  02:17F0  09                  	add	hl,bc
    3885.  02:17F1  E5                  	push	hl
    3886.  02:17F2  21 00 00            	ld	hl,0	;const
    3887.  02:17F5  54                  	ld	d,h
    3888.  02:17F6  5D                  	ld	e,l
    3889.  02:17F7  C1                  	pop	bc
    3890.  02:17F8  CD C3 54            	call	l_plong
    3891.  02:17FB                      i_146
    3892.  02:17FB  21 07 00            	ld	hl,7	;const
    3893.  02:17FE  39                  	add	hl,sp
    3894.  02:17FF  7E                  	ld	a,(hl)	;l_gint
    3895.  02:1800  23                  	inc	hl
    3896.  02:1801  66                  	ld	h,(hl)
    3897.  02:1802  6F                  	ld	l,a
    3898.  02:1803  7E                  	ld	a,(hl)
    3899.  02:1804  FE 20               	cp	32
    3900.  02:1806  D2 3A 18            	jp	nc,i_151	;
    3901.  02:1809  21 09 00            	ld	hl,9	;const
    3902.  02:180C  39                  	add	hl,sp
    3903.  02:180D  4E                  	ld	c,(hl)
    3904.  02:180E  23                  	inc	hl
    3905.  02:180F  46                  	ld	b,(hl)
    3906.  02:1810  21 27 00            	ld	hl,39
    3907.  02:1813  09                  	add	hl,bc
    3908.  02:1814  36 80               	ld	(hl),128
    3909.  02:1816  21 03 00            	ld	hl,3	;const
    3910.  02:1819  39                  	add	hl,sp
    3911.  02:181A  E5                  	push	hl
    3912.  02:181B  21 0B 00            	ld	hl,11	;const
    3913.  02:181E  39                  	add	hl,sp	;l_gintspsp
    3914.  02:181F  7E                  	ld	a,(hl)
    3915.  02:1820  23                  	inc	hl
    3916.  02:1821  66                  	ld	h,(hl)
    3917.  02:1822  6F                  	ld	l,a
    3918.  02:1823  E5                  	push	hl
    3919.  02:1824  21 00 00            	ld	hl,0	;const
    3920.  02:1827  54                  	ld	d,h
    3921.  02:1828  5D                  	ld	e,l
    3922.  02:1829  D5                  	push	de
    3923.  02:182A  E5                  	push	hl
    3924.  02:182B  CD 0A 09            	call	_dir_sdi
    3925.  02:182E  C1                  	pop	bc
    3926.  02:182F  C1                  	pop	bc
    3927.  02:1830  C1                  	pop	bc
    3928.  02:1831  D1                  	pop	de
    3929.  02:1832  EB                  	ex	de,hl	;l_pint
    3930.  02:1833  73                  	ld	(hl),e
    3931.  02:1834  23                  	inc	hl
    3932.  02:1835  72                  	ld	(hl),d
    3933.  02:1836  EB                   	ex	de,hl
    3934.  02:1837  C3 69 19            	jp	i_152	;EOS
    3935.  02:183A                      i_153
    3936.  02:183A  21 03 00            	ld	hl,3	;const
    3937.  02:183D  39                  	add	hl,sp
    3938.  02:183E  E5                  	push	hl
    3939.  02:183F  21 0B 00            	ld	hl,11	;const
    3940.  02:1842  39                  	add	hl,sp	;l_gintspsp
    3941.  02:1843  7E                  	ld	a,(hl)
    3942.  02:1844  23                  	inc	hl
    3943.  02:1845  66                  	ld	h,(hl)
    3944.  02:1846  6F                  	ld	l,a
    3945.  02:1847  E5                  	push	hl
    3946.  02:1848  21 0B 00            	ld	hl,11	;const
    3947.  02:184B  39                  	add	hl,sp
    3948.  02:184C  E5                  	push	hl
    3949.  02:184D  CD 1A 13            	call	_create_name
    3950.  02:1850  C1                  	pop	bc
    3951.  02:1851  C1                  	pop	bc
    3952.  02:1852  D1                  	pop	de
    3953.  02:1853  EB                  	ex	de,hl	;l_pint
    3954.  02:1854  73                  	ld	(hl),e
    3955.  02:1855  23                  	inc	hl
    3956.  02:1856  72                  	ld	(hl),d
    3957.  02:1857  EB                   	ex	de,hl
    3958.  02:1858  21 03 00            	ld	hl,3	;const
    3959.  02:185B  39                  	add	hl,sp
    3960.  02:185C  7E                  	ld	a,(hl)	;l_gint
    3961.  02:185D  23                  	inc	hl
    3962.  02:185E  66                  	ld	h,(hl)
    3963.  02:185F  6F                  	ld	l,a
    3964.  02:1860  B4                  	or	h
    3965.  02:1861  C2 69 19            	jp	nz,i_154	;EOS
    3966.  02:1864                      i_156
    3967.  02:1864  21 03 00            	ld	hl,3	;const
    3968.  02:1867  39                  	add	hl,sp
    3969.  02:1868  E5                  	push	hl
    3970.  02:1869  21 0B 00            	ld	hl,11	;const
    3971.  02:186C  39                  	add	hl,sp
    3972.  02:186D  7E                  	ld	a,(hl)	;l_gint
    3973.  02:186E  23                  	inc	hl
    3974.  02:186F  66                  	ld	h,(hl)
    3975.  02:1870  6F                  	ld	l,a
    3976.  02:1871  E5                  	push	hl
    3977.  02:1872  CD 1F 10            	call	_dir_find
    3978.  02:1875  C1                  	pop	bc
    3979.  02:1876  D1                  	pop	de
    3980.  02:1877  EB                  	ex	de,hl	;l_pint
    3981.  02:1878  73                  	ld	(hl),e
    3982.  02:1879  23                  	inc	hl
    3983.  02:187A  72                  	ld	(hl),d
    3984.  02:187B  EB                   	ex	de,hl
    3985.  02:187C  21 02 00            	ld	hl,2	;const
    3986.  02:187F  39                  	add	hl,sp
    3987.  02:1880  E5                  	push	hl
    3988.  02:1881  21 0B 00            	ld	hl,11	;const
    3989.  02:1884  39                  	add	hl,sp
    3990.  02:1885  4E                  	ld	c,(hl)
    3991.  02:1886  23                  	inc	hl
    3992.  02:1887  46                  	ld	b,(hl)
    3993.  02:1888  21 27 00            	ld	hl,39
    3994.  02:188B  09                  	add	hl,bc
    3995.  02:188C  7E                  	ld	a,(hl)
    3996.  02:188D  D1                  	pop	de
    3997.  02:188E  12                  	ld	(de),a
    3998.  02:188F  21 03 00            	ld	hl,3	;const
    3999.  02:1892  39                  	add	hl,sp
    4000.  02:1893  7E                  	ld	a,(hl)	;l_gint
    4001.  02:1894  23                  	inc	hl
    4002.  02:1895  66                  	ld	h,(hl)
    4003.  02:1896  6F                  	ld	l,a
    4004.  02:1897  B4                  	or	h
    4005.  02:1898  CA F5 18            	jp	z,i_157	;
    4006.  02:189B  21 03 00            	ld	hl,3	;const
    4007.  02:189E  39                  	add	hl,sp
    4008.  02:189F  7E                  	ld	a,(hl)	;l_gint
    4009.  02:18A0  23                  	inc	hl
    4010.  02:18A1  66                  	ld	h,(hl)
    4011.  02:18A2  6F                  	ld	l,a
    4012.  02:18A3  11 04 00            	ld	de,4
    4013.  02:18A6  A7                  	and	a
    4014.  02:18A7  ED 52               	sbc	hl,de
    4015.  02:18A9  C2 69 19            	jp	nz,i_158	;
    4016.  02:18AC  21 02 00            	ld	hl,2	;const
    4017.  02:18AF  7C                  	ld	a,h
    4018.  02:18B0  B5                  	or	l
    4019.  02:18B1  CA E0 18            	jp	z,i_160	;
    4020.  02:18B4  21 02 00            	ld	hl,2	;const
    4021.  02:18B7  39                  	add	hl,sp
    4022.  02:18B8  3E 20               	ld	a,32
    4023.  02:18BA  A6                  	and	(hl)
    4024.  02:18BB  CA E0 18            	jp	z,i_160	;
    4025.  02:18BE                      i_161_i_160
    4026.  02:18BE  21 02 00            	ld	hl,2	;const
    4027.  02:18C1  39                  	add	hl,sp
    4028.  02:18C2  7E                  	ld	a,(hl)
    4029.  02:18C3  E6 04               	and	4
    4030.  02:18C5  CA 3A 18            	jp	z,i_153	;EOS
    4031.  02:18C8                      i_162
    4032.  02:18C8  21 09 00            	ld	hl,9	;const
    4033.  02:18CB  39                  	add	hl,sp
    4034.  02:18CC  4E                  	ld	c,(hl)
    4035.  02:18CD  23                  	inc	hl
    4036.  02:18CE  46                  	ld	b,(hl)
    4037.  02:18CF  21 27 00            	ld	hl,39
    4038.  02:18D2  09                  	add	hl,bc
    4039.  02:18D3  36 80               	ld	(hl),128
    4040.  02:18D5  21 03 00            	ld	hl,3	;const
    4041.  02:18D8  39                  	add	hl,sp
    4042.  02:18D9  AF                  	xor	a
    4043.  02:18DA  77                  	ld	(hl),a
    4044.  02:18DB  23                  	inc	hl
    4045.  02:18DC  77                  	ld	(hl),a
    4046.  02:18DD  C3 69 19            	jp	i_163	;EOS
    4047.  02:18E0                      i_159
    4048.  02:18E0  21 02 00            	ld	hl,2	;const
    4049.  02:18E3  39                  	add	hl,sp
    4050.  02:18E4  CB 56               	bit	2,(hl)
    4051.  02:18E6  C2 69 19            	jp	nz,i_164	;
    4052.  02:18E9  21 03 00            	ld	hl,3	;const
    4053.  02:18EC  39                  	add	hl,sp
    4054.  02:18ED  36 05               	ld	(hl),5
    4055.  02:18EF  23                  	inc	hl
    4056.  02:18F0  36 00               	ld	(hl),0
    4057.  02:18F2  C3 69 19            	jp	i_154	;EOS
    4058.  02:18F5                      i_157
    4059.  02:18F5  21 02 00            	ld	hl,2	;const
    4060.  02:18F8  39                  	add	hl,sp
    4061.  02:18F9  7E                  	ld	a,(hl)
    4062.  02:18FA  E6 04               	and	4
    4063.  02:18FC  6F                  	ld	l,a
    4064.  02:18FD  26 00               	ld	h,0
    4065.  02:18FF  A7                  	and	a
    4066.  02:1900  C2 69 19            	jp	nz,i_154	;EOS
    4067.  02:1903                      i_165
    4068.  02:1903  21 09 00            	ld	hl,9	;const
    4069.  02:1906  39                  	add	hl,sp
    4070.  02:1907  4E                  	ld	c,(hl)
    4071.  02:1908  23                  	inc	hl
    4072.  02:1909  46                  	ld	b,(hl)
    4073.  02:190A  21 04 00            	ld	hl,4
    4074.  02:190D  09                  	add	hl,bc
    4075.  02:190E  CB 66               	bit	4,(hl)
    4076.  02:1910  C2 1F 19            	jp	nz,i_166	;
    4077.  02:1913  21 03 00            	ld	hl,3	;const
    4078.  02:1916  39                  	add	hl,sp
    4079.  02:1917  36 05               	ld	(hl),5
    4080.  02:1919  23                  	inc	hl
    4081.  02:191A  36 00               	ld	(hl),0
    4082.  02:191C  C3 69 19            	jp	i_154	;EOS
    4083.  02:191F                      i_166
    4084.  02:191F  21 09 00            	ld	hl,9	;const
    4085.  02:1922  39                  	add	hl,sp
    4086.  02:1923  4E                  	ld	c,(hl)
    4087.  02:1924  23                  	inc	hl
    4088.  02:1925  46                  	ld	b,(hl)
    4089.  02:1926  21 06 00            	ld	hl,6
    4090.  02:1929  09                  	add	hl,bc
    4091.  02:192A  D1                  	pop	de
    4092.  02:192B  D5                  	push	de
    4093.  02:192C  E5                  	push	hl
    4094.  02:192D  EB                  	ex	de,hl
    4095.  02:192E  E5                  	push	hl
    4096.  02:192F  01 34 00            	ld	bc,52
    4097.  02:1932  09                  	add	hl,bc
    4098.  02:1933  E5                  	push	hl
    4099.  02:1934  21 0F 00            	ld	hl,15	;const
    4100.  02:1937  39                  	add	hl,sp
    4101.  02:1938  4E                  	ld	c,(hl)
    4102.  02:1939  23                  	inc	hl
    4103.  02:193A  46                  	ld	b,(hl)
    4104.  02:193B  21 0E 00            	ld	hl,14
    4105.  02:193E  09                  	add	hl,bc
    4106.  02:193F  CD CF 54            	call	l_glong2sp
    4107.  02:1942  21 00 02            	ld	hl,512	;const
    4108.  02:1945  11 00 00            	ld	de,0
    4109.  02:1948  CD F8 55            	call	l_long_mod_u
    4110.  02:194B  D9                  	exx
    4111.  02:194C  E1                  	pop	hl
    4112.  02:194D  7C                  	ld	a,h
    4113.  02:194E  17                  	rla
    4114.  02:194F  9F                  	sbc	a
    4115.  02:1950  5F                  	ld	e,a
    4116.  02:1951  57                  	ld	d,a
    4117.  02:1952  D5                  	push	de
    4118.  02:1953  E5                  	push	hl
    4119.  02:1954  D9                  	exx
    4120.  02:1955  C1                  	pop	bc
    4121.  02:1956  09                  	add	hl,bc
    4122.  02:1957  EB                  	ex	de,hl
    4123.  02:1958  C1                  	pop	bc
    4124.  02:1959  ED 4A               	adc	hl,bc
    4125.  02:195B  EB                  	ex	de,hl
    4126.  02:195C  E5                  	push	hl
    4127.  02:195D  CD 6D 0E            	call	_ld_clust
    4128.  02:1960  C1                  	pop	bc
    4129.  02:1961  C1                  	pop	bc
    4130.  02:1962  C1                  	pop	bc
    4131.  02:1963  CD C3 54            	call	l_plong
    4132.  02:1966  C3 3A 18            	jp	i_153	;EOS
    4133.  02:1969                      i_152
    4134.  02:1969  21 03 00            	ld	hl,3	;const
    4135.  02:196C  39                  	add	hl,sp
    4136.  02:196D  7E                  	ld	a,(hl)	;l_gint
    4137.  02:196E  23                  	inc	hl
    4138.  02:196F  66                  	ld	h,(hl)
    4139.  02:1970  6F                  	ld	l,a
    4140.  02:1971  33                  	inc	sp
    4141.  02:1972  C1                  	pop	bc
    4142.  02:1973  C1                  	pop	bc
    4143.  02:1974  C9                  	ret
    4144.  02:1975                      
    4145.  02:1975                      
    4146.  02:1975                      	C_LINE	3178,"./ff.c::follow_path::0::59"
    4147.  02:1975                      
    4148.  02:1975                      ; Function get_ldnumber flags 0x00000200 __smallc 
    4149.  02:1975                      ; int get_ldnumber(const char TCHAR* * path)
    4150.  02:1975                      ; parameter 'const char TCHAR* * path' at sp+2 size(2)
    4151.  02:1975                      	C_LINE	3181,"./ff.c::get_ldnumber::0::59"
    4152.  02:1975                      @_get_ldnumber
    4153.  02:1975  C5                  	push	bc
    4154.  02:1976  C5                  	push	bc
    4155.  02:1977  C5                  	push	bc
    4156.  02:1978  3B                  	dec	sp
    4157.  02:1979  21 FF FF            	ld	hl,65535	;const
    4158.  02:197C  E5                  	push	hl
    4159.  02:197D  21 05 00            	ld	hl,5	;const
    4160.  02:1980  39                  	add	hl,sp
    4161.  02:1981  E5                  	push	hl
    4162.  02:1982  21 09 00            	ld	hl,9	;const
    4163.  02:1985  39                  	add	hl,sp
    4164.  02:1986  E5                  	push	hl
    4165.  02:1987  21 0F 00            	ld	hl,15	;const
    4166.  02:198A  39                  	add	hl,sp
    4167.  02:198B  7E                  	ld	a,(hl)	;l_gint
    4168.  02:198C  23                  	inc	hl
    4169.  02:198D  66                  	ld	h,(hl)
    4170.  02:198E  6F                  	ld	l,a
    4171.  02:198F  7E                  	ld	a,(hl)	;l_gint
    4172.  02:1990  23                  	inc	hl
    4173.  02:1991  66                  	ld	h,(hl)
    4174.  02:1992  6F                  	ld	l,a
    4175.  02:1993  D1                  	pop	de
    4176.  02:1994  EB                  	ex	de,hl	;l_pint
    4177.  02:1995  73                  	ld	(hl),e
    4178.  02:1996  23                  	inc	hl
    4179.  02:1997  72                  	ld	(hl),d
    4180.  02:1998  EB                   	ex	de,hl
    4181.  02:1999  D1                  	pop	de
    4182.  02:199A  EB                  	ex	de,hl	;l_pint
    4183.  02:199B  73                  	ld	(hl),e
    4184.  02:199C  23                  	inc	hl
    4185.  02:199D  72                  	ld	(hl),d
    4186.  02:199E  EB                   	ex	de,hl
    4187.  02:199F  21 07 00            	ld	hl,7	;const
    4188.  02:19A2  39                  	add	hl,sp
    4189.  02:19A3  7E                  	ld	a,(hl)	;l_gint
    4190.  02:19A4  23                  	inc	hl
    4191.  02:19A5  66                  	ld	h,(hl)
    4192.  02:19A6  6F                  	ld	l,a
    4193.  02:19A7  CD 3F 54            	call	l_lneg
    4194.  02:19AA  D2 B5 19            	jp	nc,i_167	;
    4195.  02:19AD  E1                  	pop	hl
    4196.  02:19AE  E5                  	push	hl
    4197.  02:19AF  33                  	inc	sp
    4198.  02:19B0  C1                  	pop	bc
    4199.  02:19B1  C1                  	pop	bc
    4200.  02:19B2  C1                  	pop	bc
    4201.  02:19B3  C1                  	pop	bc
    4202.  02:19B4  C9                  	ret
    4203.  02:19B5                      
    4204.  02:19B5                      
    4205.  02:19B5                      i_170
    4206.  02:19B5  21 04 00            	ld	hl,4	;const
    4207.  02:19B8  39                  	add	hl,sp
    4208.  02:19B9  E5                  	push	hl
    4209.  02:19BA  21 07 00            	ld	hl,7	;const
    4210.  02:19BD  39                  	add	hl,sp
    4211.  02:19BE  34                  	inc	(hl)
    4212.  02:19BF  7E                  	ld	a,(hl)
    4213.  02:19C0  23                  	inc	hl
    4214.  02:19C1  20 01               	jr	nz,$+3
    4215.  02:19C3  34                  	inc	(hl)
    4216.  02:19C4  66                  	ld	h,(hl)
    4217.  02:19C5  6F                  	ld	l,a
    4218.  02:19C6  2B                  	dec	hl
    4219.  02:19C7  7E                  	ld	a,(hl)
    4220.  02:19C8  D1                  	pop	de
    4221.  02:19C9  12                  	ld	(de),a
    4222.  02:19CA                      i_168
    4223.  02:19CA  21 04 00            	ld	hl,4	;const
    4224.  02:19CD  CD 38 57            	call	l_gcharspsp	;
    4225.  02:19D0  21 00 00            	ld	hl,0	;const
    4226.  02:19D3  7C                  	ld	a,h
    4227.  02:19D4  B5                  	or	l
    4228.  02:19D5  CA DE 19            	jp	z,i_171	;
    4229.  02:19D8  21 20 00            	ld	hl,32	;const
    4230.  02:19DB  C3 E1 19            	jp	i_172	;
    4231.  02:19DE                      i_171
    4232.  02:19DE  21 21 00            	ld	hl,33	;const
    4233.  02:19E1                      i_172
    4234.  02:19E1  D1                  	pop	de
    4235.  02:19E2  EB                  	ex	de,hl
    4236.  02:19E3  A7                  	and	a
    4237.  02:19E4  ED 52               	sbc	hl,de
    4238.  02:19E6  3F                  	ccf
    4239.  02:19E7  D2 FB 19            	jp	nc,i_173	;
    4240.  02:19EA  21 04 00            	ld	hl,4	;const
    4241.  02:19ED  39                  	add	hl,sp
    4242.  02:19EE  7E                  	ld	a,(hl)
    4243.  02:19EF  FE 3A               	cp	58
    4244.  02:19F1  37                  	scf
    4245.  02:19F2  20 01               	jr	nz,$+3
    4246.  02:19F4  3F                  	ccf
    4247.  02:19F5  D2 FB 19            	jp	nc,i_173	;
    4248.  02:19F8  C3 B5 19            	jp	i_170	;EOS
    4249.  02:19FB                      i_169
    4250.  02:19FB  21 04 00            	ld	hl,4	;const
    4251.  02:19FE  39                  	add	hl,sp
    4252.  02:19FF  7E                  	ld	a,(hl)
    4253.  02:1A00  FE 3A               	cp	58
    4254.  02:1A02  C2 98 1A            	jp	nz,i_175	;
    4255.  02:1A05  21 01 00            	ld	hl,1	;const
    4256.  02:1A08  D1                  	pop	de
    4257.  02:1A09  C1                  	pop	bc
    4258.  02:1A0A  E5                  	push	hl
    4259.  02:1A0B  D5                  	push	de
    4260.  02:1A0C  21 07 00            	ld	hl,7	;const
    4261.  02:1A0F  39                  	add	hl,sp
    4262.  02:1A10  7E                  	ld	a,(hl)	;l_gint
    4263.  02:1A11  23                  	inc	hl
    4264.  02:1A12  66                  	ld	h,(hl)
    4265.  02:1A13  6F                  	ld	l,a
    4266.  02:1A14  7E                  	ld	a,(hl)	;l_gchar
    4267.  02:1A15  6F                  	ld	l,a
    4268.  02:1A16  17                  	rla
    4269.  02:1A17  9F                  	sbc	a
    4270.  02:1A18  67                  	ld	h,a
    4271.  02:1A19  11 30 00            	ld	de,48
    4272.  02:1A1C  EB                  	ex	de,hl
    4273.  02:1A1D  CD 08 57            	call	l_ge
    4274.  02:1A20  D2 68 1A            	jp	nc,i_177	;
    4275.  02:1A23  21 07 00            	ld	hl,7	;const
    4276.  02:1A26  39                  	add	hl,sp
    4277.  02:1A27  7E                  	ld	a,(hl)	;l_gint
    4278.  02:1A28  23                  	inc	hl
    4279.  02:1A29  66                  	ld	h,(hl)
    4280.  02:1A2A  6F                  	ld	l,a
    4281.  02:1A2B  7E                  	ld	a,(hl)	;l_gchar
    4282.  02:1A2C  6F                  	ld	l,a
    4283.  02:1A2D  17                  	rla
    4284.  02:1A2E  9F                  	sbc	a
    4285.  02:1A2F  67                  	ld	h,a
    4286.  02:1A30  11 39 00            	ld	de,57
    4287.  02:1A33  EB                  	ex	de,hl
    4288.  02:1A34  CD 26 57            	call	l_le
    4289.  02:1A37  D2 68 1A            	jp	nc,i_177	;
    4290.  02:1A3A                      i_178_i_177
    4291.  02:1A3A  21 07 00            	ld	hl,7	;const
    4292.  02:1A3D  39                  	add	hl,sp
    4293.  02:1A3E  7E                  	ld	a,(hl)	;l_gint
    4294.  02:1A3F  23                  	inc	hl
    4295.  02:1A40  66                  	ld	h,(hl)
    4296.  02:1A41  6F                  	ld	l,a
    4297.  02:1A42  23                  	inc	hl
    4298.  02:1A43  23                  	inc	hl
    4299.  02:1A44  EB                  	ex	de,hl
    4300.  02:1A45  21 05 00            	ld	hl,5	;const
    4301.  02:1A48  39                  	add	hl,sp
    4302.  02:1A49  7E                  	ld	a,(hl)	;l_gint
    4303.  02:1A4A  23                  	inc	hl
    4304.  02:1A4B  66                  	ld	h,(hl)
    4305.  02:1A4C  6F                  	ld	l,a
    4306.  02:1A4D  CD FE 56            	call	l_eq
    4307.  02:1A50  D2 68 1A            	jp	nc,i_179	;
    4308.  02:1A53                      i_180_i_179
    4309.  02:1A53  21 07 00            	ld	hl,7	;const
    4310.  02:1A56  39                  	add	hl,sp
    4311.  02:1A57  7E                  	ld	a,(hl)	;l_gint
    4312.  02:1A58  23                  	inc	hl
    4313.  02:1A59  66                  	ld	h,(hl)
    4314.  02:1A5A  6F                  	ld	l,a
    4315.  02:1A5B  7E                  	ld	a,(hl)	;l_gchar
    4316.  02:1A5C  6F                  	ld	l,a
    4317.  02:1A5D  17                  	rla
    4318.  02:1A5E  9F                  	sbc	a
    4319.  02:1A5F  67                  	ld	h,a
    4320.  02:1A60  01 D0 FF            	ld	bc,-48
    4321.  02:1A63  09                  	add	hl,bc
    4322.  02:1A64  D1                  	pop	de
    4323.  02:1A65  C1                  	pop	bc
    4324.  02:1A66  E5                  	push	hl
    4325.  02:1A67  D5                  	push	de
    4326.  02:1A68                      i_176
    4327.  02:1A68  C1                  	pop	bc
    4328.  02:1A69  E1                  	pop	hl
    4329.  02:1A6A  E5                  	push	hl
    4330.  02:1A6B  C5                  	push	bc
    4331.  02:1A6C  7D                  	ld	a,l
    4332.  02:1A6D  D6 01               	sub	1
    4333.  02:1A6F  7C                  	ld	a,h
    4334.  02:1A70  17                  	rla
    4335.  02:1A71  3F                  	ccf
    4336.  02:1A72  1F                  	rra
    4337.  02:1A73  DE 80               	sbc	128
    4338.  02:1A75  D2 90 1A            	jp	nc,i_181	;
    4339.  02:1A78  C1                  	pop	bc
    4340.  02:1A79  E1                  	pop	hl
    4341.  02:1A7A  E5                  	push	hl
    4342.  02:1A7B  E5                  	push	hl
    4343.  02:1A7C  21 0B 00            	ld	hl,11	;const
    4344.  02:1A7F  39                  	add	hl,sp
    4345.  02:1A80  5E                  	ld	e,(hl)
    4346.  02:1A81  23                  	inc	hl
    4347.  02:1A82  56                  	ld	d,(hl)
    4348.  02:1A83  21 05 00            	ld	hl,5	;const
    4349.  02:1A86  39                  	add	hl,sp
    4350.  02:1A87  7E                  	ld	a,(hl)	;l_gint
    4351.  02:1A88  23                  	inc	hl
    4352.  02:1A89  66                  	ld	h,(hl)
    4353.  02:1A8A  6F                  	ld	l,a
    4354.  02:1A8B  EB                  	ex	de,hl	;l_pint
    4355.  02:1A8C  73                  	ld	(hl),e
    4356.  02:1A8D  23                  	inc	hl
    4357.  02:1A8E  72                  	ld	(hl),d
    4358.  02:1A8F  EB                   	ex	de,hl
    4359.  02:1A90                      i_181
    4360.  02:1A90  E1                  	pop	hl
    4361.  02:1A91  E5                  	push	hl
    4362.  02:1A92  33                  	inc	sp
    4363.  02:1A93  C1                  	pop	bc
    4364.  02:1A94  C1                  	pop	bc
    4365.  02:1A95  C1                  	pop	bc
    4366.  02:1A96  C1                  	pop	bc
    4367.  02:1A97  C9                  	ret
    4368.  02:1A98                      
    4369.  02:1A98                      
    4370.  02:1A98                      i_175
    4371.  02:1A98  2A 3D 5F            	ld	hl,(_CurrVol)
    4372.  02:1A9B  26 00               	ld	h,0
    4373.  02:1A9D  C1                  	pop	bc
    4374.  02:1A9E  E5                  	push	hl
    4375.  02:1A9F  33                  	inc	sp
    4376.  02:1AA0  C1                  	pop	bc
    4377.  02:1AA1  C1                  	pop	bc
    4378.  02:1AA2  C1                  	pop	bc
    4379.  02:1AA3  C1                  	pop	bc
    4380.  02:1AA4  C9                  	ret
    4381.  02:1AA5                      
    4382.  02:1AA5                      
    4383.  02:1AA5                      	C_LINE	3332,"./ff.c::get_ldnumber::0::64"
    4384.  02:1AA5                      
    4385.  02:1AA5                      ; Function check_fs flags 0x00000200 __smallc 
    4386.  02:1AA5                      ; unsigned int UINTcheck_fs(struct 0__anonstruct_145_0 FATFS* fs, unsigned long sect)
    4387.  02:1AA5                      ; parameter 'unsigned long sect' at sp+2 size(4)
    4388.  02:1AA5                      ; parameter 'struct 0__anonstruct_145_0 FATFS* fs' at sp+6 size(2)
    4389.  02:1AA5                      	C_LINE	3336,"./ff.c::check_fs::0::64"
    4390.  02:1AA5                      @_check_fs
    4391.  02:1AA5  C5                  	push	bc
    4392.  02:1AA6  C5                  	push	bc
    4393.  02:1AA7  3B                  	dec	sp
    4394.  02:1AA8  21 0B 00            	ld	hl,11	;const
    4395.  02:1AAB  39                  	add	hl,sp
    4396.  02:1AAC  4E                  	ld	c,(hl)
    4397.  02:1AAD  23                  	inc	hl
    4398.  02:1AAE  46                  	ld	b,(hl)
    4399.  02:1AAF  21 04 00            	ld	hl,4
    4400.  02:1AB2  09                  	add	hl,bc
    4401.  02:1AB3  36 00               	ld	(hl),0
    4402.  02:1AB5  21 0B 00            	ld	hl,11	;const
    4403.  02:1AB8  39                  	add	hl,sp
    4404.  02:1AB9  4E                  	ld	c,(hl)
    4405.  02:1ABA  23                  	inc	hl
    4406.  02:1ABB  46                  	ld	b,(hl)
    4407.  02:1ABC  21 30 00            	ld	hl,48
    4408.  02:1ABF  09                  	add	hl,bc
    4409.  02:1AC0  36 FF               	ld	(hl),255
    4410.  02:1AC2  23                  	inc	hl
    4411.  02:1AC3  36 FF               	ld	(hl),255
    4412.  02:1AC5  23                  	inc	hl
    4413.  02:1AC6  36 FF               	ld	(hl),255
    4414.  02:1AC8  23                  	inc	hl
    4415.  02:1AC9  36 FF               	ld	(hl),255
    4416.  02:1ACB  21 0B 00            	ld	hl,11	;const
    4417.  02:1ACE  39                  	add	hl,sp	;l_gintspsp
    4418.  02:1ACF  7E                  	ld	a,(hl)
    4419.  02:1AD0  23                  	inc	hl
    4420.  02:1AD1  66                  	ld	h,(hl)
    4421.  02:1AD2  6F                  	ld	l,a
    4422.  02:1AD3  E5                  	push	hl
    4423.  02:1AD4  21 09 00            	ld	hl,9	;const
    4424.  02:1AD7  39                  	add	hl,sp
    4425.  02:1AD8  CD DE 54            	call	l_glong
    4426.  02:1ADB  D5                  	push	de
    4427.  02:1ADC  E5                  	push	hl
    4428.  02:1ADD  CD 54 05            	call	_move_window
    4429.  02:1AE0  C1                  	pop	bc
    4430.  02:1AE1  C1                  	pop	bc
    4431.  02:1AE2  C1                  	pop	bc
    4432.  02:1AE3  7C                  	ld	a,h
    4433.  02:1AE4  B5                  	or	l
    4434.  02:1AE5  CA EF 1A            	jp	z,i_182	;
    4435.  02:1AE8  21 04 00            	ld	hl,4	;const
    4436.  02:1AEB  33                  	inc	sp
    4437.  02:1AEC  C1                  	pop	bc
    4438.  02:1AED  C1                  	pop	bc
    4439.  02:1AEE  C9                  	ret
    4440.  02:1AEF                      
    4441.  02:1AEF                      
    4442.  02:1AEF                      i_182
    4443.  02:1AEF  21 01 00            	ld	hl,1	;const
    4444.  02:1AF2  39                  	add	hl,sp
    4445.  02:1AF3  E5                  	push	hl
    4446.  02:1AF4  21 0D 00            	ld	hl,13	;const
    4447.  02:1AF7  39                  	add	hl,sp
    4448.  02:1AF8  4E                  	ld	c,(hl)
    4449.  02:1AF9  23                  	inc	hl
    4450.  02:1AFA  46                  	ld	b,(hl)
    4451.  02:1AFB  21 32 02            	ld	hl,562
    4452.  02:1AFE  09                  	add	hl,bc
    4453.  02:1AFF  E5                  	push	hl
    4454.  02:1B00  CD 80 04            	call	_ld_word
    4455.  02:1B03  C1                  	pop	bc
    4456.  02:1B04  D1                  	pop	de
    4457.  02:1B05  EB                  	ex	de,hl	;l_pint
    4458.  02:1B06  73                  	ld	(hl),e
    4459.  02:1B07  23                  	inc	hl
    4460.  02:1B08  72                  	ld	(hl),d
    4461.  02:1B09  EB                   	ex	de,hl
    4462.  02:1B0A  21 00 00            	ld	hl,0	;const
    4463.  02:1B0D  39                  	add	hl,sp
    4464.  02:1B0E  E5                  	push	hl
    4465.  02:1B0F  21 0D 00            	ld	hl,13	;const
    4466.  02:1B12  39                  	add	hl,sp
    4467.  02:1B13  4E                  	ld	c,(hl)
    4468.  02:1B14  23                  	inc	hl
    4469.  02:1B15  46                  	ld	b,(hl)
    4470.  02:1B16  21 34 00            	ld	hl,52
    4471.  02:1B19  09                  	add	hl,bc
    4472.  02:1B1A  7E                  	ld	a,(hl)
    4473.  02:1B1B  D1                  	pop	de
    4474.  02:1B1C  12                  	ld	(de),a
    4475.  02:1B1D  21 00 00            	ld	hl,0	;const
    4476.  02:1B20  39                  	add	hl,sp
    4477.  02:1B21  7E                  	ld	a,(hl)
    4478.  02:1B22  FE EB               	cp	235
    4479.  02:1B24  CA 36 1B            	jp	z,i_184	;
    4480.  02:1B27  FE E9               	cp	233
    4481.  02:1B29  CA 36 1B            	jp	z,i_184	;
    4482.  02:1B2C  21 00 00            	ld	hl,0	;const
    4483.  02:1B2F  39                  	add	hl,sp
    4484.  02:1B30  7E                  	ld	a,(hl)
    4485.  02:1B31  FE E8               	cp	232
    4486.  02:1B33  C2 85 1C            	jp	nz,i_183	;
    4487.  02:1B36                      i_184
    4488.  02:1B36  21 01 00            	ld	hl,1	;const
    4489.  02:1B39  39                  	add	hl,sp
    4490.  02:1B3A  7E                  	ld	a,(hl)	;l_gint
    4491.  02:1B3B  23                  	inc	hl
    4492.  02:1B3C  66                  	ld	h,(hl)
    4493.  02:1B3D  6F                  	ld	l,a
    4494.  02:1B3E  11 55 AA            	ld	de,43605
    4495.  02:1B41  A7                  	and	a
    4496.  02:1B42  ED 52               	sbc	hl,de
    4497.  02:1B44  C2 6B 1B            	jp	nz,i_187	;
    4498.  02:1B47  21 0B 00            	ld	hl,11	;const
    4499.  02:1B4A  39                  	add	hl,sp
    4500.  02:1B4B  4E                  	ld	c,(hl)
    4501.  02:1B4C  23                  	inc	hl
    4502.  02:1B4D  46                  	ld	b,(hl)
    4503.  02:1B4E  21 86 00            	ld	hl,134
    4504.  02:1B51  09                  	add	hl,bc
    4505.  02:1B52  E5                  	push	hl
    4506.  02:1B53  21 82 39            	ld	hl,i_1+15
    4507.  02:1B56  E5                  	push	hl
    4508.  02:1B57  21 08 00            	ld	hl,8	;const
    4509.  02:1B5A  E5                  	push	hl
    4510.  02:1B5B  CD 42 57            	call	memcmp_callee
    4511.  02:1B5E  CD 3F 54            	call	l_lneg
    4512.  02:1B61  D2 6B 1B            	jp	nc,i_187	;
    4513.  02:1B64                      i_188_i_187
    4514.  02:1B64  21 00 00            	ld	hl,0	;const
    4515.  02:1B67  33                  	inc	sp
    4516.  02:1B68  C1                  	pop	bc
    4517.  02:1B69  C1                  	pop	bc
    4518.  02:1B6A  C9                  	ret
    4519.  02:1B6B                      
    4520.  02:1B6B                      
    4521.  02:1B6B                      i_186
    4522.  02:1B6B  21 03 00            	ld	hl,3	;const
    4523.  02:1B6E  39                  	add	hl,sp
    4524.  02:1B6F  E5                  	push	hl
    4525.  02:1B70  21 0D 00            	ld	hl,13	;const
    4526.  02:1B73  39                  	add	hl,sp
    4527.  02:1B74  4E                  	ld	c,(hl)
    4528.  02:1B75  23                  	inc	hl
    4529.  02:1B76  46                  	ld	b,(hl)
    4530.  02:1B77  21 3F 00            	ld	hl,63
    4531.  02:1B7A  09                  	add	hl,bc
    4532.  02:1B7B  E5                  	push	hl
    4533.  02:1B7C  CD 80 04            	call	_ld_word
    4534.  02:1B7F  C1                  	pop	bc
    4535.  02:1B80  D1                  	pop	de
    4536.  02:1B81  EB                  	ex	de,hl	;l_pint
    4537.  02:1B82  73                  	ld	(hl),e
    4538.  02:1B83  23                  	inc	hl
    4539.  02:1B84  72                  	ld	(hl),d
    4540.  02:1B85  EB                   	ex	de,hl
    4541.  02:1B86  21 00 00            	ld	hl,0	;const
    4542.  02:1B89  39                  	add	hl,sp
    4543.  02:1B8A  E5                  	push	hl
    4544.  02:1B8B  21 0D 00            	ld	hl,13	;const
    4545.  02:1B8E  39                  	add	hl,sp
    4546.  02:1B8F  4E                  	ld	c,(hl)
    4547.  02:1B90  23                  	inc	hl
    4548.  02:1B91  46                  	ld	b,(hl)
    4549.  02:1B92  21 41 00            	ld	hl,65
    4550.  02:1B95  09                  	add	hl,bc
    4551.  02:1B96  7E                  	ld	a,(hl)
    4552.  02:1B97  D1                  	pop	de
    4553.  02:1B98  12                  	ld	(de),a
    4554.  02:1B99  21 03 00            	ld	hl,3	;const
    4555.  02:1B9C  39                  	add	hl,sp
    4556.  02:1B9D  7E                  	ld	a,(hl)	;l_gint
    4557.  02:1B9E  23                  	inc	hl
    4558.  02:1B9F  66                  	ld	h,(hl)
    4559.  02:1BA0  6F                  	ld	l,a
    4560.  02:1BA1  E5                  	push	hl
    4561.  02:1BA2  2B                  	dec	hl
    4562.  02:1BA3  D1                  	pop	de
    4563.  02:1BA4  CD 4F 54            	call	l_and
    4564.  02:1BA7  7C                  	ld	a,h
    4565.  02:1BA8  B5                  	or	l
    4566.  02:1BA9  20 01               	jr	nz,$+3
    4567.  02:1BAB  37                  	scf
    4568.  02:1BAC  D2 85 1C            	jp	nc,i_190	;
    4569.  02:1BAF  21 03 00            	ld	hl,3	;const
    4570.  02:1BB2  39                  	add	hl,sp
    4571.  02:1BB3  5E                  	ld	e,(hl)
    4572.  02:1BB4  23                  	inc	hl
    4573.  02:1BB5  56                  	ld	d,(hl)
    4574.  02:1BB6  21 00 02            	ld	hl,512
    4575.  02:1BB9  CD 1A 57            	call	l_uge
    4576.  02:1BBC  D2 85 1C            	jp	nc,i_190	;
    4577.  02:1BBF  21 03 00            	ld	hl,3	;const
    4578.  02:1BC2  39                  	add	hl,sp
    4579.  02:1BC3  5E                  	ld	e,(hl)
    4580.  02:1BC4  23                  	inc	hl
    4581.  02:1BC5  56                  	ld	d,(hl)
    4582.  02:1BC6  21 00 02            	ld	hl,512
    4583.  02:1BC9  A7                  	and	a
    4584.  02:1BCA  ED 52               	sbc	hl,de
    4585.  02:1BCC  3F                  	ccf
    4586.  02:1BCD  D2 85 1C            	jp	nc,i_190	;
    4587.  02:1BD0  E1                  	pop	hl
    4588.  02:1BD1  E5                  	push	hl
    4589.  02:1BD2  7D                  	ld	a,l
    4590.  02:1BD3  A7                  	and	a
    4591.  02:1BD4  CA 85 1C            	jp	z,i_190	;
    4592.  02:1BD7  E1                  	pop	hl
    4593.  02:1BD8  E5                  	push	hl
    4594.  02:1BD9  26 00               	ld	h,0
    4595.  02:1BDB  E5                  	push	hl
    4596.  02:1BDC  21 02 00            	ld	hl,2	;const
    4597.  02:1BDF  39                  	add	hl,sp
    4598.  02:1BE0  6E                  	ld	l,(hl)
    4599.  02:1BE1  26 00               	ld	h,0
    4600.  02:1BE3  2B                  	dec	hl
    4601.  02:1BE4  D1                  	pop	de
    4602.  02:1BE5  CD 4F 54            	call	l_and
    4603.  02:1BE8  7D                  	ld	a,l
    4604.  02:1BE9  A7                  	and	a
    4605.  02:1BEA  C2 85 1C            	jp	nz,i_190	;
    4606.  02:1BED  21 0B 00            	ld	hl,11	;const
    4607.  02:1BF0  39                  	add	hl,sp
    4608.  02:1BF1  4E                  	ld	c,(hl)
    4609.  02:1BF2  23                  	inc	hl
    4610.  02:1BF3  46                  	ld	b,(hl)
    4611.  02:1BF4  21 42 00            	ld	hl,66
    4612.  02:1BF7  09                  	add	hl,bc
    4613.  02:1BF8  E5                  	push	hl
    4614.  02:1BF9  CD 80 04            	call	_ld_word
    4615.  02:1BFC  C1                  	pop	bc
    4616.  02:1BFD  7C                  	ld	a,h
    4617.  02:1BFE  B5                  	or	l
    4618.  02:1BFF  CA 85 1C            	jp	z,i_190	;
    4619.  02:1C02  21 0B 00            	ld	hl,11	;const
    4620.  02:1C05  39                  	add	hl,sp
    4621.  02:1C06  4E                  	ld	c,(hl)
    4622.  02:1C07  23                  	inc	hl
    4623.  02:1C08  46                  	ld	b,(hl)
    4624.  02:1C09  21 44 00            	ld	hl,68
    4625.  02:1C0C  09                  	add	hl,bc
    4626.  02:1C0D  6E                  	ld	l,(hl)
    4627.  02:1C0E  26 00               	ld	h,0
    4628.  02:1C10  2B                  	dec	hl
    4629.  02:1C11  11 01 00            	ld	de,1
    4630.  02:1C14  EB                  	ex	de,hl
    4631.  02:1C15  A7                  	and	a
    4632.  02:1C16  ED 52               	sbc	hl,de
    4633.  02:1C18  3F                  	ccf
    4634.  02:1C19  D2 85 1C            	jp	nc,i_190	;
    4635.  02:1C1C  21 0B 00            	ld	hl,11	;const
    4636.  02:1C1F  39                  	add	hl,sp
    4637.  02:1C20  4E                  	ld	c,(hl)
    4638.  02:1C21  23                  	inc	hl
    4639.  02:1C22  46                  	ld	b,(hl)
    4640.  02:1C23  21 45 00            	ld	hl,69
    4641.  02:1C26  09                  	add	hl,bc
    4642.  02:1C27  E5                  	push	hl
    4643.  02:1C28  CD 80 04            	call	_ld_word
    4644.  02:1C2B  C1                  	pop	bc
    4645.  02:1C2C  7C                  	ld	a,h
    4646.  02:1C2D  B5                  	or	l
    4647.  02:1C2E  CA 85 1C            	jp	z,i_190	;
    4648.  02:1C31  21 0B 00            	ld	hl,11	;const
    4649.  02:1C34  39                  	add	hl,sp
    4650.  02:1C35  4E                  	ld	c,(hl)
    4651.  02:1C36  23                  	inc	hl
    4652.  02:1C37  46                  	ld	b,(hl)
    4653.  02:1C38  21 47 00            	ld	hl,71
    4654.  02:1C3B  09                  	add	hl,bc
    4655.  02:1C3C  E5                  	push	hl
    4656.  02:1C3D  CD 80 04            	call	_ld_word
    4657.  02:1C40  C1                  	pop	bc
    4658.  02:1C41  11 80 00            	ld	de,128
    4659.  02:1C44  EB                  	ex	de,hl
    4660.  02:1C45  CD 1A 57            	call	l_uge
    4661.  02:1C48  DA 69 1C            	jp	c,i_191	;
    4662.  02:1C4B  21 0B 00            	ld	hl,11	;const
    4663.  02:1C4E  39                  	add	hl,sp
    4664.  02:1C4F  4E                  	ld	c,(hl)
    4665.  02:1C50  23                  	inc	hl
    4666.  02:1C51  46                  	ld	b,(hl)
    4667.  02:1C52  21 54 00            	ld	hl,84
    4668.  02:1C55  09                  	add	hl,bc
    4669.  02:1C56  E5                  	push	hl
    4670.  02:1C57  CD A3 04            	call	_ld_dword
    4671.  02:1C5A  C1                  	pop	bc
    4672.  02:1C5B  D5                  	push	de
    4673.  02:1C5C  E5                  	push	hl
    4674.  02:1C5D  21 00 00            	ld	hl,0	;const
    4675.  02:1C60  11 01 00            	ld	de,1
    4676.  02:1C63  CD E9 55            	call	l_long_uge
    4677.  02:1C66  D2 85 1C            	jp	nc,i_190	;
    4678.  02:1C69                      i_191
    4679.  02:1C69  21 0B 00            	ld	hl,11	;const
    4680.  02:1C6C  39                  	add	hl,sp
    4681.  02:1C6D  4E                  	ld	c,(hl)
    4682.  02:1C6E  23                  	inc	hl
    4683.  02:1C6F  46                  	ld	b,(hl)
    4684.  02:1C70  21 4A 00            	ld	hl,74
    4685.  02:1C73  09                  	add	hl,bc
    4686.  02:1C74  E5                  	push	hl
    4687.  02:1C75  CD 80 04            	call	_ld_word
    4688.  02:1C78  C1                  	pop	bc
    4689.  02:1C79  7C                  	ld	a,h
    4690.  02:1C7A  B5                  	or	l
    4691.  02:1C7B  CA 85 1C            	jp	z,i_190	;
    4692.  02:1C7E                      i_193_i_190
    4693.  02:1C7E  21 00 00            	ld	hl,0	;const
    4694.  02:1C81  33                  	inc	sp
    4695.  02:1C82  C1                  	pop	bc
    4696.  02:1C83  C1                  	pop	bc
    4697.  02:1C84  C9                  	ret
    4698.  02:1C85                      
    4699.  02:1C85                      
    4700.  02:1C85                      i_183
    4701.  02:1C85  21 01 00            	ld	hl,1	;const
    4702.  02:1C88  39                  	add	hl,sp
    4703.  02:1C89  7E                  	ld	a,(hl)	;l_gint
    4704.  02:1C8A  23                  	inc	hl
    4705.  02:1C8B  66                  	ld	h,(hl)
    4706.  02:1C8C  6F                  	ld	l,a
    4707.  02:1C8D  11 55 AA            	ld	de,43605
    4708.  02:1C90  A7                  	and	a
    4709.  02:1C91  ED 52               	sbc	hl,de
    4710.  02:1C93  C2 9C 1C            	jp	nz,i_194	;
    4711.  02:1C96  21 02 00            	ld	hl,2	;const
    4712.  02:1C99  C3 9F 1C            	jp	i_195	;
    4713.  02:1C9C                      i_194
    4714.  02:1C9C  21 03 00            	ld	hl,3	;const
    4715.  02:1C9F                      i_195
    4716.  02:1C9F  33                  	inc	sp
    4717.  02:1CA0  C1                  	pop	bc
    4718.  02:1CA1  C1                  	pop	bc
    4719.  02:1CA2  C9                  	ret
    4720.  02:1CA3                      
    4721.  02:1CA3                      
    4722.  02:1CA3                      	C_LINE	3372,"./ff.c::check_fs::0::68"
    4723.  02:1CA3                      
    4724.  02:1CA3                      ; Function find_volume flags 0x00000200 __smallc 
    4725.  02:1CA3                      ; unsigned int UINTfind_volume(struct 0__anonstruct_145_0 FATFS* fs, unsigned int part)
    4726.  02:1CA3                      ; parameter 'unsigned int part' at sp+2 size(2)
    4727.  02:1CA3                      ; parameter 'struct 0__anonstruct_145_0 FATFS* fs' at sp+4 size(2)
    4728.  02:1CA3                      	C_LINE	3376,"./ff.c::find_volume::0::68"
    4729.  02:1CA3                      @_find_volume
    4730.  02:1CA3  21 EC FF            	ld	hl,65516	;const
    4731.  02:1CA6  39                  	add	hl,sp
    4732.  02:1CA7  F9                  	ld	sp,hl
    4733.  02:1CA8  21 12 00            	ld	hl,18	;const
    4734.  02:1CAB  39                  	add	hl,sp
    4735.  02:1CAC  E5                  	push	hl
    4736.  02:1CAD  21 1A 00            	ld	hl,26	;const
    4737.  02:1CB0  39                  	add	hl,sp	;l_gintspsp
    4738.  02:1CB1  7E                  	ld	a,(hl)
    4739.  02:1CB2  23                  	inc	hl
    4740.  02:1CB3  66                  	ld	h,(hl)
    4741.  02:1CB4  6F                  	ld	l,a
    4742.  02:1CB5  E5                  	push	hl
    4743.  02:1CB6  21 00 00            	ld	hl,0	;const
    4744.  02:1CB9  54                  	ld	d,h
    4745.  02:1CBA  5D                  	ld	e,l
    4746.  02:1CBB  D5                  	push	de
    4747.  02:1CBC  E5                  	push	hl
    4748.  02:1CBD  CD A5 1A            	call	_check_fs
    4749.  02:1CC0  C1                  	pop	bc
    4750.  02:1CC1  C1                  	pop	bc
    4751.  02:1CC2  C1                  	pop	bc
    4752.  02:1CC3  D1                  	pop	de
    4753.  02:1CC4  EB                  	ex	de,hl	;l_pint
    4754.  02:1CC5  73                  	ld	(hl),e
    4755.  02:1CC6  23                  	inc	hl
    4756.  02:1CC7  72                  	ld	(hl),d
    4757.  02:1CC8  EB                   	ex	de,hl
    4758.  02:1CC9  21 12 00            	ld	hl,18	;const
    4759.  02:1CCC  39                  	add	hl,sp
    4760.  02:1CCD  7E                  	ld	a,(hl)	;l_gint
    4761.  02:1CCE  23                  	inc	hl
    4762.  02:1CCF  66                  	ld	h,(hl)
    4763.  02:1CD0  6F                  	ld	l,a
    4764.  02:1CD1  11 02 00            	ld	de,2
    4765.  02:1CD4  A7                  	and	a
    4766.  02:1CD5  ED 52               	sbc	hl,de
    4767.  02:1CD7  37                  	scf
    4768.  02:1CD8  20 01               	jr	nz,$+3
    4769.  02:1CDA  3F                  	ccf
    4770.  02:1CDB  D2 23 1D            	jp	nc,i_197	;
    4771.  02:1CDE  21 12 00            	ld	hl,18	;const
    4772.  02:1CE1  39                  	add	hl,sp
    4773.  02:1CE2  5E                  	ld	e,(hl)
    4774.  02:1CE3  23                  	inc	hl
    4775.  02:1CE4  56                  	ld	d,(hl)
    4776.  02:1CE5  21 03 00            	ld	hl,3
    4777.  02:1CE8  CD 1A 57            	call	l_uge
    4778.  02:1CEB  DA FA 1C            	jp	c,i_198	;
    4779.  02:1CEE  21 16 00            	ld	hl,22	;const
    4780.  02:1CF1  39                  	add	hl,sp
    4781.  02:1CF2  7E                  	ld	a,(hl)	;l_gint
    4782.  02:1CF3  23                  	inc	hl
    4783.  02:1CF4  66                  	ld	h,(hl)
    4784.  02:1CF5  6F                  	ld	l,a
    4785.  02:1CF6  B4                  	or	h
    4786.  02:1CF7  C2 23 1D            	jp	nz,i_197	;
    4787.  02:1CFA                      i_200_i_197
    4788.  02:1CFA  21 12 00            	ld	hl,18	;const
    4789.  02:1CFD  39                  	add	hl,sp
    4790.  02:1CFE  7E                  	ld	a,(hl)	;l_gint
    4791.  02:1CFF  23                  	inc	hl
    4792.  02:1D00  66                  	ld	h,(hl)
    4793.  02:1D01  6F                  	ld	l,a
    4794.  02:1D02  D9                  	exx
    4795.  02:1D03  21 14 00            	ld	hl,20	;const
    4796.  02:1D06  39                  	add	hl,sp
    4797.  02:1D07  F9                  	ld	sp,hl
    4798.  02:1D08  D9                  	exx
    4799.  02:1D09  C9                  	ret
    4800.  02:1D0A  21 16 00            	ld	hl,22	;const
    4801.  02:1D0D  39                  	add	hl,sp
    4802.  02:1D0E  5E                  	ld	e,(hl)
    4803.  02:1D0F  23                  	inc	hl
    4804.  02:1D10  56                  	ld	d,(hl)
    4805.  02:1D11  21 04 00            	ld	hl,4
    4806.  02:1D14  A7                  	and	a
    4807.  02:1D15  ED 52               	sbc	hl,de
    4808.  02:1D17  D2 23 1D            	jp	nc,i_202	;
    4809.  02:1D1A                      i_203_i_202
    4810.  02:1D1A  21 14 00            	ld	hl,20	;const
    4811.  02:1D1D  39                  	add	hl,sp
    4812.  02:1D1E  F9                  	ld	sp,hl
    4813.  02:1D1F  21 03 00            	ld	hl,3	;const
    4814.  02:1D22  C9                  	ret
    4815.  02:1D23                      
    4816.  02:1D23                      
    4817.  02:1D23                      i_201
    4818.  02:1D23  21 10 00            	ld	hl,16	;const
    4819.  02:1D26  39                  	add	hl,sp
    4820.  02:1D27  AF                  	xor	a
    4821.  02:1D28  77                  	ld	(hl),a
    4822.  02:1D29  23                  	inc	hl
    4823.  02:1D2A  77                  	ld	(hl),a
    4824.  02:1D2B  C3 38 1D            	jp	i_206	;EOS
    4825.  02:1D2E                      i_204
    4826.  02:1D2E  21 10 00            	ld	hl,16	;const
    4827.  02:1D31  39                  	add	hl,sp
    4828.  02:1D32  34                  	inc	(hl)
    4829.  02:1D33  7E                  	ld	a,(hl)
    4830.  02:1D34  23                  	inc	hl
    4831.  02:1D35  20 01               	jr	nz,$+3
    4832.  02:1D37  34                  	inc	(hl)
    4833.  02:1D38                      i_206
    4834.  02:1D38  21 10 00            	ld	hl,16	;const
    4835.  02:1D3B  39                  	add	hl,sp
    4836.  02:1D3C  7E                  	ld	a,(hl)	;l_gint
    4837.  02:1D3D  23                  	inc	hl
    4838.  02:1D3E  66                  	ld	h,(hl)
    4839.  02:1D3F  6F                  	ld	l,a
    4840.  02:1D40  11 04 00            	ld	de,4
    4841.  02:1D43  A7                  	and	a
    4842.  02:1D44  ED 52               	sbc	hl,de
    4843.  02:1D46  D2 85 1D            	jp	nc,i_205	;
    4844.  02:1D49  21 00 00            	ld	hl,0	;const
    4845.  02:1D4C  39                  	add	hl,sp
    4846.  02:1D4D  E5                  	push	hl
    4847.  02:1D4E  21 12 00            	ld	hl,18	;const
    4848.  02:1D51  39                  	add	hl,sp
    4849.  02:1D52  7E                  	ld	a,(hl)	;l_gint
    4850.  02:1D53  23                  	inc	hl
    4851.  02:1D54  66                  	ld	h,(hl)
    4852.  02:1D55  6F                  	ld	l,a
    4853.  02:1D56  29                  	add	hl,hl
    4854.  02:1D57  29                  	add	hl,hl
    4855.  02:1D58  D1                  	pop	de
    4856.  02:1D59  19                  	add	hl,de
    4857.  02:1D5A  E5                  	push	hl
    4858.  02:1D5B  21 1A 00            	ld	hl,26	;const
    4859.  02:1D5E  39                  	add	hl,sp
    4860.  02:1D5F  4E                  	ld	c,(hl)
    4861.  02:1D60  23                  	inc	hl
    4862.  02:1D61  46                  	ld	b,(hl)
    4863.  02:1D62  21 F2 01            	ld	hl,498
    4864.  02:1D65  09                  	add	hl,bc
    4865.  02:1D66  E5                  	push	hl
    4866.  02:1D67  21 14 00            	ld	hl,20	;const
    4867.  02:1D6A  39                  	add	hl,sp
    4868.  02:1D6B  7E                  	ld	a,(hl)	;l_gint
    4869.  02:1D6C  23                  	inc	hl
    4870.  02:1D6D  66                  	ld	h,(hl)
    4871.  02:1D6E  6F                  	ld	l,a
    4872.  02:1D6F  29                  	add	hl,hl
    4873.  02:1D70  29                  	add	hl,hl
    4874.  02:1D71  29                  	add	hl,hl
    4875.  02:1D72  29                  	add	hl,hl
    4876.  02:1D73  D1                  	pop	de
    4877.  02:1D74  19                  	add	hl,de
    4878.  02:1D75  01 08 00            	ld	bc,8
    4879.  02:1D78  09                  	add	hl,bc
    4880.  02:1D79  E5                  	push	hl
    4881.  02:1D7A  CD A3 04            	call	_ld_dword
    4882.  02:1D7D  C1                  	pop	bc
    4883.  02:1D7E  C1                  	pop	bc
    4884.  02:1D7F  CD C3 54            	call	l_plong
    4885.  02:1D82  C3 2E 1D            	jp	i_204	;EOS
    4886.  02:1D85                      i_205
    4887.  02:1D85  21 10 00            	ld	hl,16	;const
    4888.  02:1D88  39                  	add	hl,sp
    4889.  02:1D89  E5                  	push	hl
    4890.  02:1D8A  21 18 00            	ld	hl,24	;const
    4891.  02:1D8D  39                  	add	hl,sp
    4892.  02:1D8E  7E                  	ld	a,(hl)	;l_gint
    4893.  02:1D8F  23                  	inc	hl
    4894.  02:1D90  66                  	ld	h,(hl)
    4895.  02:1D91  6F                  	ld	l,a
    4896.  02:1D92  B4                  	or	h
    4897.  02:1D93  CA A2 1D            	jp	z,i_207	;
    4898.  02:1D96  21 18 00            	ld	hl,24	;const
    4899.  02:1D99  39                  	add	hl,sp
    4900.  02:1D9A  7E                  	ld	a,(hl)	;l_gint
    4901.  02:1D9B  23                  	inc	hl
    4902.  02:1D9C  66                  	ld	h,(hl)
    4903.  02:1D9D  6F                  	ld	l,a
    4904.  02:1D9E  2B                  	dec	hl
    4905.  02:1D9F  C3 A5 1D            	jp	i_208	;
    4906.  02:1DA2                      i_207
    4907.  02:1DA2  21 00 00            	ld	hl,0	;const
    4908.  02:1DA5                      i_208
    4909.  02:1DA5  D1                  	pop	de
    4910.  02:1DA6  EB                  	ex	de,hl	;l_pint
    4911.  02:1DA7  73                  	ld	(hl),e
    4912.  02:1DA8  23                  	inc	hl
    4913.  02:1DA9  72                  	ld	(hl),d
    4914.  02:1DAA  EB                   	ex	de,hl
    4915.  02:1DAB                      i_211
    4916.  02:1DAB  21 12 00            	ld	hl,18	;const
    4917.  02:1DAE  39                  	add	hl,sp
    4918.  02:1DAF  E5                  	push	hl
    4919.  02:1DB0  21 02 00            	ld	hl,2	;const
    4920.  02:1DB3  39                  	add	hl,sp
    4921.  02:1DB4  E5                  	push	hl
    4922.  02:1DB5  21 14 00            	ld	hl,20	;const
    4923.  02:1DB8  39                  	add	hl,sp
    4924.  02:1DB9  7E                  	ld	a,(hl)	;l_gint
    4925.  02:1DBA  23                  	inc	hl
    4926.  02:1DBB  66                  	ld	h,(hl)
    4927.  02:1DBC  6F                  	ld	l,a
    4928.  02:1DBD  29                  	add	hl,hl
    4929.  02:1DBE  29                  	add	hl,hl
    4930.  02:1DBF  D1                  	pop	de
    4931.  02:1DC0  19                  	add	hl,de
    4932.  02:1DC1  CD DE 54            	call	l_glong
    4933.  02:1DC4  7C                  	ld	a,h
    4934.  02:1DC5  B5                  	or	l
    4935.  02:1DC6  B2                  	or	d
    4936.  02:1DC7  B3                  	or	e
    4937.  02:1DC8  CA F3 1D            	jp	z,i_212	;
    4938.  02:1DCB  21 1A 00            	ld	hl,26	;const
    4939.  02:1DCE  39                  	add	hl,sp	;l_gintspsp
    4940.  02:1DCF  7E                  	ld	a,(hl)
    4941.  02:1DD0  23                  	inc	hl
    4942.  02:1DD1  66                  	ld	h,(hl)
    4943.  02:1DD2  6F                  	ld	l,a
    4944.  02:1DD3  E5                  	push	hl
    4945.  02:1DD4  21 04 00            	ld	hl,4	;const
    4946.  02:1DD7  39                  	add	hl,sp
    4947.  02:1DD8  E5                  	push	hl
    4948.  02:1DD9  21 16 00            	ld	hl,22	;const
    4949.  02:1DDC  39                  	add	hl,sp
    4950.  02:1DDD  7E                  	ld	a,(hl)	;l_gint
    4951.  02:1DDE  23                  	inc	hl
    4952.  02:1DDF  66                  	ld	h,(hl)
    4953.  02:1DE0  6F                  	ld	l,a
    4954.  02:1DE1  29                  	add	hl,hl
    4955.  02:1DE2  29                  	add	hl,hl
    4956.  02:1DE3  D1                  	pop	de
    4957.  02:1DE4  19                  	add	hl,de
    4958.  02:1DE5  CD DE 54            	call	l_glong
    4959.  02:1DE8  D5                  	push	de
    4960.  02:1DE9  E5                  	push	hl
    4961.  02:1DEA  CD A5 1A            	call	_check_fs
    4962.  02:1DED  C1                  	pop	bc
    4963.  02:1DEE  C1                  	pop	bc
    4964.  02:1DEF  C1                  	pop	bc
    4965.  02:1DF0  C3 F6 1D            	jp	i_213	;
    4966.  02:1DF3                      i_212
    4967.  02:1DF3  21 03 00            	ld	hl,3	;const
    4968.  02:1DF6                      i_213
    4969.  02:1DF6  D1                  	pop	de
    4970.  02:1DF7  EB                  	ex	de,hl	;l_pint
    4971.  02:1DF8  73                  	ld	(hl),e
    4972.  02:1DF9  23                  	inc	hl
    4973.  02:1DFA  72                  	ld	(hl),d
    4974.  02:1DFB  EB                   	ex	de,hl
    4975.  02:1DFC                      i_209
    4976.  02:1DFC  21 16 00            	ld	hl,22	;const
    4977.  02:1DFF  39                  	add	hl,sp
    4978.  02:1E00  7E                  	ld	a,(hl)	;l_gint
    4979.  02:1E01  23                  	inc	hl
    4980.  02:1E02  66                  	ld	h,(hl)
    4981.  02:1E03  6F                  	ld	l,a
    4982.  02:1E04  B4                  	or	h
    4983.  02:1E05  20 01               	jr	nz,$+3
    4984.  02:1E07  37                  	scf
    4985.  02:1E08  D2 33 1E            	jp	nc,i_214	;
    4986.  02:1E0B  21 12 00            	ld	hl,18	;const
    4987.  02:1E0E  39                  	add	hl,sp
    4988.  02:1E0F  5E                  	ld	e,(hl)
    4989.  02:1E10  23                  	inc	hl
    4990.  02:1E11  56                  	ld	d,(hl)
    4991.  02:1E12  21 02 00            	ld	hl,2
    4992.  02:1E15  CD 1A 57            	call	l_uge
    4993.  02:1E18  D2 33 1E            	jp	nc,i_214	;
    4994.  02:1E1B  21 10 00            	ld	hl,16	;const
    4995.  02:1E1E  39                  	add	hl,sp
    4996.  02:1E1F  34                  	inc	(hl)
    4997.  02:1E20  7E                  	ld	a,(hl)
    4998.  02:1E21  23                  	inc	hl
    4999.  02:1E22  20 01               	jr	nz,$+3
    5000.  02:1E24  34                  	inc	(hl)
    5001.  02:1E25  66                  	ld	h,(hl)
    5002.  02:1E26  6F                  	ld	l,a
    5003.  02:1E27  11 04 00            	ld	de,4
    5004.  02:1E2A  A7                  	and	a
    5005.  02:1E2B  ED 52               	sbc	hl,de
    5006.  02:1E2D  D2 33 1E            	jp	nc,i_214	;
    5007.  02:1E30  C3 AB 1D            	jp	i_211	;EOS
    5008.  02:1E33                      i_210
    5009.  02:1E33  21 12 00            	ld	hl,18	;const
    5010.  02:1E36  39                  	add	hl,sp
    5011.  02:1E37  7E                  	ld	a,(hl)	;l_gint
    5012.  02:1E38  23                  	inc	hl
    5013.  02:1E39  66                  	ld	h,(hl)
    5014.  02:1E3A  6F                  	ld	l,a
    5015.  02:1E3B  D9                  	exx
    5016.  02:1E3C  21 14 00            	ld	hl,20	;const
    5017.  02:1E3F  39                  	add	hl,sp
    5018.  02:1E40  F9                  	ld	sp,hl
    5019.  02:1E41  D9                  	exx
    5020.  02:1E42  C9                  	ret
    5021.  02:1E43                      
    5022.  02:1E43                      
    5023.  02:1E43                      	C_LINE	3426,"./ff.c::find_volume::0::71"
    5024.  02:1E43                      
    5025.  02:1E43                      ; Function mount_volume flags 0x00000200 __smallc 
    5026.  02:1E43                      ; const int FRESULTmount_volume(const char TCHAR* * path, struct 0__anonstruct_145_0 FATFS* * rfs, unsigned char mode)
    5027.  02:1E43                      ; parameter 'unsigned char mode' at sp+2 size(1)
    5028.  02:1E43                      ; parameter 'struct 0__anonstruct_145_0 FATFS* * rfs' at sp+4 size(2)
    5029.  02:1E43                      ; parameter 'const char TCHAR* * path' at sp+6 size(2)
    5030.  02:1E43                      	C_LINE	3431,"./ff.c::mount_volume::0::71"
    5031.  02:1E43                      @_mount_volume
    5032.  02:1E43  21 DF FF            	ld	hl,65503	;const
    5033.  02:1E46  39                  	add	hl,sp
    5034.  02:1E47  F9                  	ld	sp,hl
    5035.  02:1E48  21 25 00            	ld	hl,37	;const
    5036.  02:1E4B  39                  	add	hl,sp
    5037.  02:1E4C  7E                  	ld	a,(hl)
    5038.  02:1E4D  23                  	inc	hl
    5039.  02:1E4E  66                  	ld	h,(hl)
    5040.  02:1E4F  6F                  	ld	l,a
    5041.  02:1E50  AF                  	xor	a
    5042.  02:1E51  77                  	ld	(hl),a
    5043.  02:1E52  23                  	inc	hl
    5044.  02:1E53  77                  	ld	(hl),a
    5045.  02:1E54  21 1F 00            	ld	hl,31	;const
    5046.  02:1E57  39                  	add	hl,sp
    5047.  02:1E58  E5                  	push	hl
    5048.  02:1E59  21 29 00            	ld	hl,41	;const
    5049.  02:1E5C  39                  	add	hl,sp
    5050.  02:1E5D  7E                  	ld	a,(hl)	;l_gint
    5051.  02:1E5E  23                  	inc	hl
    5052.  02:1E5F  66                  	ld	h,(hl)
    5053.  02:1E60  6F                  	ld	l,a
    5054.  02:1E61  E5                  	push	hl
    5055.  02:1E62  CD 75 19            	call	_get_ldnumber
    5056.  02:1E65  C1                  	pop	bc
    5057.  02:1E66  D1                  	pop	de
    5058.  02:1E67  EB                  	ex	de,hl	;l_pint
    5059.  02:1E68  73                  	ld	(hl),e
    5060.  02:1E69  23                  	inc	hl
    5061.  02:1E6A  72                  	ld	(hl),d
    5062.  02:1E6B  EB                   	ex	de,hl
    5063.  02:1E6C  21 1F 00            	ld	hl,31	;const
    5064.  02:1E6F  39                  	add	hl,sp
    5065.  02:1E70  7E                  	ld	a,(hl)	;l_gint
    5066.  02:1E71  23                  	inc	hl
    5067.  02:1E72  66                  	ld	h,(hl)
    5068.  02:1E73  6F                  	ld	l,a
    5069.  02:1E74  7C                  	ld	a,h
    5070.  02:1E75  17                  	rla
    5071.  02:1E76  D2 82 1E            	jp	nc,i_216	;
    5072.  02:1E79  21 21 00            	ld	hl,33	;const
    5073.  02:1E7C  39                  	add	hl,sp
    5074.  02:1E7D  F9                  	ld	sp,hl
    5075.  02:1E7E  21 0B 00            	ld	hl,11	;const
    5076.  02:1E81  C9                  	ret
    5077.  02:1E82                      
    5078.  02:1E82                      
    5079.  02:1E82                      i_216
    5080.  02:1E82  21 1D 00            	ld	hl,29	;const
    5081.  02:1E85  39                  	add	hl,sp
    5082.  02:1E86  E5                  	push	hl
    5083.  02:1E87  21 39 5F            	ld	hl,_FatFs
    5084.  02:1E8A  E5                  	push	hl
    5085.  02:1E8B  21 23 00            	ld	hl,35	;const
    5086.  02:1E8E  39                  	add	hl,sp
    5087.  02:1E8F  7E                  	ld	a,(hl)	;l_gint
    5088.  02:1E90  23                  	inc	hl
    5089.  02:1E91  66                  	ld	h,(hl)
    5090.  02:1E92  6F                  	ld	l,a
    5091.  02:1E93  29                  	add	hl,hl
    5092.  02:1E94  D1                  	pop	de
    5093.  02:1E95  19                  	add	hl,de
    5094.  02:1E96  7E                  	ld	a,(hl)	;l_gint
    5095.  02:1E97  23                  	inc	hl
    5096.  02:1E98  66                  	ld	h,(hl)
    5097.  02:1E99  6F                  	ld	l,a
    5098.  02:1E9A  D1                  	pop	de
    5099.  02:1E9B  EB                  	ex	de,hl	;l_pint
    5100.  02:1E9C  73                  	ld	(hl),e
    5101.  02:1E9D  23                  	inc	hl
    5102.  02:1E9E  72                  	ld	(hl),d
    5103.  02:1E9F  EB                   	ex	de,hl
    5104.  02:1EA0  21 1D 00            	ld	hl,29	;const
    5105.  02:1EA3  39                  	add	hl,sp
    5106.  02:1EA4  7E                  	ld	a,(hl)	;l_gint
    5107.  02:1EA5  23                  	inc	hl
    5108.  02:1EA6  66                  	ld	h,(hl)
    5109.  02:1EA7  6F                  	ld	l,a
    5110.  02:1EA8  CD 3F 54            	call	l_lneg
    5111.  02:1EAB  D2 B7 1E            	jp	nc,i_217	;
    5112.  02:1EAE  21 21 00            	ld	hl,33	;const
    5113.  02:1EB1  39                  	add	hl,sp
    5114.  02:1EB2  F9                  	ld	sp,hl
    5115.  02:1EB3  21 0C 00            	ld	hl,12	;const
    5116.  02:1EB6  C9                  	ret
    5117.  02:1EB7                      
    5118.  02:1EB7                      
    5119.  02:1EB7                      i_217
    5120.  02:1EB7  21 25 00            	ld	hl,37	;const
    5121.  02:1EBA  39                  	add	hl,sp
    5122.  02:1EBB  5E                  	ld	e,(hl)
    5123.  02:1EBC  23                  	inc	hl
    5124.  02:1EBD  56                  	ld	d,(hl)
    5125.  02:1EBE  21 1D 00            	ld	hl,29	;const
    5126.  02:1EC1  39                  	add	hl,sp
    5127.  02:1EC2  ED A0               	ldi
    5128.  02:1EC4  ED A0               	ldi
    5129.  02:1EC6  21 23 00            	ld	hl,35	;const
    5130.  02:1EC9  39                  	add	hl,sp
    5131.  02:1ECA  E5                  	push	hl
    5132.  02:1ECB  6E                  	ld	l,(hl)
    5133.  02:1ECC  26 00               	ld	h,0
    5134.  02:1ECE  CB 85               	res	0,l
    5135.  02:1ED0  D1                  	pop	de
    5136.  02:1ED1  7D                  	ld	a,l
    5137.  02:1ED2  12                  	ld	(de),a
    5138.  02:1ED3  21 1D 00            	ld	hl,29	;const
    5139.  02:1ED6  39                  	add	hl,sp
    5140.  02:1ED7  7E                  	ld	a,(hl)	;l_gint
    5141.  02:1ED8  23                  	inc	hl
    5142.  02:1ED9  66                  	ld	h,(hl)
    5143.  02:1EDA  6F                  	ld	l,a
    5144.  02:1EDB  7E                  	ld	a,(hl)
    5145.  02:1EDC  A7                  	and	a
    5146.  02:1EDD  CA 29 1F            	jp	z,i_218	;
    5147.  02:1EE0  21 1C 00            	ld	hl,28	;const
    5148.  02:1EE3  39                  	add	hl,sp
    5149.  02:1EE4  E5                  	push	hl
    5150.  02:1EE5  21 1F 00            	ld	hl,31	;const
    5151.  02:1EE8  39                  	add	hl,sp
    5152.  02:1EE9  7E                  	ld	a,(hl)	;l_gint
    5153.  02:1EEA  23                  	inc	hl
    5154.  02:1EEB  66                  	ld	h,(hl)
    5155.  02:1EEC  6F                  	ld	l,a
    5156.  02:1EED  23                  	inc	hl
    5157.  02:1EEE  6E                  	ld	l,(hl)
    5158.  02:1EEF  26 00               	ld	h,0
    5159.  02:1EF1  CD 04 4C            	call	disk_status
    5160.  02:1EF4  D1                  	pop	de
    5161.  02:1EF5  7D                  	ld	a,l
    5162.  02:1EF6  12                  	ld	(de),a
    5163.  02:1EF7  21 1C 00            	ld	hl,28	;const
    5164.  02:1EFA  39                  	add	hl,sp
    5165.  02:1EFB  7E                  	ld	a,(hl)
    5166.  02:1EFC  E6 01               	and	1
    5167.  02:1EFE  C2 29 1F            	jp	nz,i_219	;
    5168.  02:1F01  C3 20 1F            	jp	i_221	;EOS
    5169.  02:1F04  21 23 00            	ld	hl,35	;const
    5170.  02:1F07  39                  	add	hl,sp
    5171.  02:1F08  7E                  	ld	a,(hl)
    5172.  02:1F09  A7                  	and	a
    5173.  02:1F0A  CA 20 1F            	jp	z,i_221	;
    5174.  02:1F0D  21 1C 00            	ld	hl,28	;const
    5175.  02:1F10  39                  	add	hl,sp
    5176.  02:1F11  3E 04               	ld	a,4
    5177.  02:1F13  A6                  	and	(hl)
    5178.  02:1F14  CA 20 1F            	jp	z,i_221	;
    5179.  02:1F17                      i_222_i_221
    5180.  02:1F17  21 21 00            	ld	hl,33	;const
    5181.  02:1F1A  39                  	add	hl,sp
    5182.  02:1F1B  F9                  	ld	sp,hl
    5183.  02:1F1C  21 0A 00            	ld	hl,10	;const
    5184.  02:1F1F  C9                  	ret
    5185.  02:1F20                      
    5186.  02:1F20                      
    5187.  02:1F20                      i_220
    5188.  02:1F20  21 21 00            	ld	hl,33	;const
    5189.  02:1F23  39                  	add	hl,sp
    5190.  02:1F24  F9                  	ld	sp,hl
    5191.  02:1F25  21 00 00            	ld	hl,0	;const
    5192.  02:1F28  C9                  	ret
    5193.  02:1F29                      
    5194.  02:1F29                      
    5195.  02:1F29                      i_218
    5196.  02:1F29  21 1D 00            	ld	hl,29	;const
    5197.  02:1F2C  39                  	add	hl,sp
    5198.  02:1F2D  5E                  	ld	e,(hl)
    5199.  02:1F2E  23                  	inc	hl
    5200.  02:1F2F  56                  	ld	d,(hl)
    5201.  02:1F30  AF                  	xor	a
    5202.  02:1F31  12                  	ld	(de),a
    5203.  02:1F32  21 1C 00            	ld	hl,28	;const
    5204.  02:1F35  39                  	add	hl,sp
    5205.  02:1F36  E5                  	push	hl
    5206.  02:1F37  21 1F 00            	ld	hl,31	;const
    5207.  02:1F3A  39                  	add	hl,sp
    5208.  02:1F3B  7E                  	ld	a,(hl)	;l_gint
    5209.  02:1F3C  23                  	inc	hl
    5210.  02:1F3D  66                  	ld	h,(hl)
    5211.  02:1F3E  6F                  	ld	l,a
    5212.  02:1F3F  23                  	inc	hl
    5213.  02:1F40  6E                  	ld	l,(hl)
    5214.  02:1F41  26 00               	ld	h,0
    5215.  02:1F43  CD DA 47            	call	disk_initialize
    5216.  02:1F46  D1                  	pop	de
    5217.  02:1F47  7D                  	ld	a,l
    5218.  02:1F48  12                  	ld	(de),a
    5219.  02:1F49  21 1C 00            	ld	hl,28	;const
    5220.  02:1F4C  39                  	add	hl,sp
    5221.  02:1F4D  3E 01               	ld	a,1
    5222.  02:1F4F  A6                  	and	(hl)
    5223.  02:1F50  CA 78 1F            	jp	z,i_223	;
    5224.  02:1F53  21 21 00            	ld	hl,33	;const
    5225.  02:1F56  39                  	add	hl,sp
    5226.  02:1F57  F9                  	ld	sp,hl
    5227.  02:1F58  21 03 00            	ld	hl,3	;const	= FR_NOT_READY
    5228.  02:1F5B  C9                  	ret
    5229.  02:1F5C  21 23 00            	ld	hl,35	;const
    5230.  02:1F5F  39                  	add	hl,sp
    5231.  02:1F60  7E                  	ld	a,(hl)
    5232.  02:1F61  A7                  	and	a
    5233.  02:1F62  CA 78 1F            	jp	z,i_225	;
    5234.  02:1F65  21 1C 00            	ld	hl,28	;const
    5235.  02:1F68  39                  	add	hl,sp
    5236.  02:1F69  3E 04               	ld	a,4
    5237.  02:1F6B  A6                  	and	(hl)
    5238.  02:1F6C  CA 78 1F            	jp	z,i_225	;
    5239.  02:1F6F                      i_226_i_225
    5240.  02:1F6F  21 21 00            	ld	hl,33	;const
    5241.  02:1F72  39                  	add	hl,sp
    5242.  02:1F73  F9                  	ld	sp,hl
    5243.  02:1F74  21 0A 00            	ld	hl,10	;const	= FR_WRITE_PROTECTED
    5244.  02:1F77  C9                  	ret
    5245.  02:1F78                      
    5246.  02:1F78                      
    5247.  02:1F78                      i_224
    5248.  02:1F78  21 1D 00            	ld	hl,29	;const
    5249.  02:1F7B  39                  	add	hl,sp	;l_gintspsp
    5250.  02:1F7C  7E                  	ld	a,(hl)
    5251.  02:1F7D  23                  	inc	hl
    5252.  02:1F7E  66                  	ld	h,(hl)
    5253.  02:1F7F  6F                  	ld	l,a
    5254.  02:1F80  E5                  	push	hl
    5255.  02:1F81  21 00 00            	ld	hl,0	;const	; LD num
    5256.  02:1F84  E5                  	push	hl
    5257.  02:1F85  CD A3 1C            	call	_find_volume
    5258.  02:1F88  C1                  	pop	bc
    5259.  02:1F89  C1                  	pop	bc
    5260.  02:1F8A  C1                  	pop	bc
    5261.  02:1F8B  E5                  	push	hl
    5262.  02:1F8C  11 04 00            	ld	de,4
    5263.  02:1F8F  A7                  	and	a
    5264.  02:1F90  ED 52               	sbc	hl,de
    5265.  02:1F92  C2 9E 1F            	jp	nz,i_227	;
    5266.  02:1F95  21 21 00            	ld	hl,33	;const
    5267.  02:1F98  39                  	add	hl,sp
    5268.  02:1F99  F9                  	ld	sp,hl
    5269.  02:1F9A  21 01 00            	ld	hl,1	;const
    5270.  02:1F9D  C9                  	ret
    5271.  02:1F9E                      
    5272.  02:1F9E                      
    5273.  02:1F9E                      i_227
    5274.  02:1F9E  E1                  	pop	hl
    5275.  02:1F9F  E5                  	push	hl
    5276.  02:1FA0  11 02 00            	ld	de,2
    5277.  02:1FA3  EB                  	ex	de,hl
    5278.  02:1FA4  CD 1A 57            	call	l_uge
    5279.  02:1FA7  D2 B3 1F            	jp	nc,i_228	;
    5280.  02:1FAA  21 21 00            	ld	hl,33	;const
    5281.  02:1FAD  39                  	add	hl,sp
    5282.  02:1FAE  F9                  	ld	sp,hl
    5283.  02:1FAF  21 0D 00            	ld	hl,13	;const
    5284.  02:1FB2  C9                  	ret
    5285.  02:1FB3                      
    5286.  02:1FB3                      
    5287.  02:1FB3                      i_228
    5288.  02:1FB3  21 18 00            	ld	hl,24	;const
    5289.  02:1FB6  39                  	add	hl,sp
    5290.  02:1FB7  E5                  	push	hl
    5291.  02:1FB8  21 1F 00            	ld	hl,31	;const
    5292.  02:1FBB  39                  	add	hl,sp
    5293.  02:1FBC  4E                  	ld	c,(hl)
    5294.  02:1FBD  23                  	inc	hl
    5295.  02:1FBE  46                  	ld	b,(hl)
    5296.  02:1FBF  21 30 00            	ld	hl,48
    5297.  02:1FC2  09                  	add	hl,bc
    5298.  02:1FC3  CD DE 54            	call	l_glong
    5299.  02:1FC6  C1                  	pop	bc
    5300.  02:1FC7  CD C3 54            	call	l_plong
    5301.  02:1FCA  21 1D 00            	ld	hl,29	;const
    5302.  02:1FCD  39                  	add	hl,sp
    5303.  02:1FCE  4E                  	ld	c,(hl)
    5304.  02:1FCF  23                  	inc	hl
    5305.  02:1FD0  46                  	ld	b,(hl)
    5306.  02:1FD1  21 3F 00            	ld	hl,63
    5307.  02:1FD4  09                  	add	hl,bc
    5308.  02:1FD5  E5                  	push	hl
    5309.  02:1FD6  CD 80 04            	call	_ld_word
    5310.  02:1FD9  C1                  	pop	bc
    5311.  02:1FDA  11 00 02            	ld	de,512
    5312.  02:1FDD  A7                  	and	a
    5313.  02:1FDE  ED 52               	sbc	hl,de
    5314.  02:1FE0  37                  	scf
    5315.  02:1FE1  20 01               	jr	nz,$+3
    5316.  02:1FE3  3F                  	ccf
    5317.  02:1FE4  D2 F0 1F            	jp	nc,i_229	;
    5318.  02:1FE7  21 21 00            	ld	hl,33	;const
    5319.  02:1FEA  39                  	add	hl,sp
    5320.  02:1FEB  F9                  	ld	sp,hl
    5321.  02:1FEC  21 0D 00            	ld	hl,13	;const
    5322.  02:1FEF  C9                  	ret
    5323.  02:1FF0                      
    5324.  02:1FF0                      
    5325.  02:1FF0                      i_229
    5326.  02:1FF0  21 0C 00            	ld	hl,12	;const
    5327.  02:1FF3  39                  	add	hl,sp
    5328.  02:1FF4  E5                  	push	hl
    5329.  02:1FF5  21 1F 00            	ld	hl,31	;const
    5330.  02:1FF8  39                  	add	hl,sp
    5331.  02:1FF9  4E                  	ld	c,(hl)
    5332.  02:1FFA  23                  	inc	hl
    5333.  02:1FFB  46                  	ld	b,(hl)
    5334.  02:1FFC  21 4A 00            	ld	hl,74
    5335.  02:1FFF  09                  	add	hl,bc
    5336.  02:2000  E5                  	push	hl
    5337.  02:2001  CD 80 04            	call	_ld_word
    5338.  02:2004  C1                  	pop	bc
    5339.  02:2005  11 00 00            	ld	de,0
    5340.  02:2008  C1                  	pop	bc
    5341.  02:2009  CD C3 54            	call	l_plong
    5342.  02:200C  21 0C 00            	ld	hl,12	;const
    5343.  02:200F  39                  	add	hl,sp
    5344.  02:2010  CD DE 54            	call	l_glong
    5345.  02:2013  7A                  	ld	a,d
    5346.  02:2014  B3                  	or	e
    5347.  02:2015  B4                  	or	h
    5348.  02:2016  B5                  	or	l
    5349.  02:2017  20 01               	jr	nz,$+3
    5350.  02:2019  37                  	scf
    5351.  02:201A  D2 36 20            	jp	nc,i_230	;
    5352.  02:201D  21 0C 00            	ld	hl,12	;const
    5353.  02:2020  39                  	add	hl,sp
    5354.  02:2021  E5                  	push	hl
    5355.  02:2022  21 1F 00            	ld	hl,31	;const
    5356.  02:2025  39                  	add	hl,sp
    5357.  02:2026  4E                  	ld	c,(hl)
    5358.  02:2027  23                  	inc	hl
    5359.  02:2028  46                  	ld	b,(hl)
    5360.  02:2029  21 58 00            	ld	hl,88
    5361.  02:202C  09                  	add	hl,bc
    5362.  02:202D  E5                  	push	hl
    5363.  02:202E  CD A3 04            	call	_ld_dword
    5364.  02:2031  C1                  	pop	bc
    5365.  02:2032  C1                  	pop	bc
    5366.  02:2033  CD C3 54            	call	l_plong
    5367.  02:2036                      i_230
    5368.  02:2036  21 1D 00            	ld	hl,29	;const
    5369.  02:2039  39                  	add	hl,sp
    5370.  02:203A  4E                  	ld	c,(hl)
    5371.  02:203B  23                  	inc	hl
    5372.  02:203C  46                  	ld	b,(hl)
    5373.  02:203D  21 1C 00            	ld	hl,28
    5374.  02:2040  09                  	add	hl,bc
    5375.  02:2041  E5                  	push	hl
    5376.  02:2042  21 0E 00            	ld	hl,14	;const
    5377.  02:2045  39                  	add	hl,sp
    5378.  02:2046  CD DE 54            	call	l_glong
    5379.  02:2049  C1                  	pop	bc
    5380.  02:204A  CD C3 54            	call	l_plong
    5381.  02:204D  21 1D 00            	ld	hl,29	;const
    5382.  02:2050  39                  	add	hl,sp
    5383.  02:2051  7E                  	ld	a,(hl)	;l_gint
    5384.  02:2052  23                  	inc	hl
    5385.  02:2053  66                  	ld	h,(hl)
    5386.  02:2054  6F                  	ld	l,a
    5387.  02:2055  23                  	inc	hl
    5388.  02:2056  23                  	inc	hl
    5389.  02:2057  23                  	inc	hl
    5390.  02:2058  E5                  	push	hl
    5391.  02:2059  21 1F 00            	ld	hl,31	;const
    5392.  02:205C  39                  	add	hl,sp
    5393.  02:205D  4E                  	ld	c,(hl)
    5394.  02:205E  23                  	inc	hl
    5395.  02:205F  46                  	ld	b,(hl)
    5396.  02:2060  21 44 00            	ld	hl,68
    5397.  02:2063  09                  	add	hl,bc
    5398.  02:2064  7E                  	ld	a,(hl)
    5399.  02:2065  D1                  	pop	de
    5400.  02:2066  12                  	ld	(de),a
    5401.  02:2067  21 1D 00            	ld	hl,29	;const
    5402.  02:206A  39                  	add	hl,sp
    5403.  02:206B  7E                  	ld	a,(hl)	;l_gint
    5404.  02:206C  23                  	inc	hl
    5405.  02:206D  66                  	ld	h,(hl)
    5406.  02:206E  6F                  	ld	l,a
    5407.  02:206F  23                  	inc	hl
    5408.  02:2070  23                  	inc	hl
    5409.  02:2071  23                  	inc	hl
    5410.  02:2072  7E                  	ld	a,(hl)
    5411.  02:2073  FE 01               	cp	1
    5412.  02:2075  CA 92 20            	jp	z,i_232	;
    5413.  02:2078  21 1D 00            	ld	hl,29	;const
    5414.  02:207B  39                  	add	hl,sp
    5415.  02:207C  7E                  	ld	a,(hl)	;l_gint
    5416.  02:207D  23                  	inc	hl
    5417.  02:207E  66                  	ld	h,(hl)
    5418.  02:207F  6F                  	ld	l,a
    5419.  02:2080  23                  	inc	hl
    5420.  02:2081  23                  	inc	hl
    5421.  02:2082  23                  	inc	hl
    5422.  02:2083  7E                  	ld	a,(hl)
    5423.  02:2084  FE 02               	cp	2
    5424.  02:2086  CA 92 20            	jp	z,i_232	;
    5425.  02:2089                      i_233_i_232
    5426.  02:2089  21 21 00            	ld	hl,33	;const
    5427.  02:208C  39                  	add	hl,sp
    5428.  02:208D  F9                  	ld	sp,hl
    5429.  02:208E  21 0D 00            	ld	hl,13	;const
    5430.  02:2091  C9                  	ret
    5431.  02:2092                      
    5432.  02:2092                      
    5433.  02:2092                      i_231
    5434.  02:2092  21 0C 00            	ld	hl,12	;const
    5435.  02:2095  39                  	add	hl,sp
    5436.  02:2096  E5                  	push	hl
    5437.  02:2097  CD CF 54            	call	l_glong2sp
    5438.  02:209A  21 23 00            	ld	hl,35	;const
    5439.  02:209D  39                  	add	hl,sp
    5440.  02:209E  7E                  	ld	a,(hl)	;l_gint
    5441.  02:209F  23                  	inc	hl
    5442.  02:20A0  66                  	ld	h,(hl)
    5443.  02:20A1  6F                  	ld	l,a
    5444.  02:20A2  23                  	inc	hl
    5445.  02:20A3  23                  	inc	hl
    5446.  02:20A4  23                  	inc	hl
    5447.  02:20A5  6E                  	ld	l,(hl)
    5448.  02:20A6  26 00               	ld	h,0
    5449.  02:20A8  11 00 00            	ld	de,0
    5450.  02:20AB  CD F0 55            	call	l_long_mult_u
    5451.  02:20AE  C1                  	pop	bc
    5452.  02:20AF  CD C3 54            	call	l_plong
    5453.  02:20B2  21 1D 00            	ld	hl,29	;const
    5454.  02:20B5  39                  	add	hl,sp
    5455.  02:20B6  4E                  	ld	c,(hl)
    5456.  02:20B7  23                  	inc	hl
    5457.  02:20B8  46                  	ld	b,(hl)
    5458.  02:20B9  21 0A 00            	ld	hl,10
    5459.  02:20BC  09                  	add	hl,bc
    5460.  02:20BD  E5                  	push	hl
    5461.  02:20BE  21 1F 00            	ld	hl,31	;const
    5462.  02:20C1  39                  	add	hl,sp
    5463.  02:20C2  4E                  	ld	c,(hl)
    5464.  02:20C3  23                  	inc	hl
    5465.  02:20C4  46                  	ld	b,(hl)
    5466.  02:20C5  21 41 00            	ld	hl,65
    5467.  02:20C8  09                  	add	hl,bc
    5468.  02:20C9  D1                  	pop	de
    5469.  02:20CA  EB                  	ex	de,hl
    5470.  02:20CB  1A                  	ld	a,(de)
    5471.  02:20CC  77                  	ld	(hl),a
    5472.  02:20CD  23                  	inc	hl
    5473.  02:20CE  36 00               	ld	(hl),0
    5474.  02:20D0  21 1D 00            	ld	hl,29	;const
    5475.  02:20D3  39                  	add	hl,sp
    5476.  02:20D4  4E                  	ld	c,(hl)
    5477.  02:20D5  23                  	inc	hl
    5478.  02:20D6  46                  	ld	b,(hl)
    5479.  02:20D7  21 0A 00            	ld	hl,10
    5480.  02:20DA  09                  	add	hl,bc
    5481.  02:20DB  7E                  	ld	a,(hl)	;l_gint
    5482.  02:20DC  23                  	inc	hl
    5483.  02:20DD  66                  	ld	h,(hl)
    5484.  02:20DE  6F                  	ld	l,a
    5485.  02:20DF  B4                  	or	h
    5486.  02:20E0  CA 0A 21            	jp	z,i_235	;
    5487.  02:20E3  21 1D 00            	ld	hl,29	;const
    5488.  02:20E6  39                  	add	hl,sp
    5489.  02:20E7  4E                  	ld	c,(hl)
    5490.  02:20E8  23                  	inc	hl
    5491.  02:20E9  46                  	ld	b,(hl)
    5492.  02:20EA  21 0A 00            	ld	hl,10
    5493.  02:20ED  09                  	add	hl,bc
    5494.  02:20EE  5E                  	ld	e,(hl)
    5495.  02:20EF  23                  	inc	hl
    5496.  02:20F0  56                  	ld	d,(hl)
    5497.  02:20F1  D5                  	push	de
    5498.  02:20F2  21 1F 00            	ld	hl,31	;const
    5499.  02:20F5  39                  	add	hl,sp
    5500.  02:20F6  4E                  	ld	c,(hl)
    5501.  02:20F7  23                  	inc	hl
    5502.  02:20F8  46                  	ld	b,(hl)
    5503.  02:20F9  21 0A 00            	ld	hl,10
    5504.  02:20FC  09                  	add	hl,bc
    5505.  02:20FD  7E                  	ld	a,(hl)	;l_gint
    5506.  02:20FE  23                  	inc	hl
    5507.  02:20FF  66                  	ld	h,(hl)
    5508.  02:2100  6F                  	ld	l,a
    5509.  02:2101  2B                  	dec	hl
    5510.  02:2102  D1                  	pop	de
    5511.  02:2103  CD 4F 54            	call	l_and
    5512.  02:2106  7C                  	ld	a,h
    5513.  02:2107  B5                  	or	l
    5514.  02:2108  28 03               	jr	z,i_236
    5515.  02:210A                      i_235
    5516.  02:210A  21 01 00            	ld	hl,1	;const
    5517.  02:210D                      i_236
    5518.  02:210D  7C                  	ld	a,h
    5519.  02:210E  B5                  	or	l
    5520.  02:210F  CA 1B 21            	jp	z,i_234	;
    5521.  02:2112  21 21 00            	ld	hl,33	;const
    5522.  02:2115  39                  	add	hl,sp
    5523.  02:2116  F9                  	ld	sp,hl
    5524.  02:2117  21 0D 00            	ld	hl,13	;const
    5525.  02:211A  C9                  	ret
    5526.  02:211B                      
    5527.  02:211B                      
    5528.  02:211B                      i_234
    5529.  02:211B  21 1D 00            	ld	hl,29	;const
    5530.  02:211E  39                  	add	hl,sp
    5531.  02:211F  4E                  	ld	c,(hl)
    5532.  02:2120  23                  	inc	hl
    5533.  02:2121  46                  	ld	b,(hl)
    5534.  02:2122  21 08 00            	ld	hl,8
    5535.  02:2125  09                  	add	hl,bc
    5536.  02:2126  E5                  	push	hl
    5537.  02:2127  21 1F 00            	ld	hl,31	;const
    5538.  02:212A  39                  	add	hl,sp
    5539.  02:212B  4E                  	ld	c,(hl)
    5540.  02:212C  23                  	inc	hl
    5541.  02:212D  46                  	ld	b,(hl)
    5542.  02:212E  21 45 00            	ld	hl,69
    5543.  02:2131  09                  	add	hl,bc
    5544.  02:2132  E5                  	push	hl
    5545.  02:2133  CD 80 04            	call	_ld_word
    5546.  02:2136  C1                  	pop	bc
    5547.  02:2137  D1                  	pop	de
    5548.  02:2138  EB                  	ex	de,hl	;l_pint
    5549.  02:2139  73                  	ld	(hl),e
    5550.  02:213A  23                  	inc	hl
    5551.  02:213B  72                  	ld	(hl),d
    5552.  02:213C  EB                   	ex	de,hl
    5553.  02:213D  21 1D 00            	ld	hl,29	;const
    5554.  02:2140  39                  	add	hl,sp
    5555.  02:2141  4E                  	ld	c,(hl)
    5556.  02:2142  23                  	inc	hl
    5557.  02:2143  46                  	ld	b,(hl)
    5558.  02:2144  21 08 00            	ld	hl,8
    5559.  02:2147  09                  	add	hl,bc
    5560.  02:2148  7E                  	ld	a,(hl)	;l_gint
    5561.  02:2149  23                  	inc	hl
    5562.  02:214A  66                  	ld	h,(hl)
    5563.  02:214B  6F                  	ld	l,a
    5564.  02:214C  E6 0F               	and	15
    5565.  02:214E  CA 5A 21            	jp	z,i_237	;
    5566.  02:2151  21 21 00            	ld	hl,33	;const
    5567.  02:2154  39                  	add	hl,sp
    5568.  02:2155  F9                  	ld	sp,hl
    5569.  02:2156  21 0D 00            	ld	hl,13	;const
    5570.  02:2159  C9                  	ret
    5571.  02:215A                      
    5572.  02:215A                      
    5573.  02:215A                      i_237
    5574.  02:215A  21 14 00            	ld	hl,20	;const
    5575.  02:215D  39                  	add	hl,sp
    5576.  02:215E  E5                  	push	hl
    5577.  02:215F  21 1F 00            	ld	hl,31	;const
    5578.  02:2162  39                  	add	hl,sp
    5579.  02:2163  4E                  	ld	c,(hl)
    5580.  02:2164  23                  	inc	hl
    5581.  02:2165  46                  	ld	b,(hl)
    5582.  02:2166  21 47 00            	ld	hl,71
    5583.  02:2169  09                  	add	hl,bc
    5584.  02:216A  E5                  	push	hl
    5585.  02:216B  CD 80 04            	call	_ld_word
    5586.  02:216E  C1                  	pop	bc
    5587.  02:216F  11 00 00            	ld	de,0
    5588.  02:2172  C1                  	pop	bc
    5589.  02:2173  CD C3 54            	call	l_plong
    5590.  02:2176  21 14 00            	ld	hl,20	;const
    5591.  02:2179  39                  	add	hl,sp
    5592.  02:217A  CD DE 54            	call	l_glong
    5593.  02:217D  7A                  	ld	a,d
    5594.  02:217E  B3                  	or	e
    5595.  02:217F  B4                  	or	h
    5596.  02:2180  B5                  	or	l
    5597.  02:2181  20 01               	jr	nz,$+3
    5598.  02:2183  37                  	scf
    5599.  02:2184  D2 A0 21            	jp	nc,i_238	;
    5600.  02:2187  21 14 00            	ld	hl,20	;const
    5601.  02:218A  39                  	add	hl,sp
    5602.  02:218B  E5                  	push	hl
    5603.  02:218C  21 1F 00            	ld	hl,31	;const
    5604.  02:218F  39                  	add	hl,sp
    5605.  02:2190  4E                  	ld	c,(hl)
    5606.  02:2191  23                  	inc	hl
    5607.  02:2192  46                  	ld	b,(hl)
    5608.  02:2193  21 54 00            	ld	hl,84
    5609.  02:2196  09                  	add	hl,bc
    5610.  02:2197  E5                  	push	hl
    5611.  02:2198  CD A3 04            	call	_ld_dword
    5612.  02:219B  C1                  	pop	bc
    5613.  02:219C  C1                  	pop	bc
    5614.  02:219D  CD C3 54            	call	l_plong
    5615.  02:21A0                      i_238
    5616.  02:21A0  21 1D 00            	ld	hl,29	;const
    5617.  02:21A3  39                  	add	hl,sp
    5618.  02:21A4  4E                  	ld	c,(hl)
    5619.  02:21A5  23                  	inc	hl
    5620.  02:21A6  46                  	ld	b,(hl)
    5621.  02:21A7  21 42 00            	ld	hl,66
    5622.  02:21AA  09                  	add	hl,bc
    5623.  02:21AB  E5                  	push	hl
    5624.  02:21AC  CD 80 04            	call	_ld_word
    5625.  02:21AF  C1                  	pop	bc
    5626.  02:21B0  D1                  	pop	de
    5627.  02:21B1  C1                  	pop	bc
    5628.  02:21B2  E5                  	push	hl
    5629.  02:21B3  D5                  	push	de
    5630.  02:21B4  7C                  	ld	a,h
    5631.  02:21B5  B5                  	or	l
    5632.  02:21B6  20 01               	jr	nz,$+3
    5633.  02:21B8  37                  	scf
    5634.  02:21B9  D2 C5 21            	jp	nc,i_239	;
    5635.  02:21BC  21 21 00            	ld	hl,33	;const
    5636.  02:21BF  39                  	add	hl,sp
    5637.  02:21C0  F9                  	ld	sp,hl
    5638.  02:21C1  21 0D 00            	ld	hl,13	;const
    5639.  02:21C4  C9                  	ret
    5640.  02:21C5                      
    5641.  02:21C5                      
    5642.  02:21C5                      i_239
    5643.  02:21C5  21 10 00            	ld	hl,16	;const
    5644.  02:21C8  39                  	add	hl,sp
    5645.  02:21C9  E5                  	push	hl
    5646.  02:21CA  21 04 00            	ld	hl,4	;const
    5647.  02:21CD  39                  	add	hl,sp	;l_gintspsp
    5648.  02:21CE  7E                  	ld	a,(hl)
    5649.  02:21CF  23                  	inc	hl
    5650.  02:21D0  66                  	ld	h,(hl)
    5651.  02:21D1  6F                  	ld	l,a
    5652.  02:21D2  E5                  	push	hl
    5653.  02:21D3  21 10 00            	ld	hl,16	;const
    5654.  02:21D6  39                  	add	hl,sp
    5655.  02:21D7  CD DE 54            	call	l_glong
    5656.  02:21DA  D9                  	exx
    5657.  02:21DB  E1                  	pop	hl
    5658.  02:21DC  11 00 00            	ld	de,0
    5659.  02:21DF  D5                  	push	de
    5660.  02:21E0  E5                  	push	hl
    5661.  02:21E1  D9                  	exx
    5662.  02:21E2  C1                  	pop	bc
    5663.  02:21E3  09                  	add	hl,bc
    5664.  02:21E4  EB                  	ex	de,hl
    5665.  02:21E5  C1                  	pop	bc
    5666.  02:21E6  ED 4A               	adc	hl,bc
    5667.  02:21E8  EB                  	ex	de,hl
    5668.  02:21E9  D5                  	push	de
    5669.  02:21EA  E5                  	push	hl
    5670.  02:21EB  21 23 00            	ld	hl,35	;const
    5671.  02:21EE  39                  	add	hl,sp
    5672.  02:21EF  4E                  	ld	c,(hl)
    5673.  02:21F0  23                  	inc	hl
    5674.  02:21F1  46                  	ld	b,(hl)
    5675.  02:21F2  21 08 00            	ld	hl,8
    5676.  02:21F5  09                  	add	hl,bc
    5677.  02:21F6  7E                  	ld	a,(hl)	;l_gint
    5678.  02:21F7  23                  	inc	hl
    5679.  02:21F8  66                  	ld	h,(hl)
    5680.  02:21F9  6F                  	ld	l,a
    5681.  02:21FA  11 04 00            	ld	de,4
    5682.  02:21FD  CD EF 56            	call	l_asr_u_hl_by_e
    5683.  02:2200  11 00 00            	ld	de,0
    5684.  02:2203  C1                  	pop	bc
    5685.  02:2204  09                  	add	hl,bc
    5686.  02:2205  EB                  	ex	de,hl
    5687.  02:2206  C1                  	pop	bc
    5688.  02:2207  ED 4A               	adc	hl,bc
    5689.  02:2209  EB                  	ex	de,hl
    5690.  02:220A  C1                  	pop	bc
    5691.  02:220B  CD C3 54            	call	l_plong
    5692.  02:220E  21 14 00            	ld	hl,20	;const
    5693.  02:2211  39                  	add	hl,sp
    5694.  02:2212  CD CF 54            	call	l_glong2sp
    5695.  02:2215  21 14 00            	ld	hl,20	;const
    5696.  02:2218  39                  	add	hl,sp
    5697.  02:2219  CD DE 54            	call	l_glong
    5698.  02:221C  CD E8 56            	call	l_long_ult
    5699.  02:221F  D2 2B 22            	jp	nc,i_240	;
    5700.  02:2222  21 21 00            	ld	hl,33	;const
    5701.  02:2225  39                  	add	hl,sp
    5702.  02:2226  F9                  	ld	sp,hl
    5703.  02:2227  21 0D 00            	ld	hl,13	;const
    5704.  02:222A  C9                  	ret
    5705.  02:222B                      
    5706.  02:222B                      
    5707.  02:222B                      i_240
    5708.  02:222B  21 08 00            	ld	hl,8	;const
    5709.  02:222E  39                  	add	hl,sp
    5710.  02:222F  E5                  	push	hl
    5711.  02:2230  21 16 00            	ld	hl,22	;const
    5712.  02:2233  39                  	add	hl,sp
    5713.  02:2234  CD CF 54            	call	l_glong2sp
    5714.  02:2237  21 16 00            	ld	hl,22	;const
    5715.  02:223A  39                  	add	hl,sp
    5716.  02:223B  CD DE 54            	call	l_glong
    5717.  02:223E  4D                  	ld	c,l
    5718.  02:223F  44                  	ld	b,h
    5719.  02:2240  E1                  	pop	hl
    5720.  02:2241  A7                  	and	a
    5721.  02:2242  ED 42               	sbc	hl,bc
    5722.  02:2244  EB                  	ex	de,hl
    5723.  02:2245  4D                  	ld	c,l
    5724.  02:2246  44                  	ld	b,h
    5725.  02:2247  E1                  	pop	hl
    5726.  02:2248  ED 42               	sbc	hl,bc
    5727.  02:224A  EB                  	ex	de,hl
    5728.  02:224B  D5                  	push	de
    5729.  02:224C  E5                  	push	hl
    5730.  02:224D  21 23 00            	ld	hl,35	;const
    5731.  02:2250  39                  	add	hl,sp
    5732.  02:2251  4E                  	ld	c,(hl)
    5733.  02:2252  23                  	inc	hl
    5734.  02:2253  46                  	ld	b,(hl)
    5735.  02:2254  21 0A 00            	ld	hl,10
    5736.  02:2257  09                  	add	hl,bc
    5737.  02:2258  7E                  	ld	a,(hl)	;l_gint
    5738.  02:2259  23                  	inc	hl
    5739.  02:225A  66                  	ld	h,(hl)
    5740.  02:225B  6F                  	ld	l,a
    5741.  02:225C  11 00 00            	ld	de,0
    5742.  02:225F  CD FB 55            	call	l_long_div_u
    5743.  02:2262  C1                  	pop	bc
    5744.  02:2263  CD C3 54            	call	l_plong
    5745.  02:2266  21 08 00            	ld	hl,8	;const
    5746.  02:2269  39                  	add	hl,sp
    5747.  02:226A  CD DE 54            	call	l_glong
    5748.  02:226D  7A                  	ld	a,d
    5749.  02:226E  B3                  	or	e
    5750.  02:226F  B4                  	or	h
    5751.  02:2270  B5                  	or	l
    5752.  02:2271  20 01               	jr	nz,$+3
    5753.  02:2273  37                  	scf
    5754.  02:2274  D2 80 22            	jp	nc,i_241	;
    5755.  02:2277  21 21 00            	ld	hl,33	;const
    5756.  02:227A  39                  	add	hl,sp
    5757.  02:227B  F9                  	ld	sp,hl
    5758.  02:227C  21 0D 00            	ld	hl,13	;const
    5759.  02:227F  C9                  	ret
    5760.  02:2280                      
    5761.  02:2280                      
    5762.  02:2280                      i_241
    5763.  02:2280  21 00 00            	ld	hl,0	;const
    5764.  02:2283  C1                  	pop	bc
    5765.  02:2284  E5                  	push	hl
    5766.  02:2285  21 08 00            	ld	hl,8	;const
    5767.  02:2288  39                  	add	hl,sp
    5768.  02:2289  CD CF 54            	call	l_glong2sp
    5769.  02:228C  21 F5 FF            	ld	hl,65525	;const
    5770.  02:228F  11 FF 0F            	ld	de,4095
    5771.  02:2292  CD DF 56            	call	l_long_ule
    5772.  02:2295  D2 9D 22            	jp	nc,i_242	;
    5773.  02:2298  21 03 00            	ld	hl,3	;const
    5774.  02:229B  C1                  	pop	bc
    5775.  02:229C  E5                  	push	hl
    5776.  02:229D                      i_242
    5777.  02:229D  21 08 00            	ld	hl,8	;const
    5778.  02:22A0  39                  	add	hl,sp
    5779.  02:22A1  CD CF 54            	call	l_glong2sp
    5780.  02:22A4  21 F5 FF            	ld	hl,65525	;const
    5781.  02:22A7  11 00 00            	ld	de,0
    5782.  02:22AA  CD DF 56            	call	l_long_ule
    5783.  02:22AD  D2 B5 22            	jp	nc,i_243	;
    5784.  02:22B0  21 02 00            	ld	hl,2	;const
    5785.  02:22B3  C1                  	pop	bc
    5786.  02:22B4  E5                  	push	hl
    5787.  02:22B5                      i_243
    5788.  02:22B5  21 08 00            	ld	hl,8	;const
    5789.  02:22B8  39                  	add	hl,sp
    5790.  02:22B9  CD CF 54            	call	l_glong2sp
    5791.  02:22BC  21 F5 0F            	ld	hl,4085	;const
    5792.  02:22BF  11 00 00            	ld	de,0
    5793.  02:22C2  CD DF 56            	call	l_long_ule
    5794.  02:22C5  D2 CD 22            	jp	nc,i_244	;
    5795.  02:22C8  21 01 00            	ld	hl,1	;const
    5796.  02:22CB  C1                  	pop	bc
    5797.  02:22CC  E5                  	push	hl
    5798.  02:22CD                      i_244
    5799.  02:22CD  E1                  	pop	hl
    5800.  02:22CE  E5                  	push	hl
    5801.  02:22CF  7C                  	ld	a,h
    5802.  02:22D0  B5                  	or	l
    5803.  02:22D1  20 01               	jr	nz,$+3
    5804.  02:22D3  37                  	scf
    5805.  02:22D4  D2 E0 22            	jp	nc,i_245	;
    5806.  02:22D7  21 21 00            	ld	hl,33	;const
    5807.  02:22DA  39                  	add	hl,sp
    5808.  02:22DB  F9                  	ld	sp,hl
    5809.  02:22DC  21 0D 00            	ld	hl,13	;const
    5810.  02:22DF  C9                  	ret
    5811.  02:22E0                      
    5812.  02:22E0                      
    5813.  02:22E0                      i_245
    5814.  02:22E0  21 1D 00            	ld	hl,29	;const
    5815.  02:22E3  39                  	add	hl,sp
    5816.  02:22E4  4E                  	ld	c,(hl)
    5817.  02:22E5  23                  	inc	hl
    5818.  02:22E6  46                  	ld	b,(hl)
    5819.  02:22E7  21 18 00            	ld	hl,24
    5820.  02:22EA  09                  	add	hl,bc
    5821.  02:22EB  E5                  	push	hl
    5822.  02:22EC  21 0A 00            	ld	hl,10	;const
    5823.  02:22EF  39                  	add	hl,sp
    5824.  02:22F0  CD DE 54            	call	l_glong
    5825.  02:22F3  01 02 00            	ld	bc,2
    5826.  02:22F6  09                  	add	hl,bc
    5827.  02:22F7  30 01               	jr	nc,$+3
    5828.  02:22F9  13                  	inc	de
    5829.  02:22FA  C1                  	pop	bc
    5830.  02:22FB  CD C3 54            	call	l_plong
    5831.  02:22FE  21 1D 00            	ld	hl,29	;const
    5832.  02:2301  39                  	add	hl,sp
    5833.  02:2302  4E                  	ld	c,(hl)
    5834.  02:2303  23                  	inc	hl
    5835.  02:2304  46                  	ld	b,(hl)
    5836.  02:2305  21 20 00            	ld	hl,32
    5837.  02:2308  09                  	add	hl,bc
    5838.  02:2309  E5                  	push	hl
    5839.  02:230A  21 1A 00            	ld	hl,26	;const
    5840.  02:230D  39                  	add	hl,sp
    5841.  02:230E  CD DE 54            	call	l_glong
    5842.  02:2311  C1                  	pop	bc
    5843.  02:2312  CD C3 54            	call	l_plong
    5844.  02:2315  21 1D 00            	ld	hl,29	;const
    5845.  02:2318  39                  	add	hl,sp
    5846.  02:2319  4E                  	ld	c,(hl)
    5847.  02:231A  23                  	inc	hl
    5848.  02:231B  46                  	ld	b,(hl)
    5849.  02:231C  21 24 00            	ld	hl,36
    5850.  02:231F  09                  	add	hl,bc
    5851.  02:2320  E5                  	push	hl
    5852.  02:2321  21 1A 00            	ld	hl,26	;const
    5853.  02:2324  39                  	add	hl,sp
    5854.  02:2325  CD CF 54            	call	l_glong2sp
    5855.  02:2328  21 08 00            	ld	hl,8	;const
    5856.  02:232B  39                  	add	hl,sp
    5857.  02:232C  7E                  	ld	a,(hl)	;l_gint
    5858.  02:232D  23                  	inc	hl
    5859.  02:232E  66                  	ld	h,(hl)
    5860.  02:232F  6F                  	ld	l,a
    5861.  02:2330  11 00 00            	ld	de,0
    5862.  02:2333  C1                  	pop	bc
    5863.  02:2334  09                  	add	hl,bc
    5864.  02:2335  EB                  	ex	de,hl
    5865.  02:2336  C1                  	pop	bc
    5866.  02:2337  ED 4A               	adc	hl,bc
    5867.  02:2339  EB                  	ex	de,hl
    5868.  02:233A  C1                  	pop	bc
    5869.  02:233B  CD C3 54            	call	l_plong
    5870.  02:233E  21 1D 00            	ld	hl,29	;const
    5871.  02:2341  39                  	add	hl,sp
    5872.  02:2342  4E                  	ld	c,(hl)
    5873.  02:2343  23                  	inc	hl
    5874.  02:2344  46                  	ld	b,(hl)
    5875.  02:2345  21 2C 00            	ld	hl,44
    5876.  02:2348  09                  	add	hl,bc
    5877.  02:2349  E5                  	push	hl
    5878.  02:234A  21 1A 00            	ld	hl,26	;const
    5879.  02:234D  39                  	add	hl,sp
    5880.  02:234E  CD CF 54            	call	l_glong2sp
    5881.  02:2351  21 16 00            	ld	hl,22	;const
    5882.  02:2354  39                  	add	hl,sp
    5883.  02:2355  CD DE 54            	call	l_glong
    5884.  02:2358  C1                  	pop	bc
    5885.  02:2359  09                  	add	hl,bc
    5886.  02:235A  EB                  	ex	de,hl
    5887.  02:235B  C1                  	pop	bc
    5888.  02:235C  ED 4A               	adc	hl,bc
    5889.  02:235E  EB                  	ex	de,hl
    5890.  02:235F  C1                  	pop	bc
    5891.  02:2360  CD C3 54            	call	l_plong
    5892.  02:2363  E1                  	pop	hl
    5893.  02:2364  E5                  	push	hl
    5894.  02:2365  11 03 00            	ld	de,3
    5895.  02:2368  A7                  	and	a
    5896.  02:2369  ED 52               	sbc	hl,de
    5897.  02:236B  C2 EC 23            	jp	nz,i_246	;
    5898.  02:236E  21 1D 00            	ld	hl,29	;const
    5899.  02:2371  39                  	add	hl,sp
    5900.  02:2372  4E                  	ld	c,(hl)
    5901.  02:2373  23                  	inc	hl
    5902.  02:2374  46                  	ld	b,(hl)
    5903.  02:2375  21 5E 00            	ld	hl,94
    5904.  02:2378  09                  	add	hl,bc
    5905.  02:2379  E5                  	push	hl
    5906.  02:237A  CD 80 04            	call	_ld_word
    5907.  02:237D  C1                  	pop	bc
    5908.  02:237E  7C                  	ld	a,h
    5909.  02:237F  B5                  	or	l
    5910.  02:2380  CA 8C 23            	jp	z,i_247	;
    5911.  02:2383  21 21 00            	ld	hl,33	;const
    5912.  02:2386  39                  	add	hl,sp
    5913.  02:2387  F9                  	ld	sp,hl
    5914.  02:2388  21 0D 00            	ld	hl,13	;const
    5915.  02:238B  C9                  	ret
    5916.  02:238C                      
    5917.  02:238C                      
    5918.  02:238C                      i_247
    5919.  02:238C  21 1D 00            	ld	hl,29	;const
    5920.  02:238F  39                  	add	hl,sp
    5921.  02:2390  4E                  	ld	c,(hl)
    5922.  02:2391  23                  	inc	hl
    5923.  02:2392  46                  	ld	b,(hl)
    5924.  02:2393  21 08 00            	ld	hl,8
    5925.  02:2396  09                  	add	hl,bc
    5926.  02:2397  7E                  	ld	a,(hl)	;l_gint
    5927.  02:2398  23                  	inc	hl
    5928.  02:2399  66                  	ld	h,(hl)
    5929.  02:239A  6F                  	ld	l,a
    5930.  02:239B  B4                  	or	h
    5931.  02:239C  CA A8 23            	jp	z,i_248	;
    5932.  02:239F  21 21 00            	ld	hl,33	;const
    5933.  02:23A2  39                  	add	hl,sp
    5934.  02:23A3  F9                  	ld	sp,hl
    5935.  02:23A4  21 0D 00            	ld	hl,13	;const
    5936.  02:23A7  C9                  	ret
    5937.  02:23A8                      
    5938.  02:23A8                      
    5939.  02:23A8                      i_248
    5940.  02:23A8  21 1D 00            	ld	hl,29	;const
    5941.  02:23AB  39                  	add	hl,sp
    5942.  02:23AC  4E                  	ld	c,(hl)
    5943.  02:23AD  23                  	inc	hl
    5944.  02:23AE  46                  	ld	b,(hl)
    5945.  02:23AF  21 28 00            	ld	hl,40
    5946.  02:23B2  09                  	add	hl,bc
    5947.  02:23B3  E5                  	push	hl
    5948.  02:23B4  21 1F 00            	ld	hl,31	;const
    5949.  02:23B7  39                  	add	hl,sp
    5950.  02:23B8  4E                  	ld	c,(hl)
    5951.  02:23B9  23                  	inc	hl
    5952.  02:23BA  46                  	ld	b,(hl)
    5953.  02:23BB  21 60 00            	ld	hl,96
    5954.  02:23BE  09                  	add	hl,bc
    5955.  02:23BF  E5                  	push	hl
    5956.  02:23C0  CD A3 04            	call	_ld_dword
    5957.  02:23C3  C1                  	pop	bc
    5958.  02:23C4  C1                  	pop	bc
    5959.  02:23C5  CD C3 54            	call	l_plong
    5960.  02:23C8  21 04 00            	ld	hl,4	;const
    5961.  02:23CB  39                  	add	hl,sp
    5962.  02:23CC  E5                  	push	hl
    5963.  02:23CD  21 1F 00            	ld	hl,31	;const
    5964.  02:23D0  39                  	add	hl,sp
    5965.  02:23D1  4E                  	ld	c,(hl)
    5966.  02:23D2  23                  	inc	hl
    5967.  02:23D3  46                  	ld	b,(hl)
    5968.  02:23D4  21 18 00            	ld	hl,24
    5969.  02:23D7  09                  	add	hl,bc
    5970.  02:23D8  CD DE 54            	call	l_glong
    5971.  02:23DB  29                  	add	hl,hl
    5972.  02:23DC  CB 13               	rl	e
    5973.  02:23DE  CB 12               	rl	d
    5974.  02:23E0  29                  	add	hl,hl
    5975.  02:23E1  CB 13               	rl	e
    5976.  02:23E3  CB 12               	rl	d
    5977.  02:23E5  C1                  	pop	bc
    5978.  02:23E6  CD C3 54            	call	l_plong
    5979.  02:23E9  C3 A6 24            	jp	i_249	;EOS
    5980.  02:23EC                      i_246
    5981.  02:23EC  21 1D 00            	ld	hl,29	;const
    5982.  02:23EF  39                  	add	hl,sp
    5983.  02:23F0  4E                  	ld	c,(hl)
    5984.  02:23F1  23                  	inc	hl
    5985.  02:23F2  46                  	ld	b,(hl)
    5986.  02:23F3  21 08 00            	ld	hl,8
    5987.  02:23F6  09                  	add	hl,bc
    5988.  02:23F7  7E                  	ld	a,(hl)	;l_gint
    5989.  02:23F8  23                  	inc	hl
    5990.  02:23F9  66                  	ld	h,(hl)
    5991.  02:23FA  6F                  	ld	l,a
    5992.  02:23FB  B4                  	or	h
    5993.  02:23FC  20 01               	jr	nz,$+3
    5994.  02:23FE  37                  	scf
    5995.  02:23FF  D2 0B 24            	jp	nc,i_250	;
    5996.  02:2402  21 21 00            	ld	hl,33	;const
    5997.  02:2405  39                  	add	hl,sp
    5998.  02:2406  F9                  	ld	sp,hl
    5999.  02:2407  21 0D 00            	ld	hl,13	;const
    6000.  02:240A  C9                  	ret
    6001.  02:240B                      
    6002.  02:240B                      
    6003.  02:240B                      i_250
    6004.  02:240B  21 1D 00            	ld	hl,29	;const
    6005.  02:240E  39                  	add	hl,sp
    6006.  02:240F  4E                  	ld	c,(hl)
    6007.  02:2410  23                  	inc	hl
    6008.  02:2411  46                  	ld	b,(hl)
    6009.  02:2412  21 28 00            	ld	hl,40
    6010.  02:2415  09                  	add	hl,bc
    6011.  02:2416  E5                  	push	hl
    6012.  02:2417  21 1F 00            	ld	hl,31	;const
    6013.  02:241A  39                  	add	hl,sp
    6014.  02:241B  4E                  	ld	c,(hl)
    6015.  02:241C  23                  	inc	hl
    6016.  02:241D  46                  	ld	b,(hl)
    6017.  02:241E  21 24 00            	ld	hl,36
    6018.  02:2421  09                  	add	hl,bc
    6019.  02:2422  CD CF 54            	call	l_glong2sp
    6020.  02:2425  21 12 00            	ld	hl,18	;const
    6021.  02:2428  39                  	add	hl,sp
    6022.  02:2429  CD DE 54            	call	l_glong
    6023.  02:242C  C1                  	pop	bc
    6024.  02:242D  09                  	add	hl,bc
    6025.  02:242E  EB                  	ex	de,hl
    6026.  02:242F  C1                  	pop	bc
    6027.  02:2430  ED 4A               	adc	hl,bc
    6028.  02:2432  EB                  	ex	de,hl
    6029.  02:2433  C1                  	pop	bc
    6030.  02:2434  CD C3 54            	call	l_plong
    6031.  02:2437  21 04 00            	ld	hl,4	;const
    6032.  02:243A  39                  	add	hl,sp
    6033.  02:243B  D1                  	pop	de
    6034.  02:243C  D5                  	push	de
    6035.  02:243D  E5                  	push	hl
    6036.  02:243E  EB                  	ex	de,hl
    6037.  02:243F  11 02 00            	ld	de,2
    6038.  02:2442  A7                  	and	a
    6039.  02:2443  ED 52               	sbc	hl,de
    6040.  02:2445  C2 5E 24            	jp	nz,i_251	;
    6041.  02:2448  21 1F 00            	ld	hl,31	;const
    6042.  02:244B  39                  	add	hl,sp
    6043.  02:244C  4E                  	ld	c,(hl)
    6044.  02:244D  23                  	inc	hl
    6045.  02:244E  46                  	ld	b,(hl)
    6046.  02:244F  21 18 00            	ld	hl,24
    6047.  02:2452  09                  	add	hl,bc
    6048.  02:2453  CD DE 54            	call	l_glong
    6049.  02:2456  29                  	add	hl,hl
    6050.  02:2457  CB 13               	rl	e
    6051.  02:2459  CB 12               	rl	d
    6052.  02:245B  C3 A2 24            	jp	i_252	;
    6053.  02:245E                      i_251
    6054.  02:245E  21 1F 00            	ld	hl,31	;const
    6055.  02:2461  39                  	add	hl,sp
    6056.  02:2462  4E                  	ld	c,(hl)
    6057.  02:2463  23                  	inc	hl
    6058.  02:2464  46                  	ld	b,(hl)
    6059.  02:2465  21 18 00            	ld	hl,24
    6060.  02:2468  09                  	add	hl,bc
    6061.  02:2469  CD DE 54            	call	l_glong
    6062.  02:246C  D5                  	push	de
    6063.  02:246D  E5                  	push	hl
    6064.  02:246E  29                  	add	hl,hl
    6065.  02:246F  CB 13               	rl	e
    6066.  02:2471  CB 12               	rl	d
    6067.  02:2473  C1                  	pop	bc
    6068.  02:2474  09                  	add	hl,bc
    6069.  02:2475  C1                  	pop	bc
    6070.  02:2476  EB                  	ex	de,hl
    6071.  02:2477  ED 4A               	adc	hl,bc
    6072.  02:2479  EB                  	ex	de,hl
    6073.  02:247A  CB 3A               	srl	d
    6074.  02:247C  CB 1B               	rr	e
    6075.  02:247E  CB 1C               	rr	h
    6076.  02:2480  CB 1D               	rr	l
    6077.  02:2482  D5                  	push	de
    6078.  02:2483  E5                  	push	hl
    6079.  02:2484  21 23 00            	ld	hl,35	;const
    6080.  02:2487  39                  	add	hl,sp
    6081.  02:2488  4E                  	ld	c,(hl)
    6082.  02:2489  23                  	inc	hl
    6083.  02:248A  46                  	ld	b,(hl)
    6084.  02:248B  21 18 00            	ld	hl,24
    6085.  02:248E  09                  	add	hl,bc
    6086.  02:248F  CD DE 54            	call	l_glong
    6087.  02:2492  7D                  	ld	a,l
    6088.  02:2493  E6 01               	and	1
    6089.  02:2495  6F                  	ld	l,a
    6090.  02:2496  26 00               	ld	h,0
    6091.  02:2498  11 00 00            	ld	de,0
    6092.  02:249B  C1                  	pop	bc
    6093.  02:249C  09                  	add	hl,bc
    6094.  02:249D  EB                  	ex	de,hl
    6095.  02:249E  C1                  	pop	bc
    6096.  02:249F  ED 4A               	adc	hl,bc
    6097.  02:24A1  EB                  	ex	de,hl
    6098.  02:24A2                      i_252
    6099.  02:24A2  C1                  	pop	bc
    6100.  02:24A3  CD C3 54            	call	l_plong
    6101.  02:24A6                      i_249
    6102.  02:24A6  21 1D 00            	ld	hl,29	;const
    6103.  02:24A9  39                  	add	hl,sp
    6104.  02:24AA  4E                  	ld	c,(hl)
    6105.  02:24AB  23                  	inc	hl
    6106.  02:24AC  46                  	ld	b,(hl)
    6107.  02:24AD  21 1C 00            	ld	hl,28
    6108.  02:24B0  09                  	add	hl,bc
    6109.  02:24B1  CD CF 54            	call	l_glong2sp
    6110.  02:24B4  21 08 00            	ld	hl,8	;const
    6111.  02:24B7  39                  	add	hl,sp
    6112.  02:24B8  CD DE 54            	call	l_glong
    6113.  02:24BB  01 FF 01            	ld	bc,511
    6114.  02:24BE  09                  	add	hl,bc
    6115.  02:24BF  30 01               	jr	nc,$+3
    6116.  02:24C1  13                  	inc	de
    6117.  02:24C2  D5                  	push	de
    6118.  02:24C3  E5                  	push	hl
    6119.  02:24C4  21 00 02            	ld	hl,512	;const
    6120.  02:24C7  11 00 00            	ld	de,0
    6121.  02:24CA  CD FB 55            	call	l_long_div_u
    6122.  02:24CD  CD E8 56            	call	l_long_ult
    6123.  02:24D0  D2 DC 24            	jp	nc,i_253	;
    6124.  02:24D3  21 21 00            	ld	hl,33	;const
    6125.  02:24D6  39                  	add	hl,sp
    6126.  02:24D7  F9                  	ld	sp,hl
    6127.  02:24D8  21 0D 00            	ld	hl,13	;const
    6128.  02:24DB  C9                  	ret
    6129.  02:24DC                      
    6130.  02:24DC                      
    6131.  02:24DC                      i_253
    6132.  02:24DC  21 1D 00            	ld	hl,29	;const
    6133.  02:24DF  39                  	add	hl,sp
    6134.  02:24E0  4E                  	ld	c,(hl)
    6135.  02:24E1  23                  	inc	hl
    6136.  02:24E2  46                  	ld	b,(hl)
    6137.  02:24E3  21 0C 00            	ld	hl,12
    6138.  02:24E6  09                  	add	hl,bc
    6139.  02:24E7  E5                  	push	hl
    6140.  02:24E8  21 1F 00            	ld	hl,31	;const
    6141.  02:24EB  39                  	add	hl,sp
    6142.  02:24EC  4E                  	ld	c,(hl)
    6143.  02:24ED  23                  	inc	hl
    6144.  02:24EE  46                  	ld	b,(hl)
    6145.  02:24EF  21 10 00            	ld	hl,16
    6146.  02:24F2  09                  	add	hl,bc
    6147.  02:24F3  44                  	ld	b,h
    6148.  02:24F4  4D                  	ld	c,l
    6149.  02:24F5  21 FF FF            	ld	hl,65535	;const
    6150.  02:24F8  11 FF FF            	ld	de,65535
    6151.  02:24FB  CD C3 54            	call	l_plong
    6152.  02:24FE  C1                  	pop	bc
    6153.  02:24FF  CD C3 54            	call	l_plong
    6154.  02:2502  21 1D 00            	ld	hl,29	;const
    6155.  02:2505  39                  	add	hl,sp
    6156.  02:2506  4E                  	ld	c,(hl)
    6157.  02:2507  23                  	inc	hl
    6158.  02:2508  46                  	ld	b,(hl)
    6159.  02:2509  21 05 00            	ld	hl,5
    6160.  02:250C  09                  	add	hl,bc
    6161.  02:250D  36 80               	ld	(hl),128
    6162.  02:250F  E1                  	pop	hl
    6163.  02:2510  E5                  	push	hl
    6164.  02:2511  11 03 00            	ld	de,3
    6165.  02:2514  A7                  	and	a
    6166.  02:2515  ED 52               	sbc	hl,de
    6167.  02:2517  C2 F8 25            	jp	nz,i_255	;
    6168.  02:251A  21 1D 00            	ld	hl,29	;const
    6169.  02:251D  39                  	add	hl,sp
    6170.  02:251E  4E                  	ld	c,(hl)
    6171.  02:251F  23                  	inc	hl
    6172.  02:2520  46                  	ld	b,(hl)
    6173.  02:2521  21 64 00            	ld	hl,100
    6174.  02:2524  09                  	add	hl,bc
    6175.  02:2525  E5                  	push	hl
    6176.  02:2526  CD 80 04            	call	_ld_word
    6177.  02:2529  C1                  	pop	bc
    6178.  02:252A  2B                  	dec	hl
    6179.  02:252B  7C                  	ld	a,h
    6180.  02:252C  B5                  	or	l
    6181.  02:252D  C2 F8 25            	jp	nz,i_255	;
    6182.  02:2530  21 1D 00            	ld	hl,29	;const
    6183.  02:2533  39                  	add	hl,sp	;l_gintspsp
    6184.  02:2534  7E                  	ld	a,(hl)
    6185.  02:2535  23                  	inc	hl
    6186.  02:2536  66                  	ld	h,(hl)
    6187.  02:2537  6F                  	ld	l,a
    6188.  02:2538  E5                  	push	hl
    6189.  02:2539  21 1A 00            	ld	hl,26	;const
    6190.  02:253C  39                  	add	hl,sp
    6191.  02:253D  CD DE 54            	call	l_glong
    6192.  02:2540  23                  	inc	hl
    6193.  02:2541  7C                  	ld	a,h
    6194.  02:2542  B5                  	or	l
    6195.  02:2543  20 01               	jr	nz,$+3
    6196.  02:2545  13                  	inc	de
    6197.  02:2546  D5                  	push	de
    6198.  02:2547  E5                  	push	hl
    6199.  02:2548  CD 54 05            	call	_move_window
    6200.  02:254B  C1                  	pop	bc
    6201.  02:254C  C1                  	pop	bc
    6202.  02:254D  C1                  	pop	bc
    6203.  02:254E  7C                  	ld	a,h
    6204.  02:254F  B5                  	or	l
    6205.  02:2550  20 01               	jr	nz,$+3
    6206.  02:2552  37                  	scf
    6207.  02:2553  D2 F8 25            	jp	nc,i_255	;
    6208.  02:2556                      i_256_i_255
    6209.  02:2556  21 1D 00            	ld	hl,29	;const
    6210.  02:2559  39                  	add	hl,sp
    6211.  02:255A  4E                  	ld	c,(hl)
    6212.  02:255B  23                  	inc	hl
    6213.  02:255C  46                  	ld	b,(hl)
    6214.  02:255D  21 05 00            	ld	hl,5
    6215.  02:2560  09                  	add	hl,bc
    6216.  02:2561  36 00               	ld	(hl),0
    6217.  02:2563  21 1D 00            	ld	hl,29	;const
    6218.  02:2566  39                  	add	hl,sp
    6219.  02:2567  4E                  	ld	c,(hl)
    6220.  02:2568  23                  	inc	hl
    6221.  02:2569  46                  	ld	b,(hl)
    6222.  02:256A  21 32 02            	ld	hl,562
    6223.  02:256D  09                  	add	hl,bc
    6224.  02:256E  E5                  	push	hl
    6225.  02:256F  CD 80 04            	call	_ld_word
    6226.  02:2572  C1                  	pop	bc
    6227.  02:2573  11 55 AA            	ld	de,43605
    6228.  02:2576  A7                  	and	a
    6229.  02:2577  ED 52               	sbc	hl,de
    6230.  02:2579  C2 F8 25            	jp	nz,i_258	;
    6231.  02:257C  21 1D 00            	ld	hl,29	;const
    6232.  02:257F  39                  	add	hl,sp
    6233.  02:2580  4E                  	ld	c,(hl)
    6234.  02:2581  23                  	inc	hl
    6235.  02:2582  46                  	ld	b,(hl)
    6236.  02:2583  21 34 00            	ld	hl,52
    6237.  02:2586  09                  	add	hl,bc
    6238.  02:2587  E5                  	push	hl
    6239.  02:2588  CD A3 04            	call	_ld_dword
    6240.  02:258B  C1                  	pop	bc
    6241.  02:258C  D5                  	push	de
    6242.  02:258D  E5                  	push	hl
    6243.  02:258E  21 52 52            	ld	hl,21074	;const
    6244.  02:2591  11 61 41            	ld	de,16737
    6245.  02:2594  CD 6F 56            	call	l_long_eq
    6246.  02:2597  D2 F8 25            	jp	nc,i_258	;
    6247.  02:259A  21 1D 00            	ld	hl,29	;const
    6248.  02:259D  39                  	add	hl,sp
    6249.  02:259E  4E                  	ld	c,(hl)
    6250.  02:259F  23                  	inc	hl
    6251.  02:25A0  46                  	ld	b,(hl)
    6252.  02:25A1  21 18 02            	ld	hl,536
    6253.  02:25A4  09                  	add	hl,bc
    6254.  02:25A5  E5                  	push	hl
    6255.  02:25A6  CD A3 04            	call	_ld_dword
    6256.  02:25A9  C1                  	pop	bc
    6257.  02:25AA  D5                  	push	de
    6258.  02:25AB  E5                  	push	hl
    6259.  02:25AC  21 72 72            	ld	hl,29298	;const
    6260.  02:25AF  11 41 61            	ld	de,24897
    6261.  02:25B2  CD 6F 56            	call	l_long_eq
    6262.  02:25B5  D2 F8 25            	jp	nc,i_258	;
    6263.  02:25B8                      i_259_i_258
    6264.  02:25B8  21 1D 00            	ld	hl,29	;const
    6265.  02:25BB  39                  	add	hl,sp
    6266.  02:25BC  4E                  	ld	c,(hl)
    6267.  02:25BD  23                  	inc	hl
    6268.  02:25BE  46                  	ld	b,(hl)
    6269.  02:25BF  21 10 00            	ld	hl,16
    6270.  02:25C2  09                  	add	hl,bc
    6271.  02:25C3  E5                  	push	hl
    6272.  02:25C4  21 1F 00            	ld	hl,31	;const
    6273.  02:25C7  39                  	add	hl,sp
    6274.  02:25C8  4E                  	ld	c,(hl)
    6275.  02:25C9  23                  	inc	hl
    6276.  02:25CA  46                  	ld	b,(hl)
    6277.  02:25CB  21 1C 02            	ld	hl,540
    6278.  02:25CE  09                  	add	hl,bc
    6279.  02:25CF  E5                  	push	hl
    6280.  02:25D0  CD A3 04            	call	_ld_dword
    6281.  02:25D3  C1                  	pop	bc
    6282.  02:25D4  C1                  	pop	bc
    6283.  02:25D5  CD C3 54            	call	l_plong
    6284.  02:25D8  21 1D 00            	ld	hl,29	;const
    6285.  02:25DB  39                  	add	hl,sp
    6286.  02:25DC  4E                  	ld	c,(hl)
    6287.  02:25DD  23                  	inc	hl
    6288.  02:25DE  46                  	ld	b,(hl)
    6289.  02:25DF  21 0C 00            	ld	hl,12
    6290.  02:25E2  09                  	add	hl,bc
    6291.  02:25E3  E5                  	push	hl
    6292.  02:25E4  21 1F 00            	ld	hl,31	;const
    6293.  02:25E7  39                  	add	hl,sp
    6294.  02:25E8  4E                  	ld	c,(hl)
    6295.  02:25E9  23                  	inc	hl
    6296.  02:25EA  46                  	ld	b,(hl)
    6297.  02:25EB  21 20 02            	ld	hl,544
    6298.  02:25EE  09                  	add	hl,bc
    6299.  02:25EF  E5                  	push	hl
    6300.  02:25F0  CD A3 04            	call	_ld_dword
    6301.  02:25F3  C1                  	pop	bc
    6302.  02:25F4  C1                  	pop	bc
    6303.  02:25F5  CD C3 54            	call	l_plong
    6304.  02:25F8                      i_254
    6305.  02:25F8  21 1D 00            	ld	hl,29	;const
    6306.  02:25FB  39                  	add	hl,sp	;l_gintspsp
    6307.  02:25FC  7E                  	ld	a,(hl)
    6308.  02:25FD  23                  	inc	hl
    6309.  02:25FE  66                  	ld	h,(hl)
    6310.  02:25FF  6F                  	ld	l,a
    6311.  02:2600  E5                  	push	hl
    6312.  02:2601  C1                  	pop	bc
    6313.  02:2602  E1                  	pop	hl
    6314.  02:2603  E5                  	push	hl
    6315.  02:2604  C5                  	push	bc
    6316.  02:2605  D1                  	pop	de
    6317.  02:2606  7D                  	ld	a,l
    6318.  02:2607  12                  	ld	(de),a
    6319.  02:2608  21 1D 00            	ld	hl,29	;const
    6320.  02:260B  39                  	add	hl,sp
    6321.  02:260C  4E                  	ld	c,(hl)
    6322.  02:260D  23                  	inc	hl
    6323.  02:260E  46                  	ld	b,(hl)
    6324.  02:260F  21 06 00            	ld	hl,6
    6325.  02:2612  09                  	add	hl,bc
    6326.  02:2613  E5                  	push	hl
    6327.  02:2614  2A 3B 5F            	ld	hl,(_Fsid)
    6328.  02:2617  23                  	inc	hl
    6329.  02:2618  22 3B 5F            	ld	(_Fsid),hl
    6330.  02:261B  D1                  	pop	de
    6331.  02:261C  EB                  	ex	de,hl	;l_pint
    6332.  02:261D  73                  	ld	(hl),e
    6333.  02:261E  23                  	inc	hl
    6334.  02:261F  72                  	ld	(hl),d
    6335.  02:2620  EB                   	ex	de,hl
    6336.  02:2621  21 1D 00            	ld	hl,29	;const
    6337.  02:2624  39                  	add	hl,sp
    6338.  02:2625  4E                  	ld	c,(hl)
    6339.  02:2626  23                  	inc	hl
    6340.  02:2627  46                  	ld	b,(hl)
    6341.  02:2628  21 14 00            	ld	hl,20
    6342.  02:262B  09                  	add	hl,bc
    6343.  02:262C  AF                  	xor	a
    6344.  02:262D  77                  	ld	(hl),a
    6345.  02:262E  23                  	inc	hl
    6346.  02:262F  77                  	ld	(hl),a
    6347.  02:2630  23                  	inc	hl
    6348.  02:2631  77                  	ld	(hl),a
    6349.  02:2632  23                  	inc	hl
    6350.  02:2633  77                  	ld	(hl),a
    6351.  02:2634  21 21 00            	ld	hl,33	;const
    6352.  02:2637  39                  	add	hl,sp
    6353.  02:2638  F9                  	ld	sp,hl
    6354.  02:2639  21 00 00            	ld	hl,0	;const
    6355.  02:263C  C9                  	ret
    6356.  02:263D                      
    6357.  02:263D                      
    6358.  02:263D                      	C_LINE	3650,"./ff.c::mount_volume::0::82"
    6359.  02:263D                      
    6360.  02:263D                      ; Function validate flags 0x00000200 __smallc 
    6361.  02:263D                      ; const int FRESULTvalidate(struct 0__anonstruct_191_1 FFOBJID* obj, struct 0__anonstruct_145_0 FATFS* * rfs)
    6362.  02:263D                      ; parameter 'struct 0__anonstruct_145_0 FATFS* * rfs' at sp+2 size(2)
    6363.  02:263D                      ; parameter 'struct 0__anonstruct_191_1 FFOBJID* obj' at sp+4 size(2)
    6364.  02:263D                      	C_LINE	3654,"./ff.c::validate::0::82"
    6365.  02:263D                      @_validate
    6366.  02:263D  21 09 00            	ld	hl,9	;const
    6367.  02:2640  E5                  	push	hl
    6368.  02:2641  2E 06               	ld	l,6	
    6369.  02:2643  39                  	add	hl,sp
    6370.  02:2644  7E                  	ld	a,(hl)	;l_gint
    6371.  02:2645  23                  	inc	hl
    6372.  02:2646  66                  	ld	h,(hl)
    6373.  02:2647  6F                  	ld	l,a
    6374.  02:2648  B4                  	or	h
    6375.  02:2649  CA B3 26            	jp	z,i_261	;
    6376.  02:264C  21 06 00            	ld	hl,6	;const
    6377.  02:264F  39                  	add	hl,sp
    6378.  02:2650  7E                  	ld	a,(hl)	;l_gint
    6379.  02:2651  23                  	inc	hl
    6380.  02:2652  66                  	ld	h,(hl)
    6381.  02:2653  6F                  	ld	l,a
    6382.  02:2654  7E                  	ld	a,(hl)	;l_gint
    6383.  02:2655  23                  	inc	hl
    6384.  02:2656  66                  	ld	h,(hl)
    6385.  02:2657  6F                  	ld	l,a
    6386.  02:2658  B4                  	or	h
    6387.  02:2659  CA B3 26            	jp	z,i_261	;
    6388.  02:265C  21 06 00            	ld	hl,6	;const
    6389.  02:265F  39                  	add	hl,sp
    6390.  02:2660  7E                  	ld	a,(hl)	;l_gint
    6391.  02:2661  23                  	inc	hl
    6392.  02:2662  66                  	ld	h,(hl)
    6393.  02:2663  6F                  	ld	l,a
    6394.  02:2664  7E                  	ld	a,(hl)	;l_gint
    6395.  02:2665  23                  	inc	hl
    6396.  02:2666  66                  	ld	h,(hl)
    6397.  02:2667  6F                  	ld	l,a
    6398.  02:2668  7E                  	ld	a,(hl)
    6399.  02:2669  A7                  	and	a
    6400.  02:266A  CA B3 26            	jp	z,i_261	;
    6401.  02:266D  21 06 00            	ld	hl,6	;const
    6402.  02:2670  39                  	add	hl,sp
    6403.  02:2671  7E                  	ld	a,(hl)	;l_gint
    6404.  02:2672  23                  	inc	hl
    6405.  02:2673  66                  	ld	h,(hl)
    6406.  02:2674  6F                  	ld	l,a
    6407.  02:2675  23                  	inc	hl
    6408.  02:2676  23                  	inc	hl
    6409.  02:2677  5E                  	ld	e,(hl)
    6410.  02:2678  23                  	inc	hl
    6411.  02:2679  56                  	ld	d,(hl)
    6412.  02:267A  D5                  	push	de
    6413.  02:267B  21 08 00            	ld	hl,8	;const
    6414.  02:267E  39                  	add	hl,sp
    6415.  02:267F  7E                  	ld	a,(hl)	;l_gint
    6416.  02:2680  23                  	inc	hl
    6417.  02:2681  66                  	ld	h,(hl)
    6418.  02:2682  6F                  	ld	l,a
    6419.  02:2683  4E                  	ld	c,(hl)
    6420.  02:2684  23                  	inc	hl
    6421.  02:2685  46                  	ld	b,(hl)
    6422.  02:2686  21 06 00            	ld	hl,6
    6423.  02:2689  09                  	add	hl,bc
    6424.  02:268A  7E                  	ld	a,(hl)	;l_gint
    6425.  02:268B  23                  	inc	hl
    6426.  02:268C  66                  	ld	h,(hl)
    6427.  02:268D  6F                  	ld	l,a
    6428.  02:268E  D1                  	pop	de
    6429.  02:268F  CD FE 56            	call	l_eq
    6430.  02:2692  D2 B3 26            	jp	nc,i_261	;
    6431.  02:2695                      i_262_i_261
    6432.  02:2695  21 06 00            	ld	hl,6	;const
    6433.  02:2698  39                  	add	hl,sp
    6434.  02:2699  7E                  	ld	a,(hl)	;l_gint
    6435.  02:269A  23                  	inc	hl
    6436.  02:269B  66                  	ld	h,(hl)
    6437.  02:269C  6F                  	ld	l,a
    6438.  02:269D  7E                  	ld	a,(hl)	;l_gint
    6439.  02:269E  23                  	inc	hl
    6440.  02:269F  66                  	ld	h,(hl)
    6441.  02:26A0  6F                  	ld	l,a
    6442.  02:26A1  23                  	inc	hl
    6443.  02:26A2  6E                  	ld	l,(hl)
    6444.  02:26A3  26 00               	ld	h,0
    6445.  02:26A5  CD 04 4C            	call	disk_status
    6446.  02:26A8  7D                  	ld	a,l
    6447.  02:26A9  E6 01               	and	1
    6448.  02:26AB  C2 B3 26            	jp	nz,i_263	;
    6449.  02:26AE  21 00 00            	ld	hl,0	;const
    6450.  02:26B1  C1                  	pop	bc
    6451.  02:26B2  E5                  	push	hl
    6452.  02:26B3                      i_260
    6453.  02:26B3  21 04 00            	ld	hl,4	;const
    6454.  02:26B6  39                  	add	hl,sp	;l_gintspsp
    6455.  02:26B7  7E                  	ld	a,(hl)
    6456.  02:26B8  23                  	inc	hl
    6457.  02:26B9  66                  	ld	h,(hl)
    6458.  02:26BA  6F                  	ld	l,a
    6459.  02:26BB  E5                  	push	hl
    6460.  02:26BC  C1                  	pop	bc
    6461.  02:26BD  E1                  	pop	hl
    6462.  02:26BE  E5                  	push	hl
    6463.  02:26BF  C5                  	push	bc
    6464.  02:26C0  7C                  	ld	a,h
    6465.  02:26C1  B5                  	or	l
    6466.  02:26C2  20 01               	jr	nz,$+3
    6467.  02:26C4  37                  	scf
    6468.  02:26C5  D2 D7 26            	jp	nc,i_264	;
    6469.  02:26C8  21 08 00            	ld	hl,8	;const
    6470.  02:26CB  39                  	add	hl,sp
    6471.  02:26CC  7E                  	ld	a,(hl)	;l_gint
    6472.  02:26CD  23                  	inc	hl
    6473.  02:26CE  66                  	ld	h,(hl)
    6474.  02:26CF  6F                  	ld	l,a
    6475.  02:26D0  7E                  	ld	a,(hl)	;l_gint
    6476.  02:26D1  23                  	inc	hl
    6477.  02:26D2  66                  	ld	h,(hl)
    6478.  02:26D3  6F                  	ld	l,a
    6479.  02:26D4  C3 DA 26            	jp	i_265	;
    6480.  02:26D7                      i_264
    6481.  02:26D7  21 00 00            	ld	hl,0	;const
    6482.  02:26DA                      i_265
    6483.  02:26DA  D1                  	pop	de
    6484.  02:26DB  EB                  	ex	de,hl	;l_pint
    6485.  02:26DC  73                  	ld	(hl),e
    6486.  02:26DD  23                  	inc	hl
    6487.  02:26DE  72                  	ld	(hl),d
    6488.  02:26DF  EB                   	ex	de,hl
    6489.  02:26E0  E1                  	pop	hl
    6490.  02:26E1  C9                  	ret
    6491.  02:26E2                      
    6492.  02:26E2                      
    6493.  02:26E2                      	C_LINE	3694,"./ff.c::validate::0::85"
    6494.  02:26E2                      
    6495.  02:26E2                      ; Function f_mount flags 0x00000200 __smallc 
    6496.  02:26E2                      ; const int FRESULTf_mount(struct 0__anonstruct_145_0 FATFS* fs, const char TCHAR* path, unsigned char opt)
    6497.  02:26E2                      ; parameter 'unsigned char opt' at sp+2 size(1)
    6498.  02:26E2                      ; parameter 'const char TCHAR* path' at sp+4 size(2)
    6499.  02:26E2                      ; parameter 'struct 0__anonstruct_145_0 FATFS* fs' at sp+6 size(2)
    6500.  02:26E2                      	C_LINE	3699,"./ff.c::f_mount::0::85"
    6501.  02:26E2                      @_f_mount
    6502.  02:26E2  C5                  	push	bc
    6503.  02:26E3  C5                  	push	bc
    6504.  02:26E4  C5                  	push	bc
    6505.  02:26E5  21 0A 00            	ld	hl,10	;const
    6506.  02:26E8  39                  	add	hl,sp	;l_gintspsp
    6507.  02:26E9  7E                  	ld	a,(hl)
    6508.  02:26EA  23                  	inc	hl
    6509.  02:26EB  66                  	ld	h,(hl)
    6510.  02:26EC  6F                  	ld	l,a
    6511.  02:26ED  E5                  	push	hl
    6512.  02:26EE  21 04 00            	ld	hl,4	;const
    6513.  02:26F1  39                  	add	hl,sp
    6514.  02:26F2  E5                  	push	hl
    6515.  02:26F3  21 02 00            	ld	hl,2	;const
    6516.  02:26F6  39                  	add	hl,sp
    6517.  02:26F7  E5                  	push	hl
    6518.  02:26F8  CD 75 19            	call	_get_ldnumber
    6519.  02:26FB  C1                  	pop	bc
    6520.  02:26FC  D1                  	pop	de
    6521.  02:26FD  EB                  	ex	de,hl	;l_pint
    6522.  02:26FE  73                  	ld	(hl),e
    6523.  02:26FF  23                  	inc	hl
    6524.  02:2700  72                  	ld	(hl),d
    6525.  02:2701  EB                   	ex	de,hl
    6526.  02:2702  21 04 00            	ld	hl,4	;const
    6527.  02:2705  39                  	add	hl,sp
    6528.  02:2706  7E                  	ld	a,(hl)	;l_gint
    6529.  02:2707  23                  	inc	hl
    6530.  02:2708  66                  	ld	h,(hl)
    6531.  02:2709  6F                  	ld	l,a
    6532.  02:270A  7C                  	ld	a,h
    6533.  02:270B  17                  	rla
    6534.  02:270C  D2 17 27            	jp	nc,i_266	;
    6535.  02:270F  21 0B 00            	ld	hl,11	;const
    6536.  02:2712  C1                  	pop	bc
    6537.  02:2713  C1                  	pop	bc
    6538.  02:2714  C1                  	pop	bc
    6539.  02:2715  C1                  	pop	bc
    6540.  02:2716  C9                  	ret
    6541.  02:2717                      
    6542.  02:2717                      
    6543.  02:2717                      i_266
    6544.  02:2717  21 06 00            	ld	hl,6	;const
    6545.  02:271A  39                  	add	hl,sp
    6546.  02:271B  E5                  	push	hl
    6547.  02:271C  21 39 5F            	ld	hl,_FatFs
    6548.  02:271F  E5                  	push	hl
    6549.  02:2720  21 08 00            	ld	hl,8	;const
    6550.  02:2723  39                  	add	hl,sp
    6551.  02:2724  7E                  	ld	a,(hl)	;l_gint
    6552.  02:2725  23                  	inc	hl
    6553.  02:2726  66                  	ld	h,(hl)
    6554.  02:2727  6F                  	ld	l,a
    6555.  02:2728  29                  	add	hl,hl
    6556.  02:2729  D1                  	pop	de
    6557.  02:272A  19                  	add	hl,de
    6558.  02:272B  7E                  	ld	a,(hl)	;l_gint
    6559.  02:272C  23                  	inc	hl
    6560.  02:272D  66                  	ld	h,(hl)
    6561.  02:272E  6F                  	ld	l,a
    6562.  02:272F  D1                  	pop	de
    6563.  02:2730  EB                  	ex	de,hl	;l_pint
    6564.  02:2731  73                  	ld	(hl),e
    6565.  02:2732  23                  	inc	hl
    6566.  02:2733  72                  	ld	(hl),d
    6567.  02:2734  EB                   	ex	de,hl
    6568.  02:2735  21 06 00            	ld	hl,6	;const
    6569.  02:2738  39                  	add	hl,sp
    6570.  02:2739  7E                  	ld	a,(hl)	;l_gint
    6571.  02:273A  23                  	inc	hl
    6572.  02:273B  66                  	ld	h,(hl)
    6573.  02:273C  6F                  	ld	l,a
    6574.  02:273D  B4                  	or	h
    6575.  02:273E  CA 60 27            	jp	z,i_267	;
    6576.  02:2741  21 39 5F            	ld	hl,_FatFs
    6577.  02:2744  E5                  	push	hl
    6578.  02:2745  21 06 00            	ld	hl,6	;const
    6579.  02:2748  39                  	add	hl,sp
    6580.  02:2749  7E                  	ld	a,(hl)	;l_gint
    6581.  02:274A  23                  	inc	hl
    6582.  02:274B  66                  	ld	h,(hl)
    6583.  02:274C  6F                  	ld	l,a
    6584.  02:274D  29                  	add	hl,hl
    6585.  02:274E  D1                  	pop	de
    6586.  02:274F  19                  	add	hl,de
    6587.  02:2750  AF                  	xor	a
    6588.  02:2751  77                  	ld	(hl),a
    6589.  02:2752  23                  	inc	hl
    6590.  02:2753  77                  	ld	(hl),a
    6591.  02:2754  21 06 00            	ld	hl,6	;const
    6592.  02:2757  39                  	add	hl,sp
    6593.  02:2758  5E                  	ld	e,(hl)
    6594.  02:2759  23                  	inc	hl
    6595.  02:275A  56                  	ld	d,(hl)
    6596.  02:275B  21 00 00            	ld	hl,0	;const
    6597.  02:275E  7D                  	ld	a,l
    6598.  02:275F  12                  	ld	(de),a
    6599.  02:2760                      i_267
    6600.  02:2760  21 0E 00            	ld	hl,14	;const
    6601.  02:2763  39                  	add	hl,sp
    6602.  02:2764  7E                  	ld	a,(hl)	;l_gint
    6603.  02:2765  23                  	inc	hl
    6604.  02:2766  66                  	ld	h,(hl)
    6605.  02:2767  6F                  	ld	l,a
    6606.  02:2768  B4                  	or	h
    6607.  02:2769  CA A5 27            	jp	z,i_268	;
    6608.  02:276C  21 0E 00            	ld	hl,14	;const
    6609.  02:276F  39                  	add	hl,sp
    6610.  02:2770  7E                  	ld	a,(hl)	;l_gint
    6611.  02:2771  23                  	inc	hl
    6612.  02:2772  66                  	ld	h,(hl)
    6613.  02:2773  6F                  	ld	l,a
    6614.  02:2774  23                  	inc	hl
    6615.  02:2775  EB                  	ex	de,hl
    6616.  02:2776  21 04 00            	ld	hl,4	;const
    6617.  02:2779  39                  	add	hl,sp
    6618.  02:277A  7E                  	ld	a,(hl)	;l_gint
    6619.  02:277B  23                  	inc	hl
    6620.  02:277C  66                  	ld	h,(hl)
    6621.  02:277D  6F                  	ld	l,a
    6622.  02:277E  12                  	ld	(de),a
    6623.  02:277F  21 0E 00            	ld	hl,14	;const
    6624.  02:2782  39                  	add	hl,sp
    6625.  02:2783  5E                  	ld	e,(hl)
    6626.  02:2784  23                  	inc	hl
    6627.  02:2785  56                  	ld	d,(hl)
    6628.  02:2786  AF                  	xor	a
    6629.  02:2787  12                  	ld	(de),a
    6630.  02:2788  21 39 5F            	ld	hl,_FatFs
    6631.  02:278B  E5                  	push	hl
    6632.  02:278C  21 06 00            	ld	hl,6	;const
    6633.  02:278F  39                  	add	hl,sp
    6634.  02:2790  7E                  	ld	a,(hl)	;l_gint
    6635.  02:2791  23                  	inc	hl
    6636.  02:2792  66                  	ld	h,(hl)
    6637.  02:2793  6F                  	ld	l,a
    6638.  02:2794  29                  	add	hl,hl
    6639.  02:2795  D1                  	pop	de
    6640.  02:2796  19                  	add	hl,de
    6641.  02:2797  EB                  	ex	de,hl
    6642.  02:2798  21 0E 00            	ld	hl,14	;const
    6643.  02:279B  39                  	add	hl,sp
    6644.  02:279C  7E                  	ld	a,(hl)	;l_gint
    6645.  02:279D  23                  	inc	hl
    6646.  02:279E  66                  	ld	h,(hl)
    6647.  02:279F  6F                  	ld	l,a
    6648.  02:27A0  EB                  	ex	de,hl	;l_pint
    6649.  02:27A1  73                  	ld	(hl),e
    6650.  02:27A2  23                  	inc	hl
    6651.  02:27A3  72                  	ld	(hl),d
    6652.  02:27A4  EB                   	ex	de,hl
    6653.  02:27A5                      i_268
    6654.  02:27A5  21 0A 00            	ld	hl,10	;const
    6655.  02:27A8  39                  	add	hl,sp
    6656.  02:27A9  7E                  	ld	a,(hl)
    6657.  02:27AA  A7                  	and	a
    6658.  02:27AB  C2 B6 27            	jp	nz,i_269	;
    6659.  02:27AE  21 00 00            	ld	hl,0	;const
    6660.  02:27B1  C1                  	pop	bc
    6661.  02:27B2  C1                  	pop	bc
    6662.  02:27B3  C1                  	pop	bc
    6663.  02:27B4  C1                  	pop	bc
    6664.  02:27B5  C9                  	ret
    6665.  02:27B6                      
    6666.  02:27B6                      
    6667.  02:27B6                      i_269
    6668.  02:27B6  21 0C 00            	ld	hl,12	;const
    6669.  02:27B9  39                  	add	hl,sp
    6670.  02:27BA  E5                  	push	hl
    6671.  02:27BB  21 10 00            	ld	hl,16	;const
    6672.  02:27BE  39                  	add	hl,sp
    6673.  02:27BF  E5                  	push	hl
    6674.  02:27C0  21 00 00            	ld	hl,0	;const
    6675.  02:27C3  E5                  	push	hl
    6676.  02:27C4  CD 43 1E            	call	_mount_volume
    6677.  02:27C7  C1                  	pop	bc
    6678.  02:27C8  C1                  	pop	bc
    6679.  02:27C9  C1                  	pop	bc
    6680.  02:27CA  D1                  	pop	de
    6681.  02:27CB  C1                  	pop	bc
    6682.  02:27CC  E5                  	push	hl
    6683.  02:27CD  D5                  	push	de
    6684.  02:27CE  C1                  	pop	bc
    6685.  02:27CF  C1                  	pop	bc
    6686.  02:27D0  C1                  	pop	bc
    6687.  02:27D1  C1                  	pop	bc
    6688.  02:27D2  C9                  	ret
    6689.  02:27D3                      
    6690.  02:27D3                      
    6691.  02:27D3                      	C_LINE	3754,"./ff.c::f_mount::0::88"
    6692.  02:27D3                      
    6693.  02:27D3                      ; Function f_open flags 0x00000200 __smallc 
    6694.  02:27D3                      ; const int FRESULTf_open(struct 0__anonstruct_214_2 FIL* fp, const char TCHAR* path, unsigned char mode)
    6695.  02:27D3                      ; parameter 'unsigned char mode' at sp+2 size(1)
    6696.  02:27D3                      ; parameter 'const char TCHAR* path' at sp+4 size(2)
    6697.  02:27D3                      ; parameter 'struct 0__anonstruct_214_2 FIL* fp' at sp+6 size(2)
    6698.  02:27D3                      	C_LINE	3759,"./ff.c::f_open::0::88"
    6699.  02:27D3                      @_f_open
    6700.  02:27D3  21 D4 FF            	ld	hl,65492	;const
    6701.  02:27D6  39                  	add	hl,sp
    6702.  02:27D7  F9                  	ld	sp,hl
    6703.  02:27D8  21 32 00            	ld	hl,50	;const
    6704.  02:27DB  39                  	add	hl,sp
    6705.  02:27DC  7E                  	ld	a,(hl)	;l_gint
    6706.  02:27DD  23                  	inc	hl
    6707.  02:27DE  66                  	ld	h,(hl)
    6708.  02:27DF  6F                  	ld	l,a
    6709.  02:27E0  CD 3F 54            	call	l_lneg
    6710.  02:27E3  D2 EF 27            	jp	nc,i_270	;
    6711.  02:27E6  21 2C 00            	ld	hl,44	;const
    6712.  02:27E9  39                  	add	hl,sp
    6713.  02:27EA  F9                  	ld	sp,hl
    6714.  02:27EB  21 09 00            	ld	hl,9	;const
    6715.  02:27EE  C9                  	ret
    6716.  02:27EF                      
    6717.  02:27EF                      
    6718.  02:27EF                      i_270
    6719.  02:27EF  21 2E 00            	ld	hl,46	;const
    6720.  02:27F2  39                  	add	hl,sp
    6721.  02:27F3  E5                  	push	hl
    6722.  02:27F4  6E                  	ld	l,(hl)
    6723.  02:27F5  26 00               	ld	h,0
    6724.  02:27F7  E5                  	push	hl
    6725.  02:27F8  21 01 00            	ld	hl,1	;const
    6726.  02:27FB  7C                  	ld	a,h
    6727.  02:27FC  B5                  	or	l
    6728.  02:27FD  CA 06 28            	jp	z,i_271	;
    6729.  02:2800  21 01 00            	ld	hl,1	;const
    6730.  02:2803  C3 09 28            	jp	i_272	;
    6731.  02:2806                      i_271
    6732.  02:2806  21 3F 00            	ld	hl,63	;const
    6733.  02:2809                      i_272
    6734.  02:2809  D1                  	pop	de
    6735.  02:280A  CD 4F 54            	call	l_and
    6736.  02:280D  D1                  	pop	de
    6737.  02:280E  7D                  	ld	a,l
    6738.  02:280F  12                  	ld	(de),a
    6739.  02:2810  21 2A 00            	ld	hl,42	;const
    6740.  02:2813  39                  	add	hl,sp
    6741.  02:2814  E5                  	push	hl
    6742.  02:2815  21 32 00            	ld	hl,50	;const
    6743.  02:2818  39                  	add	hl,sp
    6744.  02:2819  E5                  	push	hl
    6745.  02:281A  21 04 00            	ld	hl,4	;const
    6746.  02:281D  39                  	add	hl,sp
    6747.  02:281E  E5                  	push	hl
    6748.  02:281F  21 34 00            	ld	hl,52	;const
    6749.  02:2822  39                  	add	hl,sp
    6750.  02:2823  6E                  	ld	l,(hl)
    6751.  02:2824  26 00               	ld	h,0
    6752.  02:2826  E5                  	push	hl
    6753.  02:2827  CD 43 1E            	call	_mount_volume
    6754.  02:282A  C1                  	pop	bc
    6755.  02:282B  C1                  	pop	bc
    6756.  02:282C  C1                  	pop	bc
    6757.  02:282D  D1                  	pop	de
    6758.  02:282E  EB                  	ex	de,hl	;l_pint
    6759.  02:282F  73                  	ld	(hl),e
    6760.  02:2830  23                  	inc	hl
    6761.  02:2831  72                  	ld	(hl),d
    6762.  02:2832  EB                   	ex	de,hl
    6763.  02:2833  21 2A 00            	ld	hl,42	;const
    6764.  02:2836  39                  	add	hl,sp
    6765.  02:2837  7E                  	ld	a,(hl)	;l_gint
    6766.  02:2838  23                  	inc	hl
    6767.  02:2839  66                  	ld	h,(hl)
    6768.  02:283A  6F                  	ld	l,a
    6769.  02:283B  B4                  	or	h
    6770.  02:283C  20 01               	jr	nz,$+3
    6771.  02:283E  37                  	scf
    6772.  02:283F  D2 77 29            	jp	nc,i_273	;
    6773.  02:2842  21 02 00            	ld	hl,2	;const
    6774.  02:2845  39                  	add	hl,sp
    6775.  02:2846  E5                  	push	hl
    6776.  02:2847  2B                  	dec	hl
    6777.  02:2848  2B                  	dec	hl
    6778.  02:2849  7E                  	ld	a,(hl)	;l_gint
    6779.  02:284A  23                  	inc	hl
    6780.  02:284B  66                  	ld	h,(hl)
    6781.  02:284C  6F                  	ld	l,a
    6782.  02:284D  D1                  	pop	de
    6783.  02:284E  EB                  	ex	de,hl	;l_pint
    6784.  02:284F  73                  	ld	(hl),e
    6785.  02:2850  23                  	inc	hl
    6786.  02:2851  72                  	ld	(hl),d
    6787.  02:2852  EB                   	ex	de,hl
    6788.  02:2853  21 2A 00            	ld	hl,42	;const
    6789.  02:2856  39                  	add	hl,sp
    6790.  02:2857  E5                  	push	hl
    6791.  02:2858  21 04 00            	ld	hl,4	;const
    6792.  02:285B  39                  	add	hl,sp
    6793.  02:285C  E5                  	push	hl
    6794.  02:285D  21 34 00            	ld	hl,52	;const
    6795.  02:2860  39                  	add	hl,sp
    6796.  02:2861  7E                  	ld	a,(hl)	;l_gint
    6797.  02:2862  23                  	inc	hl
    6798.  02:2863  66                  	ld	h,(hl)
    6799.  02:2864  6F                  	ld	l,a
    6800.  02:2865  E5                  	push	hl
    6801.  02:2866  CD 4F 17            	call	_follow_path
    6802.  02:2869  C1                  	pop	bc
    6803.  02:286A  C1                  	pop	bc
    6804.  02:286B  D1                  	pop	de
    6805.  02:286C  EB                  	ex	de,hl	;l_pint
    6806.  02:286D  73                  	ld	(hl),e
    6807.  02:286E  23                  	inc	hl
    6808.  02:286F  72                  	ld	(hl),d
    6809.  02:2870  EB                   	ex	de,hl
    6810.  02:2871  21 2A 00            	ld	hl,42	;const
    6811.  02:2874  39                  	add	hl,sp
    6812.  02:2875  7E                  	ld	a,(hl)	;l_gint
    6813.  02:2876  23                  	inc	hl
    6814.  02:2877  66                  	ld	h,(hl)
    6815.  02:2878  6F                  	ld	l,a
    6816.  02:2879  B4                  	or	h
    6817.  02:287A  20 01               	jr	nz,$+3
    6818.  02:287C  37                  	scf
    6819.  02:287D  D2 AB 28            	jp	nc,i_274	;
    6820.  02:2880  21 0D 00            	ld	hl,13	;const
    6821.  02:2883  39                  	add	hl,sp
    6822.  02:2884  3E 80               	ld	a,128
    6823.  02:2886  A6                  	and	(hl)
    6824.  02:2887  CA 96 28            	jp	z,i_275	;
    6825.  02:288A  21 2A 00            	ld	hl,42	;const
    6826.  02:288D  39                  	add	hl,sp
    6827.  02:288E  36 06               	ld	(hl),6
    6828.  02:2890  23                  	inc	hl
    6829.  02:2891  36 00               	ld	(hl),0
    6830.  02:2893  C3 AB 28            	jp	i_276	;EOS
    6831.  02:2896                      i_275
    6832.  02:2896  21 06 00            	ld	hl,6	;const
    6833.  02:2899  39                  	add	hl,sp
    6834.  02:289A  3E 10               	ld	a,16
    6835.  02:289C  A6                  	and	(hl)
    6836.  02:289D  CA AB 28            	jp	z,i_277	;
    6837.  02:28A0  21 2A 00            	ld	hl,42	;const
    6838.  02:28A3  39                  	add	hl,sp
    6839.  02:28A4  11 04 00            	ld	de,4	;const
    6840.  02:28A7  73                  	ld	(hl),e
    6841.  02:28A8  23                  	inc	hl
    6842.  02:28A9  72                  	ld	(hl),d
    6843.  02:28AA  EB                  	ex	de,hl
    6844.  02:28AB                      i_274
    6845.  02:28AB  21 2A 00            	ld	hl,42	;const
    6846.  02:28AE  39                  	add	hl,sp
    6847.  02:28AF  7E                  	ld	a,(hl)	;l_gint
    6848.  02:28B0  23                  	inc	hl
    6849.  02:28B1  66                  	ld	h,(hl)
    6850.  02:28B2  6F                  	ld	l,a
    6851.  02:28B3  B4                  	or	h
    6852.  02:28B4  20 01               	jr	nz,$+3
    6853.  02:28B6  37                  	scf
    6854.  02:28B7  D2 77 29            	jp	nc,i_278	;
    6855.  02:28BA  21 32 00            	ld	hl,50	;const
    6856.  02:28BD  39                  	add	hl,sp
    6857.  02:28BE  4E                  	ld	c,(hl)
    6858.  02:28BF  23                  	inc	hl
    6859.  02:28C0  46                  	ld	b,(hl)
    6860.  02:28C1  21 06 00            	ld	hl,6
    6861.  02:28C4  09                  	add	hl,bc
    6862.  02:28C5  E5                  	push	hl
    6863.  02:28C6  21 02 00            	ld	hl,2	;const
    6864.  02:28C9  39                  	add	hl,sp	;l_gintspsp
    6865.  02:28CA  7E                  	ld	a,(hl)
    6866.  02:28CB  23                  	inc	hl
    6867.  02:28CC  66                  	ld	h,(hl)
    6868.  02:28CD  6F                  	ld	l,a
    6869.  02:28CE  E5                  	push	hl
    6870.  02:28CF  21 20 00            	ld	hl,32	;const
    6871.  02:28D2  39                  	add	hl,sp
    6872.  02:28D3  7E                  	ld	a,(hl)	;l_gint
    6873.  02:28D4  23                  	inc	hl
    6874.  02:28D5  66                  	ld	h,(hl)
    6875.  02:28D6  6F                  	ld	l,a
    6876.  02:28D7  E5                  	push	hl
    6877.  02:28D8  CD 6D 0E            	call	_ld_clust
    6878.  02:28DB  C1                  	pop	bc
    6879.  02:28DC  C1                  	pop	bc
    6880.  02:28DD  C1                  	pop	bc
    6881.  02:28DE  CD C3 54            	call	l_plong
    6882.  02:28E1  21 32 00            	ld	hl,50	;const
    6883.  02:28E4  39                  	add	hl,sp
    6884.  02:28E5  4E                  	ld	c,(hl)
    6885.  02:28E6  23                  	inc	hl
    6886.  02:28E7  46                  	ld	b,(hl)
    6887.  02:28E8  21 0A 00            	ld	hl,10
    6888.  02:28EB  09                  	add	hl,bc
    6889.  02:28EC  E5                  	push	hl
    6890.  02:28ED  21 1E 00            	ld	hl,30	;const
    6891.  02:28F0  39                  	add	hl,sp
    6892.  02:28F1  4E                  	ld	c,(hl)
    6893.  02:28F2  23                  	inc	hl
    6894.  02:28F3  46                  	ld	b,(hl)
    6895.  02:28F4  21 1C 00            	ld	hl,28
    6896.  02:28F7  09                  	add	hl,bc
    6897.  02:28F8  E5                  	push	hl
    6898.  02:28F9  CD A3 04            	call	_ld_dword
    6899.  02:28FC  C1                  	pop	bc
    6900.  02:28FD  C1                  	pop	bc
    6901.  02:28FE  CD C3 54            	call	l_plong
    6902.  02:2901  21 32 00            	ld	hl,50	;const
    6903.  02:2904  39                  	add	hl,sp	;l_gintspsp
    6904.  02:2905  7E                  	ld	a,(hl)
    6905.  02:2906  23                  	inc	hl
    6906.  02:2907  66                  	ld	h,(hl)
    6907.  02:2908  6F                  	ld	l,a
    6908.  02:2909  E5                  	push	hl
    6909.  02:290A  C1                  	pop	bc
    6910.  02:290B  E1                  	pop	hl
    6911.  02:290C  E5                  	push	hl
    6912.  02:290D  C5                  	push	bc
    6913.  02:290E  D1                  	pop	de
    6914.  02:290F  EB                  	ex	de,hl	;l_pint
    6915.  02:2910  73                  	ld	(hl),e
    6916.  02:2911  23                  	inc	hl
    6917.  02:2912  72                  	ld	(hl),d
    6918.  02:2913  EB                   	ex	de,hl
    6919.  02:2914  21 32 00            	ld	hl,50	;const
    6920.  02:2917  39                  	add	hl,sp
    6921.  02:2918  7E                  	ld	a,(hl)	;l_gint
    6922.  02:2919  23                  	inc	hl
    6923.  02:291A  66                  	ld	h,(hl)
    6924.  02:291B  6F                  	ld	l,a
    6925.  02:291C  23                  	inc	hl
    6926.  02:291D  23                  	inc	hl
    6927.  02:291E  D1                  	pop	de
    6928.  02:291F  D5                  	push	de
    6929.  02:2920  E5                  	push	hl
    6930.  02:2921  EB                  	ex	de,hl
    6931.  02:2922  01 06 00            	ld	bc,6
    6932.  02:2925  09                  	add	hl,bc
    6933.  02:2926  7E                  	ld	a,(hl)	;l_gint
    6934.  02:2927  23                  	inc	hl
    6935.  02:2928  66                  	ld	h,(hl)
    6936.  02:2929  6F                  	ld	l,a
    6937.  02:292A  D1                  	pop	de
    6938.  02:292B  EB                  	ex	de,hl	;l_pint
    6939.  02:292C  73                  	ld	(hl),e
    6940.  02:292D  23                  	inc	hl
    6941.  02:292E  72                  	ld	(hl),d
    6942.  02:292F  EB                   	ex	de,hl
    6943.  02:2930  21 32 00            	ld	hl,50	;const
    6944.  02:2933  39                  	add	hl,sp
    6945.  02:2934  4E                  	ld	c,(hl)
    6946.  02:2935  23                  	inc	hl
    6947.  02:2936  46                  	ld	b,(hl)
    6948.  02:2937  21 0E 00            	ld	hl,14
    6949.  02:293A  09                  	add	hl,bc
    6950.  02:293B  EB                  	ex	de,hl
    6951.  02:293C  21 2E 00            	ld	hl,46	;const
    6952.  02:293F  39                  	add	hl,sp
    6953.  02:2940  7E                  	ld	a,(hl)
    6954.  02:2941  12                  	ld	(de),a
    6955.  02:2942  21 32 00            	ld	hl,50	;const
    6956.  02:2945  39                  	add	hl,sp
    6957.  02:2946  4E                  	ld	c,(hl)
    6958.  02:2947  23                  	inc	hl
    6959.  02:2948  46                  	ld	b,(hl)
    6960.  02:2949  21 0F 00            	ld	hl,15
    6961.  02:294C  09                  	add	hl,bc
    6962.  02:294D  36 00               	ld	(hl),0
    6963.  02:294F  21 32 00            	ld	hl,50	;const
    6964.  02:2952  39                  	add	hl,sp
    6965.  02:2953  4E                  	ld	c,(hl)
    6966.  02:2954  23                  	inc	hl
    6967.  02:2955  46                  	ld	b,(hl)
    6968.  02:2956  21 18 00            	ld	hl,24
    6969.  02:2959  09                  	add	hl,bc
    6970.  02:295A  AF                  	xor	a
    6971.  02:295B  77                  	ld	(hl),a
    6972.  02:295C  23                  	inc	hl
    6973.  02:295D  77                  	ld	(hl),a
    6974.  02:295E  23                  	inc	hl
    6975.  02:295F  77                  	ld	(hl),a
    6976.  02:2960  23                  	inc	hl
    6977.  02:2961  77                  	ld	(hl),a
    6978.  02:2962  21 32 00            	ld	hl,50	;const
    6979.  02:2965  39                  	add	hl,sp
    6980.  02:2966  4E                  	ld	c,(hl)
    6981.  02:2967  23                  	inc	hl
    6982.  02:2968  46                  	ld	b,(hl)
    6983.  02:2969  21 10 00            	ld	hl,16
    6984.  02:296C  09                  	add	hl,bc
    6985.  02:296D  E5                  	push	hl
    6986.  02:296E  21 00 00            	ld	hl,0	;const
    6987.  02:2971  54                  	ld	d,h
    6988.  02:2972  5D                  	ld	e,l
    6989.  02:2973  C1                  	pop	bc
    6990.  02:2974  CD C3 54            	call	l_plong
    6991.  02:2977                      i_273
    6992.  02:2977  21 2A 00            	ld	hl,42	;const
    6993.  02:297A  39                  	add	hl,sp
    6994.  02:297B  7E                  	ld	a,(hl)	;l_gint
    6995.  02:297C  23                  	inc	hl
    6996.  02:297D  66                  	ld	h,(hl)
    6997.  02:297E  6F                  	ld	l,a
    6998.  02:297F  B4                  	or	h
    6999.  02:2980  CA 92 29            	jp	z,i_279	;
    7000.  02:2983  21 32 00            	ld	hl,50	;const
    7001.  02:2986  39                  	add	hl,sp
    7002.  02:2987  5E                  	ld	e,(hl)
    7003.  02:2988  23                  	inc	hl
    7004.  02:2989  56                  	ld	d,(hl)
    7005.  02:298A  21 00 00            	ld	hl,0	;const
    7006.  02:298D  EB                  	ex	de,hl	;l_pint
    7007.  02:298E  73                  	ld	(hl),e
    7008.  02:298F  23                  	inc	hl
    7009.  02:2990  72                  	ld	(hl),d
    7010.  02:2991  EB                   	ex	de,hl
    7011.  02:2992                      i_279
    7012.  02:2992  21 2A 00            	ld	hl,42	;const
    7013.  02:2995  39                  	add	hl,sp
    7014.  02:2996  7E                  	ld	a,(hl)	;l_gint
    7015.  02:2997  23                  	inc	hl
    7016.  02:2998  66                  	ld	h,(hl)
    7017.  02:2999  6F                  	ld	l,a
    7018.  02:299A  D9                  	exx
    7019.  02:299B  21 2C 00            	ld	hl,44	;const
    7020.  02:299E  39                  	add	hl,sp
    7021.  02:299F  F9                  	ld	sp,hl
    7022.  02:29A0  D9                  	exx
    7023.  02:29A1  C9                  	ret
    7024.  02:29A2                      
    7025.  02:29A2                      
    7026.  02:29A2                      	C_LINE	3951,"./ff.c::f_open::0::96"
    7027.  02:29A2                      
    7028.  02:29A2                      ; Function f_read flags 0x00000200 __smallc 
    7029.  02:29A2                      ; const int FRESULTf_read(struct 0__anonstruct_214_2 FIL* fp, void * buff, unsigned int btr, unsigned int UINT* br)
    7030.  02:29A2                      ; parameter 'unsigned int UINT* br' at sp+2 size(2)
    7031.  02:29A2                      ; parameter 'unsigned int btr' at sp+4 size(2)
    7032.  02:29A2                      ; parameter 'void * buff' at sp+6 size(2)
    7033.  02:29A2                      ; parameter 'struct 0__anonstruct_214_2 FIL* fp' at sp+8 size(2)
    7034.  02:29A2                      	C_LINE	3957,"./ff.c::f_read::0::96"
    7035.  02:29A2                      @_f_read
    7036.  02:29A2  21 EA FF            	ld	hl,65514	;const
    7037.  02:29A5  39                  	add	hl,sp
    7038.  02:29A6  F9                  	ld	sp,hl
    7039.  02:29A7  21 1C 00            	ld	hl,28	;const
    7040.  02:29AA  39                  	add	hl,sp	;l_gintspsp
    7041.  02:29AB  7E                  	ld	a,(hl)
    7042.  02:29AC  23                  	inc	hl
    7043.  02:29AD  66                  	ld	h,(hl)
    7044.  02:29AE  6F                  	ld	l,a
    7045.  02:29AF  E5                  	push	hl
    7046.  02:29B0  21 1A 00            	ld	hl,26	;const
    7047.  02:29B3  39                  	add	hl,sp
    7048.  02:29B4  7E                  	ld	a,(hl)
    7049.  02:29B5  23                  	inc	hl
    7050.  02:29B6  66                  	ld	h,(hl)
    7051.  02:29B7  6F                  	ld	l,a
    7052.  02:29B8  AF                  	xor	a
    7053.  02:29B9  77                  	ld	(hl),a
    7054.  02:29BA  23                  	inc	hl
    7055.  02:29BB  77                  	ld	(hl),a
    7056.  02:29BC  21 16 00            	ld	hl,22	;const
    7057.  02:29BF  39                  	add	hl,sp
    7058.  02:29C0  E5                  	push	hl
    7059.  02:29C1  21 22 00            	ld	hl,34	;const
    7060.  02:29C4  39                  	add	hl,sp	;l_gintspsp
    7061.  02:29C5  7E                  	ld	a,(hl)
    7062.  02:29C6  23                  	inc	hl
    7063.  02:29C7  66                  	ld	h,(hl)
    7064.  02:29C8  6F                  	ld	l,a
    7065.  02:29C9  E5                  	push	hl
    7066.  02:29CA  21 18 00            	ld	hl,24	;const
    7067.  02:29CD  39                  	add	hl,sp
    7068.  02:29CE  E5                  	push	hl
    7069.  02:29CF  CD 3D 26            	call	_validate
    7070.  02:29D2  C1                  	pop	bc
    7071.  02:29D3  C1                  	pop	bc
    7072.  02:29D4  D1                  	pop	de
    7073.  02:29D5  EB                  	ex	de,hl	;l_pint
    7074.  02:29D6  73                  	ld	(hl),e
    7075.  02:29D7  23                  	inc	hl
    7076.  02:29D8  72                  	ld	(hl),d
    7077.  02:29D9  EB                   	ex	de,hl
    7078.  02:29DA  21 16 00            	ld	hl,22	;const
    7079.  02:29DD  39                  	add	hl,sp
    7080.  02:29DE  7E                  	ld	a,(hl)	;l_gint
    7081.  02:29DF  23                  	inc	hl
    7082.  02:29E0  66                  	ld	h,(hl)
    7083.  02:29E1  6F                  	ld	l,a
    7084.  02:29E2  B4                  	or	h
    7085.  02:29E3  28 01               	jr	z,$+3
    7086.  02:29E5  37                  	scf
    7087.  02:29E6  DA 07 2A            	jp	c,i_281	;
    7088.  02:29E9  21 16 00            	ld	hl,22	;const
    7089.  02:29EC  39                  	add	hl,sp
    7090.  02:29ED  E5                  	push	hl
    7091.  02:29EE  21 22 00            	ld	hl,34	;const
    7092.  02:29F1  39                  	add	hl,sp
    7093.  02:29F2  4E                  	ld	c,(hl)
    7094.  02:29F3  23                  	inc	hl
    7095.  02:29F4  46                  	ld	b,(hl)
    7096.  02:29F5  21 0F 00            	ld	hl,15
    7097.  02:29F8  09                  	add	hl,bc
    7098.  02:29F9  6E                  	ld	l,(hl)
    7099.  02:29FA  26 00               	ld	h,0
    7100.  02:29FC  D1                  	pop	de
    7101.  02:29FD  EB                  	ex	de,hl	;l_pint
    7102.  02:29FE  73                  	ld	(hl),e
    7103.  02:29FF  23                  	inc	hl
    7104.  02:2A00  72                  	ld	(hl),d
    7105.  02:2A01  EB                   	ex	de,hl
    7106.  02:2A02  7C                  	ld	a,h
    7107.  02:2A03  B5                  	or	l
    7108.  02:2A04  CA 17 2A            	jp	z,i_280	;
    7109.  02:2A07                      i_281
    7110.  02:2A07  21 16 00            	ld	hl,22	;const
    7111.  02:2A0A  39                  	add	hl,sp
    7112.  02:2A0B  7E                  	ld	a,(hl)	;l_gint
    7113.  02:2A0C  23                  	inc	hl
    7114.  02:2A0D  66                  	ld	h,(hl)
    7115.  02:2A0E  6F                  	ld	l,a
    7116.  02:2A0F  D9                  	exx
    7117.  02:2A10  21 18 00            	ld	hl,24	;const
    7118.  02:2A13  39                  	add	hl,sp
    7119.  02:2A14  F9                  	ld	sp,hl
    7120.  02:2A15  D9                  	exx
    7121.  02:2A16  C9                  	ret
    7122.  02:2A17                      
    7123.  02:2A17                      
    7124.  02:2A17                      i_280
    7125.  02:2A17  21 20 00            	ld	hl,32	;const
    7126.  02:2A1A  39                  	add	hl,sp
    7127.  02:2A1B  4E                  	ld	c,(hl)
    7128.  02:2A1C  23                  	inc	hl
    7129.  02:2A1D  46                  	ld	b,(hl)
    7130.  02:2A1E  21 0E 00            	ld	hl,14
    7131.  02:2A21  09                  	add	hl,bc
    7132.  02:2A22  CB 46               	bit	0,(hl)
    7133.  02:2A24  C2 30 2A            	jp	nz,i_283	;
    7134.  02:2A27  21 18 00            	ld	hl,24	;const
    7135.  02:2A2A  39                  	add	hl,sp
    7136.  02:2A2B  F9                  	ld	sp,hl
    7137.  02:2A2C  21 07 00            	ld	hl,7	;const
    7138.  02:2A2F  C9                  	ret
    7139.  02:2A30                      
    7140.  02:2A30                      
    7141.  02:2A30                      i_283
    7142.  02:2A30  21 08 00            	ld	hl,8	;const
    7143.  02:2A33  39                  	add	hl,sp
    7144.  02:2A34  E5                  	push	hl
    7145.  02:2A35  21 22 00            	ld	hl,34	;const
    7146.  02:2A38  39                  	add	hl,sp
    7147.  02:2A39  4E                  	ld	c,(hl)
    7148.  02:2A3A  23                  	inc	hl
    7149.  02:2A3B  46                  	ld	b,(hl)
    7150.  02:2A3C  21 0A 00            	ld	hl,10
    7151.  02:2A3F  09                  	add	hl,bc
    7152.  02:2A40  CD CF 54            	call	l_glong2sp
    7153.  02:2A43  21 26 00            	ld	hl,38	;const
    7154.  02:2A46  39                  	add	hl,sp
    7155.  02:2A47  4E                  	ld	c,(hl)
    7156.  02:2A48  23                  	inc	hl
    7157.  02:2A49  46                  	ld	b,(hl)
    7158.  02:2A4A  21 10 00            	ld	hl,16
    7159.  02:2A4D  09                  	add	hl,bc
    7160.  02:2A4E  CD DE 54            	call	l_glong
    7161.  02:2A51  4D                  	ld	c,l
    7162.  02:2A52  44                  	ld	b,h
    7163.  02:2A53  E1                  	pop	hl
    7164.  02:2A54  A7                  	and	a
    7165.  02:2A55  ED 42               	sbc	hl,bc
    7166.  02:2A57  EB                  	ex	de,hl
    7167.  02:2A58  4D                  	ld	c,l
    7168.  02:2A59  44                  	ld	b,h
    7169.  02:2A5A  E1                  	pop	hl
    7170.  02:2A5B  ED 42               	sbc	hl,bc
    7171.  02:2A5D  EB                  	ex	de,hl
    7172.  02:2A5E  C1                  	pop	bc
    7173.  02:2A5F  CD C3 54            	call	l_plong
    7174.  02:2A62  21 1C 00            	ld	hl,28	;const
    7175.  02:2A65  39                  	add	hl,sp	;l_gintspsp
    7176.  02:2A66  7E                  	ld	a,(hl)
    7177.  02:2A67  23                  	inc	hl
    7178.  02:2A68  66                  	ld	h,(hl)
    7179.  02:2A69  6F                  	ld	l,a
    7180.  02:2A6A  E5                  	push	hl
    7181.  02:2A6B  21 0A 00            	ld	hl,10	;const
    7182.  02:2A6E  39                  	add	hl,sp
    7183.  02:2A6F  CD DE 54            	call	l_glong
    7184.  02:2A72  D9                  	exx
    7185.  02:2A73  E1                  	pop	hl
    7186.  02:2A74  11 00 00            	ld	de,0
    7187.  02:2A77  D5                  	push	de
    7188.  02:2A78  E5                  	push	hl
    7189.  02:2A79  D9                  	exx
    7190.  02:2A7A  CD E8 54            	call	l_long_ugt
    7191.  02:2A7D  D2 FC 2A            	jp	nc,i_284	;
    7192.  02:2A80  21 1C 00            	ld	hl,28	;const
    7193.  02:2A83  39                  	add	hl,sp
    7194.  02:2A84  E5                  	push	hl
    7195.  02:2A85  21 0A 00            	ld	hl,10	;const
    7196.  02:2A88  39                  	add	hl,sp
    7197.  02:2A89  CD DE 54            	call	l_glong
    7198.  02:2A8C  D1                  	pop	de
    7199.  02:2A8D  EB                  	ex	de,hl	;l_pint
    7200.  02:2A8E  73                  	ld	(hl),e
    7201.  02:2A8F  23                  	inc	hl
    7202.  02:2A90  72                  	ld	(hl),d
    7203.  02:2A91  EB                   	ex	de,hl
    7204.  02:2A92  C3 FC 2A            	jp	i_287	;EOS
    7205.  02:2A95                      i_285
    7206.  02:2A95  21 1C 00            	ld	hl,28	;const
    7207.  02:2A98  39                  	add	hl,sp
    7208.  02:2A99  E5                  	push	hl
    7209.  02:2A9A  5E                  	ld	e,(hl)
    7210.  02:2A9B  23                  	inc	hl
    7211.  02:2A9C  56                  	ld	d,(hl)
    7212.  02:2A9D  21 08 00            	ld	hl,8	;const
    7213.  02:2AA0  39                  	add	hl,sp
    7214.  02:2AA1  7E                  	ld	a,(hl)	;l_gint
    7215.  02:2AA2  23                  	inc	hl
    7216.  02:2AA3  66                  	ld	h,(hl)
    7217.  02:2AA4  6F                  	ld	l,a
    7218.  02:2AA5  EB                  	ex	de,hl
    7219.  02:2AA6  A7                  	and	a
    7220.  02:2AA7  ED 52               	sbc	hl,de
    7221.  02:2AA9  D1                  	pop	de
    7222.  02:2AAA  EB                  	ex	de,hl	;l_pint
    7223.  02:2AAB  73                  	ld	(hl),e
    7224.  02:2AAC  23                  	inc	hl
    7225.  02:2AAD  72                  	ld	(hl),d
    7226.  02:2AAE  EB                   	ex	de,hl
    7227.  02:2AAF  21 1A 00            	ld	hl,26	;const
    7228.  02:2AB2  39                  	add	hl,sp
    7229.  02:2AB3  7E                  	ld	a,(hl)	;l_gint
    7230.  02:2AB4  23                  	inc	hl
    7231.  02:2AB5  66                  	ld	h,(hl)
    7232.  02:2AB6  6F                  	ld	l,a
    7233.  02:2AB7  E5                  	push	hl
    7234.  02:2AB8  5E                  	ld	e,(hl)
    7235.  02:2AB9  23                  	inc	hl
    7236.  02:2ABA  56                  	ld	d,(hl)
    7237.  02:2ABB  21 08 00            	ld	hl,8	;const
    7238.  02:2ABE  39                  	add	hl,sp
    7239.  02:2ABF  7E                  	ld	a,(hl)	;l_gint
    7240.  02:2AC0  23                  	inc	hl
    7241.  02:2AC1  66                  	ld	h,(hl)
    7242.  02:2AC2  6F                  	ld	l,a
    7243.  02:2AC3  19                  	add	hl,de
    7244.  02:2AC4  D1                  	pop	de
    7245.  02:2AC5  EB                  	ex	de,hl	;l_pint
    7246.  02:2AC6  73                  	ld	(hl),e
    7247.  02:2AC7  23                  	inc	hl
    7248.  02:2AC8  72                  	ld	(hl),d
    7249.  02:2AC9  EB                   	ex	de,hl
    7250.  02:2ACA  D1                  	pop	de
    7251.  02:2ACB  D5                  	push	de
    7252.  02:2ACC  21 06 00            	ld	hl,6	;const
    7253.  02:2ACF  39                  	add	hl,sp
    7254.  02:2AD0  7E                  	ld	a,(hl)	;l_gint
    7255.  02:2AD1  23                  	inc	hl
    7256.  02:2AD2  66                  	ld	h,(hl)
    7257.  02:2AD3  6F                  	ld	l,a
    7258.  02:2AD4  19                  	add	hl,de
    7259.  02:2AD5  C1                  	pop	bc
    7260.  02:2AD6  E5                  	push	hl
    7261.  02:2AD7  21 20 00            	ld	hl,32	;const
    7262.  02:2ADA  39                  	add	hl,sp
    7263.  02:2ADB  4E                  	ld	c,(hl)
    7264.  02:2ADC  23                  	inc	hl
    7265.  02:2ADD  46                  	ld	b,(hl)
    7266.  02:2ADE  21 10 00            	ld	hl,16
    7267.  02:2AE1  09                  	add	hl,bc
    7268.  02:2AE2  E5                  	push	hl
    7269.  02:2AE3  CD CF 54            	call	l_glong2sp
    7270.  02:2AE6  21 0C 00            	ld	hl,12	;const
    7271.  02:2AE9  39                  	add	hl,sp
    7272.  02:2AEA  7E                  	ld	a,(hl)	;l_gint
    7273.  02:2AEB  23                  	inc	hl
    7274.  02:2AEC  66                  	ld	h,(hl)
    7275.  02:2AED  6F                  	ld	l,a
    7276.  02:2AEE  11 00 00            	ld	de,0
    7277.  02:2AF1  C1                  	pop	bc
    7278.  02:2AF2  09                  	add	hl,bc
    7279.  02:2AF3  EB                  	ex	de,hl
    7280.  02:2AF4  C1                  	pop	bc
    7281.  02:2AF5  ED 4A               	adc	hl,bc
    7282.  02:2AF7  EB                  	ex	de,hl
    7283.  02:2AF8  C1                  	pop	bc
    7284.  02:2AF9  CD C3 54            	call	l_plong
    7285.  02:2AFC                      i_287
    7286.  02:2AFC  21 1C 00            	ld	hl,28	;const
    7287.  02:2AFF  39                  	add	hl,sp
    7288.  02:2B00  7E                  	ld	a,(hl)	;l_gint
    7289.  02:2B01  23                  	inc	hl
    7290.  02:2B02  66                  	ld	h,(hl)
    7291.  02:2B03  6F                  	ld	l,a
    7292.  02:2B04  B4                  	or	h
    7293.  02:2B05  CA 4C 2E            	jp	z,i_286	;
    7294.  02:2B08  21 20 00            	ld	hl,32	;const
    7295.  02:2B0B  39                  	add	hl,sp
    7296.  02:2B0C  4E                  	ld	c,(hl)
    7297.  02:2B0D  23                  	inc	hl
    7298.  02:2B0E  46                  	ld	b,(hl)
    7299.  02:2B0F  21 10 00            	ld	hl,16
    7300.  02:2B12  09                  	add	hl,bc
    7301.  02:2B13  CD CF 54            	call	l_glong2sp
    7302.  02:2B16  21 00 02            	ld	hl,512	;const
    7303.  02:2B19  11 00 00            	ld	de,0
    7304.  02:2B1C  CD F8 55            	call	l_long_mod_u
    7305.  02:2B1F  7A                  	ld	a,d
    7306.  02:2B20  B3                  	or	e
    7307.  02:2B21  B4                  	or	h
    7308.  02:2B22  B5                  	or	l
    7309.  02:2B23  20 01               	jr	nz,$+3
    7310.  02:2B25  37                  	scf
    7311.  02:2B26  D2 77 2D            	jp	nc,i_288	;
    7312.  02:2B29  21 20 00            	ld	hl,32	;const
    7313.  02:2B2C  39                  	add	hl,sp
    7314.  02:2B2D  4E                  	ld	c,(hl)
    7315.  02:2B2E  23                  	inc	hl
    7316.  02:2B2F  46                  	ld	b,(hl)
    7317.  02:2B30  21 10 00            	ld	hl,16
    7318.  02:2B33  09                  	add	hl,bc
    7319.  02:2B34  CD CF 54            	call	l_glong2sp
    7320.  02:2B37  21 00 02            	ld	hl,512	;const
    7321.  02:2B3A  11 00 00            	ld	de,0
    7322.  02:2B3D  CD FB 55            	call	l_long_div_u
    7323.  02:2B40  D5                  	push	de
    7324.  02:2B41  E5                  	push	hl
    7325.  02:2B42  21 18 00            	ld	hl,24	;const
    7326.  02:2B45  39                  	add	hl,sp
    7327.  02:2B46  4E                  	ld	c,(hl)
    7328.  02:2B47  23                  	inc	hl
    7329.  02:2B48  46                  	ld	b,(hl)
    7330.  02:2B49  21 0A 00            	ld	hl,10
    7331.  02:2B4C  09                  	add	hl,bc
    7332.  02:2B4D  7E                  	ld	a,(hl)	;l_gint
    7333.  02:2B4E  23                  	inc	hl
    7334.  02:2B4F  66                  	ld	h,(hl)
    7335.  02:2B50  6F                  	ld	l,a
    7336.  02:2B51  2B                  	dec	hl
    7337.  02:2B52  11 00 00            	ld	de,0
    7338.  02:2B55  CD 9E 56            	call	l_long_and
    7339.  02:2B58  D1                  	pop	de
    7340.  02:2B59  C1                  	pop	bc
    7341.  02:2B5A  E5                  	push	hl
    7342.  02:2B5B  D5                  	push	de
    7343.  02:2B5C  7C                  	ld	a,h
    7344.  02:2B5D  B5                  	or	l
    7345.  02:2B5E  20 01               	jr	nz,$+3
    7346.  02:2B60  37                  	scf
    7347.  02:2B61  D2 23 2C            	jp	nc,i_289	;
    7348.  02:2B64  21 20 00            	ld	hl,32	;const
    7349.  02:2B67  39                  	add	hl,sp
    7350.  02:2B68  4E                  	ld	c,(hl)
    7351.  02:2B69  23                  	inc	hl
    7352.  02:2B6A  46                  	ld	b,(hl)
    7353.  02:2B6B  21 10 00            	ld	hl,16
    7354.  02:2B6E  09                  	add	hl,bc
    7355.  02:2B6F  CD DE 54            	call	l_glong
    7356.  02:2B72  7A                  	ld	a,d
    7357.  02:2B73  B3                  	or	e
    7358.  02:2B74  B4                  	or	h
    7359.  02:2B75  B5                  	or	l
    7360.  02:2B76  20 01               	jr	nz,$+3
    7361.  02:2B78  37                  	scf
    7362.  02:2B79  D2 96 2B            	jp	nc,i_290	;
    7363.  02:2B7C  21 10 00            	ld	hl,16	;const
    7364.  02:2B7F  39                  	add	hl,sp
    7365.  02:2B80  E5                  	push	hl
    7366.  02:2B81  21 22 00            	ld	hl,34	;const
    7367.  02:2B84  39                  	add	hl,sp
    7368.  02:2B85  4E                  	ld	c,(hl)
    7369.  02:2B86  23                  	inc	hl
    7370.  02:2B87  46                  	ld	b,(hl)
    7371.  02:2B88  21 06 00            	ld	hl,6
    7372.  02:2B8B  09                  	add	hl,bc
    7373.  02:2B8C  CD DE 54            	call	l_glong
    7374.  02:2B8F  C1                  	pop	bc
    7375.  02:2B90  CD C3 54            	call	l_plong
    7376.  02:2B93  C3 B7 2B            	jp	i_291	;EOS
    7377.  02:2B96                      i_290
    7378.  02:2B96  21 10 00            	ld	hl,16	;const
    7379.  02:2B99  39                  	add	hl,sp
    7380.  02:2B9A  E5                  	push	hl
    7381.  02:2B9B  21 22 00            	ld	hl,34	;const
    7382.  02:2B9E  39                  	add	hl,sp
    7383.  02:2B9F  7E                  	ld	a,(hl)	;l_gint
    7384.  02:2BA0  23                  	inc	hl
    7385.  02:2BA1  66                  	ld	h,(hl)
    7386.  02:2BA2  6F                  	ld	l,a
    7387.  02:2BA3  E5                  	push	hl
    7388.  02:2BA4  01 14 00            	ld	bc,20
    7389.  02:2BA7  09                  	add	hl,bc
    7390.  02:2BA8  CD DE 54            	call	l_glong
    7391.  02:2BAB  D5                  	push	de
    7392.  02:2BAC  E5                  	push	hl
    7393.  02:2BAD  CD 49 06            	call	_get_fat
    7394.  02:2BB0  C1                  	pop	bc
    7395.  02:2BB1  C1                  	pop	bc
    7396.  02:2BB2  C1                  	pop	bc
    7397.  02:2BB3  C1                  	pop	bc
    7398.  02:2BB4  CD C3 54            	call	l_plong
    7399.  02:2BB7                      i_291
    7400.  02:2BB7  21 10 00            	ld	hl,16	;const
    7401.  02:2BBA  39                  	add	hl,sp
    7402.  02:2BBB  CD DE 54            	call	l_glong
    7403.  02:2BBE  7D                  	ld	a,l
    7404.  02:2BBF  D6 02               	sub	2
    7405.  02:2BC1  7C                  	ld	a,h
    7406.  02:2BC2  DE 00               	sbc	0
    7407.  02:2BC4  7B                  	ld	a,e
    7408.  02:2BC5  DE 00               	sbc	0
    7409.  02:2BC7  7A                  	ld	a,d
    7410.  02:2BC8  DE 00               	sbc	0
    7411.  02:2BCA  D2 E3 2B            	jp	nc,i_292	;
    7412.  02:2BCD  21 20 00            	ld	hl,32	;const
    7413.  02:2BD0  39                  	add	hl,sp
    7414.  02:2BD1  4E                  	ld	c,(hl)
    7415.  02:2BD2  23                  	inc	hl
    7416.  02:2BD3  46                  	ld	b,(hl)
    7417.  02:2BD4  21 0F 00            	ld	hl,15
    7418.  02:2BD7  09                  	add	hl,bc
    7419.  02:2BD8  36 02               	ld	(hl),2
    7420.  02:2BDA  21 18 00            	ld	hl,24	;const
    7421.  02:2BDD  39                  	add	hl,sp
    7422.  02:2BDE  F9                  	ld	sp,hl
    7423.  02:2BDF  21 02 00            	ld	hl,2	;const
    7424.  02:2BE2  C9                  	ret
    7425.  02:2BE3                      
    7426.  02:2BE3                      
    7427.  02:2BE3                      i_292
    7428.  02:2BE3  21 10 00            	ld	hl,16	;const
    7429.  02:2BE6  39                  	add	hl,sp
    7430.  02:2BE7  CD CF 54            	call	l_glong2sp
    7431.  02:2BEA  21 FF FF            	ld	hl,65535	;const
    7432.  02:2BED  11 FF FF            	ld	de,65535
    7433.  02:2BF0  CD 6F 56            	call	l_long_eq
    7434.  02:2BF3  D2 0C 2C            	jp	nc,i_293	;
    7435.  02:2BF6  21 20 00            	ld	hl,32	;const
    7436.  02:2BF9  39                  	add	hl,sp
    7437.  02:2BFA  4E                  	ld	c,(hl)
    7438.  02:2BFB  23                  	inc	hl
    7439.  02:2BFC  46                  	ld	b,(hl)
    7440.  02:2BFD  21 0F 00            	ld	hl,15
    7441.  02:2C00  09                  	add	hl,bc
    7442.  02:2C01  36 01               	ld	(hl),1
    7443.  02:2C03  21 18 00            	ld	hl,24	;const
    7444.  02:2C06  39                  	add	hl,sp
    7445.  02:2C07  F9                  	ld	sp,hl
    7446.  02:2C08  21 01 00            	ld	hl,1	;const
    7447.  02:2C0B  C9                  	ret
    7448.  02:2C0C                      
    7449.  02:2C0C                      
    7450.  02:2C0C                      i_293
    7451.  02:2C0C  21 20 00            	ld	hl,32	;const
    7452.  02:2C0F  39                  	add	hl,sp
    7453.  02:2C10  4E                  	ld	c,(hl)
    7454.  02:2C11  23                  	inc	hl
    7455.  02:2C12  46                  	ld	b,(hl)
    7456.  02:2C13  21 14 00            	ld	hl,20
    7457.  02:2C16  09                  	add	hl,bc
    7458.  02:2C17  E5                  	push	hl
    7459.  02:2C18  21 12 00            	ld	hl,18	;const
    7460.  02:2C1B  39                  	add	hl,sp
    7461.  02:2C1C  CD DE 54            	call	l_glong
    7462.  02:2C1F  C1                  	pop	bc
    7463.  02:2C20  CD C3 54            	call	l_plong
    7464.  02:2C23                      i_289
    7465.  02:2C23  21 0C 00            	ld	hl,12	;const
    7466.  02:2C26  39                  	add	hl,sp
    7467.  02:2C27  E5                  	push	hl
    7468.  02:2C28  21 16 00            	ld	hl,22	;const
    7469.  02:2C2B  39                  	add	hl,sp	;l_gintspsp
    7470.  02:2C2C  7E                  	ld	a,(hl)
    7471.  02:2C2D  23                  	inc	hl
    7472.  02:2C2E  66                  	ld	h,(hl)
    7473.  02:2C2F  6F                  	ld	l,a
    7474.  02:2C30  E5                  	push	hl
    7475.  02:2C31  21 24 00            	ld	hl,36	;const
    7476.  02:2C34  39                  	add	hl,sp
    7477.  02:2C35  4E                  	ld	c,(hl)
    7478.  02:2C36  23                  	inc	hl
    7479.  02:2C37  46                  	ld	b,(hl)
    7480.  02:2C38  21 14 00            	ld	hl,20
    7481.  02:2C3B  09                  	add	hl,bc
    7482.  02:2C3C  CD DE 54            	call	l_glong
    7483.  02:2C3F  D5                  	push	de
    7484.  02:2C40  E5                  	push	hl
    7485.  02:2C41  CD DA 05            	call	_clst2sect
    7486.  02:2C44  C1                  	pop	bc
    7487.  02:2C45  C1                  	pop	bc
    7488.  02:2C46  C1                  	pop	bc
    7489.  02:2C47  C1                  	pop	bc
    7490.  02:2C48  CD C3 54            	call	l_plong
    7491.  02:2C4B  21 0C 00            	ld	hl,12	;const
    7492.  02:2C4E  39                  	add	hl,sp
    7493.  02:2C4F  CD DE 54            	call	l_glong
    7494.  02:2C52  7A                  	ld	a,d
    7495.  02:2C53  B3                  	or	e
    7496.  02:2C54  B4                  	or	h
    7497.  02:2C55  B5                  	or	l
    7498.  02:2C56  20 01               	jr	nz,$+3
    7499.  02:2C58  37                  	scf
    7500.  02:2C59  D2 72 2C            	jp	nc,i_294	;
    7501.  02:2C5C  21 20 00            	ld	hl,32	;const
    7502.  02:2C5F  39                  	add	hl,sp
    7503.  02:2C60  4E                  	ld	c,(hl)
    7504.  02:2C61  23                  	inc	hl
    7505.  02:2C62  46                  	ld	b,(hl)
    7506.  02:2C63  21 0F 00            	ld	hl,15
    7507.  02:2C66  09                  	add	hl,bc
    7508.  02:2C67  36 02               	ld	(hl),2
    7509.  02:2C69  21 18 00            	ld	hl,24	;const
    7510.  02:2C6C  39                  	add	hl,sp
    7511.  02:2C6D  F9                  	ld	sp,hl
    7512.  02:2C6E  21 02 00            	ld	hl,2	;const
    7513.  02:2C71  C9                  	ret
    7514.  02:2C72                      
    7515.  02:2C72                      
    7516.  02:2C72                      i_294
    7517.  02:2C72  21 0C 00            	ld	hl,12	;const
    7518.  02:2C75  39                  	add	hl,sp
    7519.  02:2C76  E5                  	push	hl
    7520.  02:2C77  CD CF 54            	call	l_glong2sp
    7521.  02:2C7A  21 08 00            	ld	hl,8	;const
    7522.  02:2C7D  39                  	add	hl,sp
    7523.  02:2C7E  7E                  	ld	a,(hl)	;l_gint
    7524.  02:2C7F  23                  	inc	hl
    7525.  02:2C80  66                  	ld	h,(hl)
    7526.  02:2C81  6F                  	ld	l,a
    7527.  02:2C82  11 00 00            	ld	de,0
    7528.  02:2C85  C1                  	pop	bc
    7529.  02:2C86  09                  	add	hl,bc
    7530.  02:2C87  EB                  	ex	de,hl
    7531.  02:2C88  C1                  	pop	bc
    7532.  02:2C89  ED 4A               	adc	hl,bc
    7533.  02:2C8B  EB                  	ex	de,hl
    7534.  02:2C8C  C1                  	pop	bc
    7535.  02:2C8D  CD C3 54            	call	l_plong
    7536.  02:2C90  21 04 00            	ld	hl,4	;const
    7537.  02:2C93  39                  	add	hl,sp
    7538.  02:2C94  E5                  	push	hl
    7539.  02:2C95  21 1E 00            	ld	hl,30	;const
    7540.  02:2C98  39                  	add	hl,sp
    7541.  02:2C99  7E                  	ld	a,(hl)	;l_gint
    7542.  02:2C9A  23                  	inc	hl
    7543.  02:2C9B  66                  	ld	h,(hl)
    7544.  02:2C9C  6F                  	ld	l,a
    7545.  02:2C9D  6C                  	ld	l,h
    7546.  02:2C9E  26 00               	ld	h,0
    7547.  02:2CA0  CB 3D               	srl	l
    7548.  02:2CA2  D1                  	pop	de
    7549.  02:2CA3  EB                  	ex	de,hl	;l_pint
    7550.  02:2CA4  73                  	ld	(hl),e
    7551.  02:2CA5  23                  	inc	hl
    7552.  02:2CA6  72                  	ld	(hl),d
    7553.  02:2CA7  EB                   	ex	de,hl
    7554.  02:2CA8  21 04 00            	ld	hl,4	;const
    7555.  02:2CAB  39                  	add	hl,sp
    7556.  02:2CAC  7E                  	ld	a,(hl)	;l_gint
    7557.  02:2CAD  23                  	inc	hl
    7558.  02:2CAE  66                  	ld	h,(hl)
    7559.  02:2CAF  6F                  	ld	l,a
    7560.  02:2CB0  B4                  	or	h
    7561.  02:2CB1  CA 60 2D            	jp	z,i_295	;
    7562.  02:2CB4  21 02 00            	ld	hl,2	;const
    7563.  02:2CB7  39                  	add	hl,sp
    7564.  02:2CB8  5E                  	ld	e,(hl)
    7565.  02:2CB9  23                  	inc	hl
    7566.  02:2CBA  56                  	ld	d,(hl)
    7567.  02:2CBB  21 04 00            	ld	hl,4	;const
    7568.  02:2CBE  39                  	add	hl,sp
    7569.  02:2CBF  7E                  	ld	a,(hl)	;l_gint
    7570.  02:2CC0  23                  	inc	hl
    7571.  02:2CC1  66                  	ld	h,(hl)
    7572.  02:2CC2  6F                  	ld	l,a
    7573.  02:2CC3  19                  	add	hl,de
    7574.  02:2CC4  E5                  	push	hl
    7575.  02:2CC5  21 16 00            	ld	hl,22	;const
    7576.  02:2CC8  39                  	add	hl,sp
    7577.  02:2CC9  4E                  	ld	c,(hl)
    7578.  02:2CCA  23                  	inc	hl
    7579.  02:2CCB  46                  	ld	b,(hl)
    7580.  02:2CCC  21 0A 00            	ld	hl,10
    7581.  02:2CCF  09                  	add	hl,bc
    7582.  02:2CD0  7E                  	ld	a,(hl)	;l_gint
    7583.  02:2CD1  23                  	inc	hl
    7584.  02:2CD2  66                  	ld	h,(hl)
    7585.  02:2CD3  6F                  	ld	l,a
    7586.  02:2CD4  D1                  	pop	de
    7587.  02:2CD5  A7                  	and	a
    7588.  02:2CD6  ED 52               	sbc	hl,de
    7589.  02:2CD8  D2 00 2D            	jp	nc,i_296	;
    7590.  02:2CDB  21 04 00            	ld	hl,4	;const
    7591.  02:2CDE  39                  	add	hl,sp
    7592.  02:2CDF  E5                  	push	hl
    7593.  02:2CE0  21 16 00            	ld	hl,22	;const
    7594.  02:2CE3  39                  	add	hl,sp
    7595.  02:2CE4  4E                  	ld	c,(hl)
    7596.  02:2CE5  23                  	inc	hl
    7597.  02:2CE6  46                  	ld	b,(hl)
    7598.  02:2CE7  21 0A 00            	ld	hl,10
    7599.  02:2CEA  09                  	add	hl,bc
    7600.  02:2CEB  5E                  	ld	e,(hl)
    7601.  02:2CEC  23                  	inc	hl
    7602.  02:2CED  56                  	ld	d,(hl)
    7603.  02:2CEE  21 04 00            	ld	hl,4	;const
    7604.  02:2CF1  39                  	add	hl,sp
    7605.  02:2CF2  7E                  	ld	a,(hl)	;l_gint
    7606.  02:2CF3  23                  	inc	hl
    7607.  02:2CF4  66                  	ld	h,(hl)
    7608.  02:2CF5  6F                  	ld	l,a
    7609.  02:2CF6  EB                  	ex	de,hl
    7610.  02:2CF7  A7                  	and	a
    7611.  02:2CF8  ED 52               	sbc	hl,de
    7612.  02:2CFA  D1                  	pop	de
    7613.  02:2CFB  EB                  	ex	de,hl	;l_pint
    7614.  02:2CFC  73                  	ld	(hl),e
    7615.  02:2CFD  23                  	inc	hl
    7616.  02:2CFE  72                  	ld	(hl),d
    7617.  02:2CFF  EB                   	ex	de,hl
    7618.  02:2D00                      i_296
    7619.  02:2D00  21 14 00            	ld	hl,20	;const
    7620.  02:2D03  39                  	add	hl,sp
    7621.  02:2D04  7E                  	ld	a,(hl)	;l_gint
    7622.  02:2D05  23                  	inc	hl
    7623.  02:2D06  66                  	ld	h,(hl)
    7624.  02:2D07  6F                  	ld	l,a
    7625.  02:2D08  23                  	inc	hl
    7626.  02:2D09  6E                  	ld	l,(hl)
    7627.  02:2D0A  26 00               	ld	h,0
    7628.  02:2D0C  E5                  	push	hl
    7629.  02:2D0D  21 02 00            	ld	hl,2	;const
    7630.  02:2D10  39                  	add	hl,sp	;l_gintspsp
    7631.  02:2D11  7E                  	ld	a,(hl)
    7632.  02:2D12  23                  	inc	hl
    7633.  02:2D13  66                  	ld	h,(hl)
    7634.  02:2D14  6F                  	ld	l,a
    7635.  02:2D15  E5                  	push	hl
    7636.  02:2D16  21 10 00            	ld	hl,16	;const
    7637.  02:2D19  39                  	add	hl,sp
    7638.  02:2D1A  CD CF 54            	call	l_glong2sp
    7639.  02:2D1D  21 0C 00            	ld	hl,12	;const
    7640.  02:2D20  39                  	add	hl,sp
    7641.  02:2D21  7E                  	ld	a,(hl)	;l_gint
    7642.  02:2D22  23                  	inc	hl
    7643.  02:2D23  66                  	ld	h,(hl)
    7644.  02:2D24  6F                  	ld	l,a
    7645.  02:2D25  E5                  	push	hl
    7646.  02:2D26  CD 22 4C            	call	disk_read
    7647.  02:2D29  C1                  	pop	bc
    7648.  02:2D2A  C1                  	pop	bc
    7649.  02:2D2B  C1                  	pop	bc
    7650.  02:2D2C  C1                  	pop	bc
    7651.  02:2D2D  C1                  	pop	bc
    7652.  02:2D2E  7C                  	ld	a,h
    7653.  02:2D2F  B5                  	or	l
    7654.  02:2D30  CA 49 2D            	jp	z,i_297	;
    7655.  02:2D33  21 20 00            	ld	hl,32	;const
    7656.  02:2D36  39                  	add	hl,sp
    7657.  02:2D37  4E                  	ld	c,(hl)
    7658.  02:2D38  23                  	inc	hl
    7659.  02:2D39  46                  	ld	b,(hl)
    7660.  02:2D3A  21 0F 00            	ld	hl,15
    7661.  02:2D3D  09                  	add	hl,bc
    7662.  02:2D3E  36 01               	ld	(hl),1
    7663.  02:2D40  21 18 00            	ld	hl,24	;const
    7664.  02:2D43  39                  	add	hl,sp
    7665.  02:2D44  F9                  	ld	sp,hl
    7666.  02:2D45  21 01 00            	ld	hl,1	;const
    7667.  02:2D48  C9                  	ret
    7668.  02:2D49                      
    7669.  02:2D49                      
    7670.  02:2D49                      i_297
    7671.  02:2D49  21 06 00            	ld	hl,6	;const
    7672.  02:2D4C  39                  	add	hl,sp
    7673.  02:2D4D  E5                  	push	hl
    7674.  02:2D4E  2B                  	dec	hl
    7675.  02:2D4F  2B                  	dec	hl
    7676.  02:2D50  7E                  	ld	a,(hl)	;l_gint
    7677.  02:2D51  23                  	inc	hl
    7678.  02:2D52  66                  	ld	h,(hl)
    7679.  02:2D53  67                  	ld	h,a
    7680.  02:2D54  2E 00               	ld	l,0
    7681.  02:2D56  29                  	add	hl,hl
    7682.  02:2D57  D1                  	pop	de
    7683.  02:2D58  EB                  	ex	de,hl	;l_pint
    7684.  02:2D59  73                  	ld	(hl),e
    7685.  02:2D5A  23                  	inc	hl
    7686.  02:2D5B  72                  	ld	(hl),d
    7687.  02:2D5C  EB                   	ex	de,hl
    7688.  02:2D5D  C3 95 2A            	jp	i_285	;EOS
    7689.  02:2D60                      i_295
    7690.  02:2D60  21 20 00            	ld	hl,32	;const
    7691.  02:2D63  39                  	add	hl,sp
    7692.  02:2D64  4E                  	ld	c,(hl)
    7693.  02:2D65  23                  	inc	hl
    7694.  02:2D66  46                  	ld	b,(hl)
    7695.  02:2D67  21 18 00            	ld	hl,24
    7696.  02:2D6A  09                  	add	hl,bc
    7697.  02:2D6B  E5                  	push	hl
    7698.  02:2D6C  21 0E 00            	ld	hl,14	;const
    7699.  02:2D6F  39                  	add	hl,sp
    7700.  02:2D70  CD DE 54            	call	l_glong
    7701.  02:2D73  C1                  	pop	bc
    7702.  02:2D74  CD C3 54            	call	l_plong
    7703.  02:2D77                      i_288
    7704.  02:2D77  21 06 00            	ld	hl,6	;const
    7705.  02:2D7A  39                  	add	hl,sp
    7706.  02:2D7B  E5                  	push	hl
    7707.  02:2D7C  21 22 00            	ld	hl,34	;const
    7708.  02:2D7F  39                  	add	hl,sp
    7709.  02:2D80  4E                  	ld	c,(hl)
    7710.  02:2D81  23                  	inc	hl
    7711.  02:2D82  46                  	ld	b,(hl)
    7712.  02:2D83  21 10 00            	ld	hl,16
    7713.  02:2D86  09                  	add	hl,bc
    7714.  02:2D87  7E                  	ld	a,(hl)	;l_gint
    7715.  02:2D88  23                  	inc	hl
    7716.  02:2D89  66                  	ld	h,(hl)
    7717.  02:2D8A  6F                  	ld	l,a
    7718.  02:2D8B  11 00 02            	ld	de,512
    7719.  02:2D8E  EB                  	ex	de,hl
    7720.  02:2D8F  CD 84 54            	call	l_div_u
    7721.  02:2D92  21 00 02            	ld	hl,512
    7722.  02:2D95  A7                  	and	a
    7723.  02:2D96  ED 52               	sbc	hl,de
    7724.  02:2D98  D1                  	pop	de
    7725.  02:2D99  EB                  	ex	de,hl	;l_pint
    7726.  02:2D9A  73                  	ld	(hl),e
    7727.  02:2D9B  23                  	inc	hl
    7728.  02:2D9C  72                  	ld	(hl),d
    7729.  02:2D9D  EB                   	ex	de,hl
    7730.  02:2D9E  21 06 00            	ld	hl,6	;const
    7731.  02:2DA1  39                  	add	hl,sp
    7732.  02:2DA2  5E                  	ld	e,(hl)
    7733.  02:2DA3  23                  	inc	hl
    7734.  02:2DA4  56                  	ld	d,(hl)
    7735.  02:2DA5  21 1C 00            	ld	hl,28	;const
    7736.  02:2DA8  39                  	add	hl,sp
    7737.  02:2DA9  7E                  	ld	a,(hl)	;l_gint
    7738.  02:2DAA  23                  	inc	hl
    7739.  02:2DAB  66                  	ld	h,(hl)
    7740.  02:2DAC  6F                  	ld	l,a
    7741.  02:2DAD  A7                  	and	a
    7742.  02:2DAE  ED 52               	sbc	hl,de
    7743.  02:2DB0  D2 C5 2D            	jp	nc,i_298	;
    7744.  02:2DB3  21 06 00            	ld	hl,6	;const
    7745.  02:2DB6  39                  	add	hl,sp
    7746.  02:2DB7  EB                  	ex	de,hl
    7747.  02:2DB8  21 1C 00            	ld	hl,28	;const
    7748.  02:2DBB  39                  	add	hl,sp
    7749.  02:2DBC  7E                  	ld	a,(hl)	;l_gint
    7750.  02:2DBD  23                  	inc	hl
    7751.  02:2DBE  66                  	ld	h,(hl)
    7752.  02:2DBF  6F                  	ld	l,a
    7753.  02:2DC0  EB                  	ex	de,hl	;l_pint
    7754.  02:2DC1  73                  	ld	(hl),e
    7755.  02:2DC2  23                  	inc	hl
    7756.  02:2DC3  72                  	ld	(hl),d
    7757.  02:2DC4  EB                   	ex	de,hl
    7758.  02:2DC5                      i_298
    7759.  02:2DC5  21 14 00            	ld	hl,20	;const
    7760.  02:2DC8  39                  	add	hl,sp	;l_gintspsp
    7761.  02:2DC9  7E                  	ld	a,(hl)
    7762.  02:2DCA  23                  	inc	hl
    7763.  02:2DCB  66                  	ld	h,(hl)
    7764.  02:2DCC  6F                  	ld	l,a
    7765.  02:2DCD  E5                  	push	hl
    7766.  02:2DCE  21 22 00            	ld	hl,34	;const
    7767.  02:2DD1  39                  	add	hl,sp
    7768.  02:2DD2  4E                  	ld	c,(hl)
    7769.  02:2DD3  23                  	inc	hl
    7770.  02:2DD4  46                  	ld	b,(hl)
    7771.  02:2DD5  21 18 00            	ld	hl,24
    7772.  02:2DD8  09                  	add	hl,bc
    7773.  02:2DD9  CD DE 54            	call	l_glong
    7774.  02:2DDC  D5                  	push	de
    7775.  02:2DDD  E5                  	push	hl
    7776.  02:2DDE  CD 54 05            	call	_move_window
    7777.  02:2DE1  C1                  	pop	bc
    7778.  02:2DE2  C1                  	pop	bc
    7779.  02:2DE3  C1                  	pop	bc
    7780.  02:2DE4  7C                  	ld	a,h
    7781.  02:2DE5  B5                  	or	l
    7782.  02:2DE6  CA FF 2D            	jp	z,i_299	;
    7783.  02:2DE9  21 20 00            	ld	hl,32	;const
    7784.  02:2DEC  39                  	add	hl,sp
    7785.  02:2DED  4E                  	ld	c,(hl)
    7786.  02:2DEE  23                  	inc	hl
    7787.  02:2DEF  46                  	ld	b,(hl)
    7788.  02:2DF0  21 0F 00            	ld	hl,15
    7789.  02:2DF3  09                  	add	hl,bc
    7790.  02:2DF4  36 01               	ld	(hl),1
    7791.  02:2DF6  21 18 00            	ld	hl,24	;const
    7792.  02:2DF9  39                  	add	hl,sp
    7793.  02:2DFA  F9                  	ld	sp,hl
    7794.  02:2DFB  21 01 00            	ld	hl,1	;const
    7795.  02:2DFE  C9                  	ret
    7796.  02:2DFF                      
    7797.  02:2DFF                      
    7798.  02:2DFF                      i_299
    7799.  02:2DFF  21 00 00            	ld	hl,0	;const
    7800.  02:2E02  39                  	add	hl,sp	;l_gintspsp
    7801.  02:2E03  7E                  	ld	a,(hl)
    7802.  02:2E04  23                  	inc	hl
    7803.  02:2E05  66                  	ld	h,(hl)
    7804.  02:2E06  6F                  	ld	l,a
    7805.  02:2E07  E5                  	push	hl
    7806.  02:2E08  21 16 00            	ld	hl,22	;const
    7807.  02:2E0B  39                  	add	hl,sp
    7808.  02:2E0C  4E                  	ld	c,(hl)
    7809.  02:2E0D  23                  	inc	hl
    7810.  02:2E0E  46                  	ld	b,(hl)
    7811.  02:2E0F  21 34 00            	ld	hl,52
    7812.  02:2E12  09                  	add	hl,bc
    7813.  02:2E13  E5                  	push	hl
    7814.  02:2E14  21 24 00            	ld	hl,36	;const
    7815.  02:2E17  39                  	add	hl,sp
    7816.  02:2E18  4E                  	ld	c,(hl)
    7817.  02:2E19  23                  	inc	hl
    7818.  02:2E1A  46                  	ld	b,(hl)
    7819.  02:2E1B  21 10 00            	ld	hl,16
    7820.  02:2E1E  09                  	add	hl,bc
    7821.  02:2E1F  CD CF 54            	call	l_glong2sp
    7822.  02:2E22  21 00 02            	ld	hl,512	;const
    7823.  02:2E25  11 00 00            	ld	de,0
    7824.  02:2E28  CD F8 55            	call	l_long_mod_u
    7825.  02:2E2B  D9                  	exx
    7826.  02:2E2C  E1                  	pop	hl
    7827.  02:2E2D  7C                  	ld	a,h
    7828.  02:2E2E  17                  	rla
    7829.  02:2E2F  9F                  	sbc	a
    7830.  02:2E30  5F                  	ld	e,a
    7831.  02:2E31  57                  	ld	d,a
    7832.  02:2E32  D5                  	push	de
    7833.  02:2E33  E5                  	push	hl
    7834.  02:2E34  D9                  	exx
    7835.  02:2E35  C1                  	pop	bc
    7836.  02:2E36  09                  	add	hl,bc
    7837.  02:2E37  EB                  	ex	de,hl
    7838.  02:2E38  C1                  	pop	bc
    7839.  02:2E39  ED 4A               	adc	hl,bc
    7840.  02:2E3B  EB                  	ex	de,hl
    7841.  02:2E3C  E5                  	push	hl
    7842.  02:2E3D  21 0A 00            	ld	hl,10	;const
    7843.  02:2E40  39                  	add	hl,sp
    7844.  02:2E41  7E                  	ld	a,(hl)	;l_gint
    7845.  02:2E42  23                  	inc	hl
    7846.  02:2E43  66                  	ld	h,(hl)
    7847.  02:2E44  6F                  	ld	l,a
    7848.  02:2E45  E5                  	push	hl
    7849.  02:2E46  CD 5B 57            	call	memcpy_callee
    7850.  02:2E49  C3 95 2A            	jp	i_285	;EOS
    7851.  02:2E4C                      i_286
    7852.  02:2E4C  21 18 00            	ld	hl,24	;const
    7853.  02:2E4F  39                  	add	hl,sp
    7854.  02:2E50  F9                  	ld	sp,hl
    7855.  02:2E51  21 00 00            	ld	hl,0	;const
    7856.  02:2E54  C9                  	ret
    7857.  02:2E55                      
    7858.  02:2E55                      
    7859.  02:2E55                      	C_LINE	4253,"./ff.c::f_read::0::110"
    7860.  02:2E55                      
    7861.  02:2E55                      ; Function f_close flags 0x00000200 __smallc 
    7862.  02:2E55                      ; const int FRESULTf_close(struct 0__anonstruct_214_2 FIL* fp)
    7863.  02:2E55                      ; parameter 'struct 0__anonstruct_214_2 FIL* fp' at sp+2 size(2)
    7864.  02:2E55                      	C_LINE	4256,"./ff.c::f_close::0::110"
    7865.  02:2E55                      @_f_close
    7866.  02:2E55  C5                  	push	bc
    7867.  02:2E56  C5                  	push	bc
    7868.  02:2E57  21 06 00            	ld	hl,6	;const
    7869.  02:2E5A  39                  	add	hl,sp	;l_gintspsp
    7870.  02:2E5B  7E                  	ld	a,(hl)
    7871.  02:2E5C  23                  	inc	hl
    7872.  02:2E5D  66                  	ld	h,(hl)
    7873.  02:2E5E  6F                  	ld	l,a
    7874.  02:2E5F  E5                  	push	hl
    7875.  02:2E60  21 02 00            	ld	hl,2	;const
    7876.  02:2E63  39                  	add	hl,sp
    7877.  02:2E64  E5                  	push	hl
    7878.  02:2E65  CD 3D 26            	call	_validate
    7879.  02:2E68  C1                  	pop	bc
    7880.  02:2E69  C1                  	pop	bc
    7881.  02:2E6A  D1                  	pop	de
    7882.  02:2E6B  C1                  	pop	bc
    7883.  02:2E6C  E5                  	push	hl
    7884.  02:2E6D  D5                  	push	de
    7885.  02:2E6E  7C                  	ld	a,h
    7886.  02:2E6F  B5                  	or	l
    7887.  02:2E70  20 01               	jr	nz,$+3
    7888.  02:2E72  37                  	scf
    7889.  02:2E73  D2 85 2E            	jp	nc,i_300	;
    7890.  02:2E76  21 06 00            	ld	hl,6	;const
    7891.  02:2E79  39                  	add	hl,sp
    7892.  02:2E7A  5E                  	ld	e,(hl)
    7893.  02:2E7B  23                  	inc	hl
    7894.  02:2E7C  56                  	ld	d,(hl)
    7895.  02:2E7D  21 00 00            	ld	hl,0	;const
    7896.  02:2E80  EB                  	ex	de,hl	;l_pint
    7897.  02:2E81  73                  	ld	(hl),e
    7898.  02:2E82  23                  	inc	hl
    7899.  02:2E83  72                  	ld	(hl),d
    7900.  02:2E84  EB                   	ex	de,hl
    7901.  02:2E85                      i_300
    7902.  02:2E85  C1                  	pop	bc
    7903.  02:2E86  E1                  	pop	hl
    7904.  02:2E87  C9                  	ret
    7905.  02:2E88                      
    7906.  02:2E88                      
    7907.  02:2E88                      	C_LINE	4289,"./ff.c::f_close::0::113"
    7908.  02:2E88                      
    7909.  02:2E88                      ; Function f_chdrive flags 0x00000200 __smallc 
    7910.  02:2E88                      ; const int FRESULTf_chdrive(const char TCHAR* path)
    7911.  02:2E88                      ; parameter 'const char TCHAR* path' at sp+2 size(2)
    7912.  02:2E88                      	C_LINE	4292,"./ff.c::f_chdrive::0::113"
    7913.  02:2E88                      @_f_chdrive
    7914.  02:2E88  C5                  	push	bc
    7915.  02:2E89  21 04 00            	ld	hl,4	;const
    7916.  02:2E8C  39                  	add	hl,sp
    7917.  02:2E8D  E5                  	push	hl
    7918.  02:2E8E  CD 75 19            	call	_get_ldnumber
    7919.  02:2E91  C1                  	pop	bc
    7920.  02:2E92  C1                  	pop	bc
    7921.  02:2E93  E5                  	push	hl
    7922.  02:2E94  7C                  	ld	a,h
    7923.  02:2E95  17                  	rla
    7924.  02:2E96  D2 9E 2E            	jp	nc,i_301	;
    7925.  02:2E99  21 0B 00            	ld	hl,11	;const
    7926.  02:2E9C  C1                  	pop	bc
    7927.  02:2E9D  C9                  	ret
    7928.  02:2E9E                      
    7929.  02:2E9E                      
    7930.  02:2E9E                      i_301
    7931.  02:2E9E  E1                  	pop	hl
    7932.  02:2E9F  E5                  	push	hl
    7933.  02:2EA0  7D                  	ld	a,l
    7934.  02:2EA1  32 3D 5F            	ld	(_CurrVol),a
    7935.  02:2EA4  21 00 00            	ld	hl,0	;const
    7936.  02:2EA7  C1                  	pop	bc
    7937.  02:2EA8  C9                  	ret
    7938.  02:2EA9                      
    7939.  02:2EA9                      
    7940.  02:2EA9                      	C_LINE	4306,"./ff.c::f_chdrive::0::114"
    7941.  02:2EA9                      
    7942.  02:2EA9                      ; Function f_chdir flags 0x00000200 __smallc 
    7943.  02:2EA9                      ; const int FRESULTf_chdir(const char TCHAR* path)
    7944.  02:2EA9                      ; parameter 'const char TCHAR* path' at sp+2 size(2)
    7945.  02:2EA9                      	C_LINE	4309,"./ff.c::f_chdir::0::114"
    7946.  02:2EA9                      @_f_chdir
    7947.  02:2EA9  21 D4 FF            	ld	hl,65492	;const
    7948.  02:2EAC  39                  	add	hl,sp
    7949.  02:2EAD  F9                  	ld	sp,hl
    7950.  02:2EAE  21 2A 00            	ld	hl,42	;const
    7951.  02:2EB1  39                  	add	hl,sp
    7952.  02:2EB2  E5                  	push	hl
    7953.  02:2EB3  21 30 00            	ld	hl,48	;const
    7954.  02:2EB6  39                  	add	hl,sp
    7955.  02:2EB7  E5                  	push	hl
    7956.  02:2EB8  21 04 00            	ld	hl,4	;const
    7957.  02:2EBB  39                  	add	hl,sp
    7958.  02:2EBC  E5                  	push	hl
    7959.  02:2EBD  21 00 00            	ld	hl,0	;const
    7960.  02:2EC0  E5                  	push	hl
    7961.  02:2EC1  CD 43 1E            	call	_mount_volume
    7962.  02:2EC4  C1                  	pop	bc
    7963.  02:2EC5  C1                  	pop	bc
    7964.  02:2EC6  C1                  	pop	bc
    7965.  02:2EC7  D1                  	pop	de
    7966.  02:2EC8  EB                  	ex	de,hl	;l_pint
    7967.  02:2EC9  73                  	ld	(hl),e
    7968.  02:2ECA  23                  	inc	hl
    7969.  02:2ECB  72                  	ld	(hl),d
    7970.  02:2ECC  EB                   	ex	de,hl
    7971.  02:2ECD  21 2A 00            	ld	hl,42	;const
    7972.  02:2ED0  39                  	add	hl,sp
    7973.  02:2ED1  7E                  	ld	a,(hl)	;l_gint
    7974.  02:2ED2  23                  	inc	hl
    7975.  02:2ED3  66                  	ld	h,(hl)
    7976.  02:2ED4  6F                  	ld	l,a
    7977.  02:2ED5  B4                  	or	h
    7978.  02:2ED6  20 01               	jr	nz,$+3
    7979.  02:2ED8  37                  	scf
    7980.  02:2ED9  D2 8F 2F            	jp	nc,i_302	;
    7981.  02:2EDC  21 02 00            	ld	hl,2	;const
    7982.  02:2EDF  39                  	add	hl,sp
    7983.  02:2EE0  E5                  	push	hl
    7984.  02:2EE1  2B                  	dec	hl
    7985.  02:2EE2  2B                  	dec	hl
    7986.  02:2EE3  7E                  	ld	a,(hl)	;l_gint
    7987.  02:2EE4  23                  	inc	hl
    7988.  02:2EE5  66                  	ld	h,(hl)
    7989.  02:2EE6  6F                  	ld	l,a
    7990.  02:2EE7  D1                  	pop	de
    7991.  02:2EE8  EB                  	ex	de,hl	;l_pint
    7992.  02:2EE9  73                  	ld	(hl),e
    7993.  02:2EEA  23                  	inc	hl
    7994.  02:2EEB  72                  	ld	(hl),d
    7995.  02:2EEC  EB                   	ex	de,hl
    7996.  02:2EED  21 2A 00            	ld	hl,42	;const
    7997.  02:2EF0  39                  	add	hl,sp
    7998.  02:2EF1  E5                  	push	hl
    7999.  02:2EF2  21 04 00            	ld	hl,4	;const
    8000.  02:2EF5  39                  	add	hl,sp
    8001.  02:2EF6  E5                  	push	hl
    8002.  02:2EF7  21 32 00            	ld	hl,50	;const
    8003.  02:2EFA  39                  	add	hl,sp
    8004.  02:2EFB  7E                  	ld	a,(hl)	;l_gint
    8005.  02:2EFC  23                  	inc	hl
    8006.  02:2EFD  66                  	ld	h,(hl)
    8007.  02:2EFE  6F                  	ld	l,a
    8008.  02:2EFF  E5                  	push	hl
    8009.  02:2F00  CD 4F 17            	call	_follow_path
    8010.  02:2F03  C1                  	pop	bc
    8011.  02:2F04  C1                  	pop	bc
    8012.  02:2F05  D1                  	pop	de
    8013.  02:2F06  EB                  	ex	de,hl	;l_pint
    8014.  02:2F07  73                  	ld	(hl),e
    8015.  02:2F08  23                  	inc	hl
    8016.  02:2F09  72                  	ld	(hl),d
    8017.  02:2F0A  EB                   	ex	de,hl
    8018.  02:2F0B  21 2A 00            	ld	hl,42	;const
    8019.  02:2F0E  39                  	add	hl,sp
    8020.  02:2F0F  7E                  	ld	a,(hl)	;l_gint
    8021.  02:2F10  23                  	inc	hl
    8022.  02:2F11  66                  	ld	h,(hl)
    8023.  02:2F12  6F                  	ld	l,a
    8024.  02:2F13  B4                  	or	h
    8025.  02:2F14  20 01               	jr	nz,$+3
    8026.  02:2F16  37                  	scf
    8027.  02:2F17  D2 73 2F            	jp	nc,i_303	;
    8028.  02:2F1A  21 0D 00            	ld	hl,13	;const
    8029.  02:2F1D  39                  	add	hl,sp
    8030.  02:2F1E  3E 80               	ld	a,128
    8031.  02:2F20  A6                  	and	(hl)
    8032.  02:2F21  CA 39 2F            	jp	z,i_304	;
    8033.  02:2F24  E1                  	pop	hl
    8034.  02:2F25  E5                  	push	hl
    8035.  02:2F26  01 14 00            	ld	bc,20
    8036.  02:2F29  09                  	add	hl,bc
    8037.  02:2F2A  E5                  	push	hl
    8038.  02:2F2B  21 0A 00            	ld	hl,10	;const
    8039.  02:2F2E  39                  	add	hl,sp
    8040.  02:2F2F  CD DE 54            	call	l_glong
    8041.  02:2F32  C1                  	pop	bc
    8042.  02:2F33  CD C3 54            	call	l_plong
    8043.  02:2F36  C3 73 2F            	jp	i_305	;EOS
    8044.  02:2F39                      i_304
    8045.  02:2F39  21 06 00            	ld	hl,6	;const
    8046.  02:2F3C  39                  	add	hl,sp
    8047.  02:2F3D  3E 10               	ld	a,16
    8048.  02:2F3F  A6                  	and	(hl)
    8049.  02:2F40  CA 68 2F            	jp	z,i_306	;
    8050.  02:2F43  E1                  	pop	hl
    8051.  02:2F44  E5                  	push	hl
    8052.  02:2F45  01 14 00            	ld	bc,20
    8053.  02:2F48  09                  	add	hl,bc
    8054.  02:2F49  E5                  	push	hl
    8055.  02:2F4A  21 02 00            	ld	hl,2	;const
    8056.  02:2F4D  39                  	add	hl,sp	;l_gintspsp
    8057.  02:2F4E  7E                  	ld	a,(hl)
    8058.  02:2F4F  23                  	inc	hl
    8059.  02:2F50  66                  	ld	h,(hl)
    8060.  02:2F51  6F                  	ld	l,a
    8061.  02:2F52  E5                  	push	hl
    8062.  02:2F53  21 20 00            	ld	hl,32	;const
    8063.  02:2F56  39                  	add	hl,sp
    8064.  02:2F57  7E                  	ld	a,(hl)	;l_gint
    8065.  02:2F58  23                  	inc	hl
    8066.  02:2F59  66                  	ld	h,(hl)
    8067.  02:2F5A  6F                  	ld	l,a
    8068.  02:2F5B  E5                  	push	hl
    8069.  02:2F5C  CD 6D 0E            	call	_ld_clust
    8070.  02:2F5F  C1                  	pop	bc
    8071.  02:2F60  C1                  	pop	bc
    8072.  02:2F61  C1                  	pop	bc
    8073.  02:2F62  CD C3 54            	call	l_plong
    8074.  02:2F65  C3 73 2F            	jp	i_307	;EOS
    8075.  02:2F68                      i_306
    8076.  02:2F68  21 2A 00            	ld	hl,42	;const
    8077.  02:2F6B  39                  	add	hl,sp
    8078.  02:2F6C  11 05 00            	ld	de,5	;const
    8079.  02:2F6F  73                  	ld	(hl),e
    8080.  02:2F70  23                  	inc	hl
    8081.  02:2F71  72                  	ld	(hl),d
    8082.  02:2F72  EB                  	ex	de,hl
    8083.  02:2F73                      i_303
    8084.  02:2F73  21 2A 00            	ld	hl,42	;const
    8085.  02:2F76  39                  	add	hl,sp
    8086.  02:2F77  7E                  	ld	a,(hl)	;l_gint
    8087.  02:2F78  23                  	inc	hl
    8088.  02:2F79  66                  	ld	h,(hl)
    8089.  02:2F7A  6F                  	ld	l,a
    8090.  02:2F7B  11 04 00            	ld	de,4
    8091.  02:2F7E  A7                  	and	a
    8092.  02:2F7F  ED 52               	sbc	hl,de
    8093.  02:2F81  C2 8F 2F            	jp	nz,i_308	;
    8094.  02:2F84  21 2A 00            	ld	hl,42	;const
    8095.  02:2F87  39                  	add	hl,sp
    8096.  02:2F88  11 05 00            	ld	de,5	;const
    8097.  02:2F8B  73                  	ld	(hl),e
    8098.  02:2F8C  23                  	inc	hl
    8099.  02:2F8D  72                  	ld	(hl),d
    8100.  02:2F8E  EB                  	ex	de,hl
    8101.  02:2F8F                      i_302
    8102.  02:2F8F  21 2A 00            	ld	hl,42	;const
    8103.  02:2F92  39                  	add	hl,sp
    8104.  02:2F93  7E                  	ld	a,(hl)	;l_gint
    8105.  02:2F94  23                  	inc	hl
    8106.  02:2F95  66                  	ld	h,(hl)
    8107.  02:2F96  6F                  	ld	l,a
    8108.  02:2F97  D9                  	exx
    8109.  02:2F98  21 2C 00            	ld	hl,44	;const
    8110.  02:2F9B  39                  	add	hl,sp
    8111.  02:2F9C  F9                  	ld	sp,hl
    8112.  02:2F9D  D9                  	exx
    8113.  02:2F9E  C9                  	ret
    8114.  02:2F9F                      
    8115.  02:2F9F                      
    8116.  02:2F9F                      	C_LINE	4368,"./ff.c::f_chdir::0::122"
    8117.  02:2F9F                      
    8118.  02:2F9F                      ; Function f_getcwd flags 0x00000200 __smallc 
    8119.  02:2F9F                      ; const int FRESULTf_getcwd(char TCHAR* buff, unsigned int len)
    8120.  02:2F9F                      ; parameter 'unsigned int len' at sp+2 size(2)
    8121.  02:2F9F                      ; parameter 'char TCHAR* buff' at sp+4 size(2)
    8122.  02:2F9F                      	C_LINE	4372,"./ff.c::f_getcwd::0::122"
    8123.  02:2F9F                      @_f_getcwd
    8124.  02:2F9F  21 CC FF            	ld	hl,65484	;const
    8125.  02:2FA2  39                  	add	hl,sp
    8126.  02:2FA3  F9                  	ld	sp,hl
    8127.  02:2FA4  21 38 00            	ld	hl,56	;const
    8128.  02:2FA7  39                  	add	hl,sp	;l_gintspsp
    8129.  02:2FA8  7E                  	ld	a,(hl)
    8130.  02:2FA9  23                  	inc	hl
    8131.  02:2FAA  66                  	ld	h,(hl)
    8132.  02:2FAB  6F                  	ld	l,a
    8133.  02:2FAC  E5                  	push	hl
    8134.  02:2FAD  21 EA FF            	ld	hl,65514	;const
    8135.  02:2FB0  39                  	add	hl,sp
    8136.  02:2FB1  F9                  	ld	sp,hl
    8137.  02:2FB2  21 50 00            	ld	hl,80	;const
    8138.  02:2FB5  39                  	add	hl,sp	;l_gintspsp
    8139.  02:2FB6  7E                  	ld	a,(hl)
    8140.  02:2FB7  23                  	inc	hl
    8141.  02:2FB8  66                  	ld	h,(hl)
    8142.  02:2FB9  6F                  	ld	l,a
    8143.  02:2FBA  E5                  	push	hl
    8144.  02:2FBB  D1                  	pop	de
    8145.  02:2FBC  AF                  	xor	a
    8146.  02:2FBD  12                  	ld	(de),a
    8147.  02:2FBE  21 4A 00            	ld	hl,74	;const
    8148.  02:2FC1  39                  	add	hl,sp
    8149.  02:2FC2  E5                  	push	hl
    8150.  02:2FC3  21 52 00            	ld	hl,82	;const
    8151.  02:2FC6  39                  	add	hl,sp
    8152.  02:2FC7  E5                  	push	hl
    8153.  02:2FC8  21 24 00            	ld	hl,36	;const
    8154.  02:2FCB  39                  	add	hl,sp
    8155.  02:2FCC  E5                  	push	hl
    8156.  02:2FCD  21 00 00            	ld	hl,0	;const
    8157.  02:2FD0  E5                  	push	hl
    8158.  02:2FD1  CD 43 1E            	call	_mount_volume
    8159.  02:2FD4  C1                  	pop	bc
    8160.  02:2FD5  C1                  	pop	bc
    8161.  02:2FD6  C1                  	pop	bc
    8162.  02:2FD7  D1                  	pop	de
    8163.  02:2FD8  EB                  	ex	de,hl	;l_pint
    8164.  02:2FD9  73                  	ld	(hl),e
    8165.  02:2FDA  23                  	inc	hl
    8166.  02:2FDB  72                  	ld	(hl),d
    8167.  02:2FDC  EB                   	ex	de,hl
    8168.  02:2FDD  21 4A 00            	ld	hl,74	;const
    8169.  02:2FE0  39                  	add	hl,sp
    8170.  02:2FE1  7E                  	ld	a,(hl)	;l_gint
    8171.  02:2FE2  23                  	inc	hl
    8172.  02:2FE3  66                  	ld	h,(hl)
    8173.  02:2FE4  6F                  	ld	l,a
    8174.  02:2FE5  B4                  	or	h
    8175.  02:2FE6  20 01               	jr	nz,$+3
    8176.  02:2FE8  37                  	scf
    8177.  02:2FE9  D2 D8 32            	jp	nc,i_309	;
    8178.  02:2FEC  21 22 00            	ld	hl,34	;const
    8179.  02:2FEF  39                  	add	hl,sp
    8180.  02:2FF0  E5                  	push	hl
    8181.  02:2FF1  2B                  	dec	hl
    8182.  02:2FF2  2B                  	dec	hl
    8183.  02:2FF3  7E                  	ld	a,(hl)	;l_gint
    8184.  02:2FF4  23                  	inc	hl
    8185.  02:2FF5  66                  	ld	h,(hl)
    8186.  02:2FF6  6F                  	ld	l,a
    8187.  02:2FF7  D1                  	pop	de
    8188.  02:2FF8  EB                  	ex	de,hl	;l_pint
    8189.  02:2FF9  73                  	ld	(hl),e
    8190.  02:2FFA  23                  	inc	hl
    8191.  02:2FFB  72                  	ld	(hl),d
    8192.  02:2FFC  EB                   	ex	de,hl
    8193.  02:2FFD  21 1E 00            	ld	hl,30	;const
    8194.  02:3000  39                  	add	hl,sp
    8195.  02:3001  EB                  	ex	de,hl
    8196.  02:3002  21 4E 00            	ld	hl,78	;const
    8197.  02:3005  39                  	add	hl,sp
    8198.  02:3006  7E                  	ld	a,(hl)	;l_gint
    8199.  02:3007  23                  	inc	hl
    8200.  02:3008  66                  	ld	h,(hl)
    8201.  02:3009  6F                  	ld	l,a
    8202.  02:300A  EB                  	ex	de,hl	;l_pint
    8203.  02:300B  73                  	ld	(hl),e
    8204.  02:300C  23                  	inc	hl
    8205.  02:300D  72                  	ld	(hl),d
    8206.  02:300E  EB                   	ex	de,hl
    8207.  02:300F  C3 20 30            	jp	i_311	;EOS
    8208.  02:3012  21 20 00            	ld	hl,32	;const
    8209.  02:3015  39                  	add	hl,sp
    8210.  02:3016  7E                  	ld	a,(hl)	;l_gint
    8211.  02:3017  23                  	inc	hl
    8212.  02:3018  66                  	ld	h,(hl)
    8213.  02:3019  6F                  	ld	l,a
    8214.  02:301A  7E                  	ld	a,(hl)
    8215.  02:301B  FE 04               	cp	4
    8216.  02:301D  CA 4B 32            	jp	z,i_310	;
    8217.  02:3020                      i_311
    8218.  02:3020  21 28 00            	ld	hl,40	;const
    8219.  02:3023  39                  	add	hl,sp
    8220.  02:3024  E5                  	push	hl
    8221.  02:3025  21 22 00            	ld	hl,34	;const
    8222.  02:3028  39                  	add	hl,sp
    8223.  02:3029  4E                  	ld	c,(hl)
    8224.  02:302A  23                  	inc	hl
    8225.  02:302B  46                  	ld	b,(hl)
    8226.  02:302C  21 14 00            	ld	hl,20
    8227.  02:302F  09                  	add	hl,bc
    8228.  02:3030  CD DE 54            	call	l_glong
    8229.  02:3033  C1                  	pop	bc
    8230.  02:3034  CD C3 54            	call	l_plong
    8231.  02:3037                      i_313
    8232.  02:3037  21 18 00            	ld	hl,24	;const
    8233.  02:303A  39                  	add	hl,sp
    8234.  02:303B  E5                  	push	hl
    8235.  02:303C  21 2A 00            	ld	hl,42	;const
    8236.  02:303F  39                  	add	hl,sp
    8237.  02:3040  CD DE 54            	call	l_glong
    8238.  02:3043  C1                  	pop	bc
    8239.  02:3044  CD C3 54            	call	l_plong
    8240.  02:3047  7A                  	ld	a,d
    8241.  02:3048  B3                  	or	e
    8242.  02:3049  B4                  	or	h
    8243.  02:304A  B5                  	or	l
    8244.  02:304B  CA 4B 32            	jp	z,i_314	;
    8245.  02:304E  21 4A 00            	ld	hl,74	;const
    8246.  02:3051  39                  	add	hl,sp
    8247.  02:3052  E5                  	push	hl
    8248.  02:3053  21 24 00            	ld	hl,36	;const
    8249.  02:3056  39                  	add	hl,sp
    8250.  02:3057  E5                  	push	hl
    8251.  02:3058  21 20 00            	ld	hl,32	;const
    8252.  02:305B  11 00 00            	ld	de,0
    8253.  02:305E  D5                  	push	de
    8254.  02:305F  E5                  	push	hl
    8255.  02:3060  CD 0A 09            	call	_dir_sdi
    8256.  02:3063  C1                  	pop	bc
    8257.  02:3064  C1                  	pop	bc
    8258.  02:3065  C1                  	pop	bc
    8259.  02:3066  D1                  	pop	de
    8260.  02:3067  EB                  	ex	de,hl	;l_pint
    8261.  02:3068  73                  	ld	(hl),e
    8262.  02:3069  23                  	inc	hl
    8263.  02:306A  72                  	ld	(hl),d
    8264.  02:306B  EB                   	ex	de,hl
    8265.  02:306C  21 4A 00            	ld	hl,74	;const
    8266.  02:306F  39                  	add	hl,sp
    8267.  02:3070  7E                  	ld	a,(hl)	;l_gint
    8268.  02:3071  23                  	inc	hl
    8269.  02:3072  66                  	ld	h,(hl)
    8270.  02:3073  6F                  	ld	l,a
    8271.  02:3074  B4                  	or	h
    8272.  02:3075  C2 4B 32            	jp	nz,i_314	;EOS
    8273.  02:3078                      i_315
    8274.  02:3078  21 4A 00            	ld	hl,74	;const
    8275.  02:307B  39                  	add	hl,sp
    8276.  02:307C  E5                  	push	hl
    8277.  02:307D  21 22 00            	ld	hl,34	;const
    8278.  02:3080  39                  	add	hl,sp	;l_gintspsp
    8279.  02:3081  7E                  	ld	a,(hl)
    8280.  02:3082  23                  	inc	hl
    8281.  02:3083  66                  	ld	h,(hl)
    8282.  02:3084  6F                  	ld	l,a
    8283.  02:3085  E5                  	push	hl
    8284.  02:3086  21 3C 00            	ld	hl,60	;const
    8285.  02:3089  39                  	add	hl,sp
    8286.  02:308A  CD DE 54            	call	l_glong
    8287.  02:308D  D5                  	push	de
    8288.  02:308E  E5                  	push	hl
    8289.  02:308F  CD 54 05            	call	_move_window
    8290.  02:3092  C1                  	pop	bc
    8291.  02:3093  C1                  	pop	bc
    8292.  02:3094  C1                  	pop	bc
    8293.  02:3095  D1                  	pop	de
    8294.  02:3096  EB                  	ex	de,hl	;l_pint
    8295.  02:3097  73                  	ld	(hl),e
    8296.  02:3098  23                  	inc	hl
    8297.  02:3099  72                  	ld	(hl),d
    8298.  02:309A  EB                   	ex	de,hl
    8299.  02:309B  21 4A 00            	ld	hl,74	;const
    8300.  02:309E  39                  	add	hl,sp
    8301.  02:309F  7E                  	ld	a,(hl)	;l_gint
    8302.  02:30A0  23                  	inc	hl
    8303.  02:30A1  66                  	ld	h,(hl)
    8304.  02:30A2  6F                  	ld	l,a
    8305.  02:30A3  B4                  	or	h
    8306.  02:30A4  C2 4B 32            	jp	nz,i_314	;EOS
    8307.  02:30A7                      i_316
    8308.  02:30A7  21 28 00            	ld	hl,40	;const
    8309.  02:30AA  39                  	add	hl,sp
    8310.  02:30AB  E5                  	push	hl
    8311.  02:30AC  21 22 00            	ld	hl,34	;const
    8312.  02:30AF  39                  	add	hl,sp	;l_gintspsp
    8313.  02:30B0  7E                  	ld	a,(hl)
    8314.  02:30B1  23                  	inc	hl
    8315.  02:30B2  66                  	ld	h,(hl)
    8316.  02:30B3  6F                  	ld	l,a
    8317.  02:30B4  E5                  	push	hl
    8318.  02:30B5  21 40 00            	ld	hl,64	;const
    8319.  02:30B8  39                  	add	hl,sp
    8320.  02:30B9  7E                  	ld	a,(hl)	;l_gint
    8321.  02:30BA  23                  	inc	hl
    8322.  02:30BB  66                  	ld	h,(hl)
    8323.  02:30BC  6F                  	ld	l,a
    8324.  02:30BD  E5                  	push	hl
    8325.  02:30BE  CD 6D 0E            	call	_ld_clust
    8326.  02:30C1  C1                  	pop	bc
    8327.  02:30C2  C1                  	pop	bc
    8328.  02:30C3  C1                  	pop	bc
    8329.  02:30C4  CD C3 54            	call	l_plong
    8330.  02:30C7  21 4A 00            	ld	hl,74	;const
    8331.  02:30CA  39                  	add	hl,sp
    8332.  02:30CB  E5                  	push	hl
    8333.  02:30CC  21 24 00            	ld	hl,36	;const
    8334.  02:30CF  39                  	add	hl,sp
    8335.  02:30D0  E5                  	push	hl
    8336.  02:30D1  21 00 00            	ld	hl,0	;const
    8337.  02:30D4  54                  	ld	d,h
    8338.  02:30D5  5D                  	ld	e,l
    8339.  02:30D6  D5                  	push	de
    8340.  02:30D7  E5                  	push	hl
    8341.  02:30D8  CD 0A 09            	call	_dir_sdi
    8342.  02:30DB  C1                  	pop	bc
    8343.  02:30DC  C1                  	pop	bc
    8344.  02:30DD  C1                  	pop	bc
    8345.  02:30DE  D1                  	pop	de
    8346.  02:30DF  EB                  	ex	de,hl	;l_pint
    8347.  02:30E0  73                  	ld	(hl),e
    8348.  02:30E1  23                  	inc	hl
    8349.  02:30E2  72                  	ld	(hl),d
    8350.  02:30E3  EB                   	ex	de,hl
    8351.  02:30E4  21 4A 00            	ld	hl,74	;const
    8352.  02:30E7  39                  	add	hl,sp
    8353.  02:30E8  7E                  	ld	a,(hl)	;l_gint
    8354.  02:30E9  23                  	inc	hl
    8355.  02:30EA  66                  	ld	h,(hl)
    8356.  02:30EB  6F                  	ld	l,a
    8357.  02:30EC  B4                  	or	h
    8358.  02:30ED  C2 4B 32            	jp	nz,i_314	;EOS
    8359.  02:30F0                      i_320
    8360.  02:30F0  21 4A 00            	ld	hl,74	;const
    8361.  02:30F3  39                  	add	hl,sp
    8362.  02:30F4  E5                  	push	hl
    8363.  02:30F5  21 24 00            	ld	hl,36	;const
    8364.  02:30F8  39                  	add	hl,sp
    8365.  02:30F9  E5                  	push	hl
    8366.  02:30FA  21 00 00            	ld	hl,0	;const
    8367.  02:30FD  E5                  	push	hl
    8368.  02:30FE  CD C9 0E            	call	_dir_read
    8369.  02:3101  C1                  	pop	bc
    8370.  02:3102  C1                  	pop	bc
    8371.  02:3103  D1                  	pop	de
    8372.  02:3104  EB                  	ex	de,hl	;l_pint
    8373.  02:3105  73                  	ld	(hl),e
    8374.  02:3106  23                  	inc	hl
    8375.  02:3107  72                  	ld	(hl),d
    8376.  02:3108  EB                   	ex	de,hl
    8377.  02:3109  21 4A 00            	ld	hl,74	;const
    8378.  02:310C  39                  	add	hl,sp
    8379.  02:310D  7E                  	ld	a,(hl)	;l_gint
    8380.  02:310E  23                  	inc	hl
    8381.  02:310F  66                  	ld	h,(hl)
    8382.  02:3110  6F                  	ld	l,a
    8383.  02:3111  B4                  	or	h
    8384.  02:3112  C2 5E 31            	jp	nz,i_319	;EOS
    8385.  02:3115                      i_321
    8386.  02:3115  21 18 00            	ld	hl,24	;const
    8387.  02:3118  39                  	add	hl,sp
    8388.  02:3119  CD CF 54            	call	l_glong2sp
    8389.  02:311C  21 24 00            	ld	hl,36	;const
    8390.  02:311F  39                  	add	hl,sp	;l_gintspsp
    8391.  02:3120  7E                  	ld	a,(hl)
    8392.  02:3121  23                  	inc	hl
    8393.  02:3122  66                  	ld	h,(hl)
    8394.  02:3123  6F                  	ld	l,a
    8395.  02:3124  E5                  	push	hl
    8396.  02:3125  21 42 00            	ld	hl,66	;const
    8397.  02:3128  39                  	add	hl,sp
    8398.  02:3129  7E                  	ld	a,(hl)	;l_gint
    8399.  02:312A  23                  	inc	hl
    8400.  02:312B  66                  	ld	h,(hl)
    8401.  02:312C  6F                  	ld	l,a
    8402.  02:312D  E5                  	push	hl
    8403.  02:312E  CD 6D 0E            	call	_ld_clust
    8404.  02:3131  C1                  	pop	bc
    8405.  02:3132  C1                  	pop	bc
    8406.  02:3133  CD 6F 56            	call	l_long_eq
    8407.  02:3136  DA 5E 31            	jp	c,i_319	;EOS
    8408.  02:3139                      i_322
    8409.  02:3139  21 4A 00            	ld	hl,74	;const
    8410.  02:313C  39                  	add	hl,sp
    8411.  02:313D  E5                  	push	hl
    8412.  02:313E  21 24 00            	ld	hl,36	;const
    8413.  02:3141  39                  	add	hl,sp
    8414.  02:3142  E5                  	push	hl
    8415.  02:3143  21 00 00            	ld	hl,0	;const
    8416.  02:3146  E5                  	push	hl
    8417.  02:3147  CD C2 0B            	call	_dir_next
    8418.  02:314A  C1                  	pop	bc
    8419.  02:314B  C1                  	pop	bc
    8420.  02:314C  D1                  	pop	de
    8421.  02:314D  EB                  	ex	de,hl	;l_pint
    8422.  02:314E  73                  	ld	(hl),e
    8423.  02:314F  23                  	inc	hl
    8424.  02:3150  72                  	ld	(hl),d
    8425.  02:3151  EB                   	ex	de,hl
    8426.  02:3152                      i_318
    8427.  02:3152  21 4A 00            	ld	hl,74	;const
    8428.  02:3155  39                  	add	hl,sp
    8429.  02:3156  7E                  	ld	a,(hl)	;l_gint
    8430.  02:3157  23                  	inc	hl
    8431.  02:3158  66                  	ld	h,(hl)
    8432.  02:3159  6F                  	ld	l,a
    8433.  02:315A  B4                  	or	h
    8434.  02:315B  CA F0 30            	jp	z,i_320	;EOS
    8435.  02:315E                      i_319
    8436.  02:315E  21 4A 00            	ld	hl,74	;const
    8437.  02:3161  39                  	add	hl,sp
    8438.  02:3162  7E                  	ld	a,(hl)	;l_gint
    8439.  02:3163  23                  	inc	hl
    8440.  02:3164  66                  	ld	h,(hl)
    8441.  02:3165  6F                  	ld	l,a
    8442.  02:3166  11 04 00            	ld	de,4
    8443.  02:3169  A7                  	and	a
    8444.  02:316A  ED 52               	sbc	hl,de
    8445.  02:316C  C2 7A 31            	jp	nz,i_323	;
    8446.  02:316F  21 4A 00            	ld	hl,74	;const
    8447.  02:3172  39                  	add	hl,sp
    8448.  02:3173  11 02 00            	ld	de,2	;const
    8449.  02:3176  73                  	ld	(hl),e
    8450.  02:3177  23                  	inc	hl
    8451.  02:3178  72                  	ld	(hl),d
    8452.  02:3179  EB                  	ex	de,hl
    8453.  02:317A                      i_323
    8454.  02:317A  21 4A 00            	ld	hl,74	;const
    8455.  02:317D  39                  	add	hl,sp
    8456.  02:317E  7E                  	ld	a,(hl)	;l_gint
    8457.  02:317F  23                  	inc	hl
    8458.  02:3180  66                  	ld	h,(hl)
    8459.  02:3181  6F                  	ld	l,a
    8460.  02:3182  B4                  	or	h
    8461.  02:3183  C2 4B 32            	jp	nz,i_314	;EOS
    8462.  02:3186                      i_324
    8463.  02:3186  21 22 00            	ld	hl,34	;const
    8464.  02:3189  39                  	add	hl,sp
    8465.  02:318A  E5                  	push	hl
    8466.  02:318B  21 02 00            	ld	hl,2	;const
    8467.  02:318E  39                  	add	hl,sp
    8468.  02:318F  E5                  	push	hl
    8469.  02:3190  CD 62 11            	call	_get_fileinfo
    8470.  02:3193  C1                  	pop	bc
    8471.  02:3194  C1                  	pop	bc
    8472.  02:3195  21 1C 00            	ld	hl,28	;const
    8473.  02:3198  39                  	add	hl,sp
    8474.  02:3199  AF                  	xor	a
    8475.  02:319A  77                  	ld	(hl),a
    8476.  02:319B  23                  	inc	hl
    8477.  02:319C  77                  	ld	(hl),a
    8478.  02:319D  C3 AA 31            	jp	i_327	;EOS
    8479.  02:31A0                      i_325
    8480.  02:31A0  21 1C 00            	ld	hl,28	;const
    8481.  02:31A3  39                  	add	hl,sp
    8482.  02:31A4  34                  	inc	(hl)
    8483.  02:31A5  7E                  	ld	a,(hl)
    8484.  02:31A6  23                  	inc	hl
    8485.  02:31A7  20 01               	jr	nz,$+3
    8486.  02:31A9  34                  	inc	(hl)
    8487.  02:31AA                      i_327
    8488.  02:31AA  21 09 00            	ld	hl,9	;const
    8489.  02:31AD  39                  	add	hl,sp
    8490.  02:31AE  EB                  	ex	de,hl
    8491.  02:31AF  21 1C 00            	ld	hl,28	;const
    8492.  02:31B2  39                  	add	hl,sp
    8493.  02:31B3  7E                  	ld	a,(hl)	;l_gint
    8494.  02:31B4  23                  	inc	hl
    8495.  02:31B5  66                  	ld	h,(hl)
    8496.  02:31B6  6F                  	ld	l,a
    8497.  02:31B7  19                  	add	hl,de
    8498.  02:31B8  7E                  	ld	a,(hl)	;l_gchar
    8499.  02:31B9  6F                  	ld	l,a
    8500.  02:31BA  17                  	rla
    8501.  02:31BB  9F                  	sbc	a
    8502.  02:31BC  67                  	ld	h,a
    8503.  02:31BD  B5                  	or	l
    8504.  02:31BE  C2 A0 31            	jp	nz,i_325	;EOS
    8505.  02:31C1                      i_326
    8506.  02:31C1  21 1E 00            	ld	hl,30	;const
    8507.  02:31C4  39                  	add	hl,sp	;l_gintspsp
    8508.  02:31C5  7E                  	ld	a,(hl)
    8509.  02:31C6  23                  	inc	hl
    8510.  02:31C7  66                  	ld	h,(hl)
    8511.  02:31C8  6F                  	ld	l,a
    8512.  02:31C9  E5                  	push	hl
    8513.  02:31CA  21 1E 00            	ld	hl,30	;const
    8514.  02:31CD  39                  	add	hl,sp
    8515.  02:31CE  7E                  	ld	a,(hl)	;l_gint
    8516.  02:31CF  23                  	inc	hl
    8517.  02:31D0  66                  	ld	h,(hl)
    8518.  02:31D1  6F                  	ld	l,a
    8519.  02:31D2  23                  	inc	hl
    8520.  02:31D3  D1                  	pop	de
    8521.  02:31D4  EB                  	ex	de,hl
    8522.  02:31D5  A7                  	and	a
    8523.  02:31D6  ED 52               	sbc	hl,de
    8524.  02:31D8  D2 E7 31            	jp	nc,i_328	;
    8525.  02:31DB  21 4A 00            	ld	hl,74	;const
    8526.  02:31DE  39                  	add	hl,sp
    8527.  02:31DF  36 11               	ld	(hl),17
    8528.  02:31E1  23                  	inc	hl
    8529.  02:31E2  36 00               	ld	(hl),0
    8530.  02:31E4  C3 4B 32            	jp	i_314	;EOS
    8531.  02:31E7                      i_329
    8532.  02:31E7  21 1C 00            	ld	hl,28	;const
    8533.  02:31EA  39                  	add	hl,sp
    8534.  02:31EB  7E                  	ld	a,(hl)	;l_gint
    8535.  02:31EC  23                  	inc	hl
    8536.  02:31ED  66                  	ld	h,(hl)
    8537.  02:31EE  6F                  	ld	l,a
    8538.  02:31EF  B4                  	or	h
    8539.  02:31F0  CA 2D 32            	jp	z,i_330	;
    8540.  02:31F3  21 50 00            	ld	hl,80	;const
    8541.  02:31F6  39                  	add	hl,sp	;l_gintspsp
    8542.  02:31F7  7E                  	ld	a,(hl)
    8543.  02:31F8  23                  	inc	hl
    8544.  02:31F9  66                  	ld	h,(hl)
    8545.  02:31FA  6F                  	ld	l,a
    8546.  02:31FB  E5                  	push	hl
    8547.  02:31FC  21 20 00            	ld	hl,32	;const
    8548.  02:31FF  39                  	add	hl,sp
    8549.  02:3200  35                  	dec	(hl)
    8550.  02:3201  7E                  	ld	a,(hl)
    8551.  02:3202  23                  	inc	hl
    8552.  02:3203  FE FF               	cp	255
    8553.  02:3205  20 01               	jr	nz,$+3
    8554.  02:3207  35                  	dec	(hl)
    8555.  02:3208  66                  	ld	h,(hl)
    8556.  02:3209  6F                  	ld	l,a
    8557.  02:320A  D1                  	pop	de
    8558.  02:320B  19                  	add	hl,de
    8559.  02:320C  E5                  	push	hl
    8560.  02:320D  21 0B 00            	ld	hl,11	;const
    8561.  02:3210  39                  	add	hl,sp
    8562.  02:3211  E5                  	push	hl
    8563.  02:3212  21 20 00            	ld	hl,32	;const
    8564.  02:3215  39                  	add	hl,sp
    8565.  02:3216  35                  	dec	(hl)
    8566.  02:3217  7E                  	ld	a,(hl)
    8567.  02:3218  23                  	inc	hl
    8568.  02:3219  FE FF               	cp	255
    8569.  02:321B  20 01               	jr	nz,$+3
    8570.  02:321D  35                  	dec	(hl)
    8571.  02:321E  66                  	ld	h,(hl)
    8572.  02:321F  6F                  	ld	l,a
    8573.  02:3220  D1                  	pop	de
    8574.  02:3221  19                  	add	hl,de
    8575.  02:3222  7E                  	ld	a,(hl)	;l_gchar
    8576.  02:3223  6F                  	ld	l,a
    8577.  02:3224  17                  	rla
    8578.  02:3225  9F                  	sbc	a
    8579.  02:3226  67                  	ld	h,a
    8580.  02:3227  D1                  	pop	de
    8581.  02:3228  7D                  	ld	a,l
    8582.  02:3229  12                  	ld	(de),a
    8583.  02:322A  C3 E7 31            	jp	i_329	;EOS
    8584.  02:322D                      i_330
    8585.  02:322D  21 50 00            	ld	hl,80	;const
    8586.  02:3230  39                  	add	hl,sp	;l_gintspsp
    8587.  02:3231  7E                  	ld	a,(hl)
    8588.  02:3232  23                  	inc	hl
    8589.  02:3233  66                  	ld	h,(hl)
    8590.  02:3234  6F                  	ld	l,a
    8591.  02:3235  E5                  	push	hl
    8592.  02:3236  21 20 00            	ld	hl,32	;const
    8593.  02:3239  39                  	add	hl,sp
    8594.  02:323A  35                  	dec	(hl)
    8595.  02:323B  7E                  	ld	a,(hl)
    8596.  02:323C  23                  	inc	hl
    8597.  02:323D  FE FF               	cp	255
    8598.  02:323F  20 01               	jr	nz,$+3
    8599.  02:3241  35                  	dec	(hl)
    8600.  02:3242  66                  	ld	h,(hl)
    8601.  02:3243  6F                  	ld	l,a
    8602.  02:3244  D1                  	pop	de
    8603.  02:3245  19                  	add	hl,de
    8604.  02:3246  36 2F               	ld	(hl),47
    8605.  02:3248  C3 37 30            	jp	i_313	;EOS
    8606.  02:324B                      i_310
    8607.  02:324B  21 4A 00            	ld	hl,74	;const
    8608.  02:324E  39                  	add	hl,sp
    8609.  02:324F  7E                  	ld	a,(hl)	;l_gint
    8610.  02:3250  23                  	inc	hl
    8611.  02:3251  66                  	ld	h,(hl)
    8612.  02:3252  6F                  	ld	l,a
    8613.  02:3253  B4                  	or	h
    8614.  02:3254  20 01               	jr	nz,$+3
    8615.  02:3256  37                  	scf
    8616.  02:3257  D2 D8 32            	jp	nc,i_331	;
    8617.  02:325A  21 1E 00            	ld	hl,30	;const
    8618.  02:325D  39                  	add	hl,sp
    8619.  02:325E  5E                  	ld	e,(hl)
    8620.  02:325F  23                  	inc	hl
    8621.  02:3260  56                  	ld	d,(hl)
    8622.  02:3261  21 4E 00            	ld	hl,78	;const
    8623.  02:3264  39                  	add	hl,sp
    8624.  02:3265  7E                  	ld	a,(hl)	;l_gint
    8625.  02:3266  23                  	inc	hl
    8626.  02:3267  66                  	ld	h,(hl)
    8627.  02:3268  6F                  	ld	l,a
    8628.  02:3269  CD FE 56            	call	l_eq
    8629.  02:326C  D2 8A 32            	jp	nc,i_332	;
    8630.  02:326F  21 50 00            	ld	hl,80	;const
    8631.  02:3272  39                  	add	hl,sp	;l_gintspsp
    8632.  02:3273  7E                  	ld	a,(hl)
    8633.  02:3274  23                  	inc	hl
    8634.  02:3275  66                  	ld	h,(hl)
    8635.  02:3276  6F                  	ld	l,a
    8636.  02:3277  E5                  	push	hl
    8637.  02:3278  21 20 00            	ld	hl,32	;const
    8638.  02:327B  39                  	add	hl,sp
    8639.  02:327C  35                  	dec	(hl)
    8640.  02:327D  7E                  	ld	a,(hl)
    8641.  02:327E  23                  	inc	hl
    8642.  02:327F  FE FF               	cp	255
    8643.  02:3281  20 01               	jr	nz,$+3
    8644.  02:3283  35                  	dec	(hl)
    8645.  02:3284  66                  	ld	h,(hl)
    8646.  02:3285  6F                  	ld	l,a
    8647.  02:3286  D1                  	pop	de
    8648.  02:3287  19                  	add	hl,de
    8649.  02:3288  36 2F               	ld	(hl),47
    8650.  02:328A                      i_332
    8651.  02:328A  21 4A 00            	ld	hl,74	;const
    8652.  02:328D  39                  	add	hl,sp
    8653.  02:328E  7E                  	ld	a,(hl)	;l_gint
    8654.  02:328F  23                  	inc	hl
    8655.  02:3290  66                  	ld	h,(hl)
    8656.  02:3291  6F                  	ld	l,a
    8657.  02:3292  B4                  	or	h
    8658.  02:3293  20 01               	jr	nz,$+3
    8659.  02:3295  37                  	scf
    8660.  02:3296  D2 D8 32            	jp	nc,i_333	;
    8661.  02:3299                      i_336
    8662.  02:3299  21 16 00            	ld	hl,22	;const
    8663.  02:329C  39                  	add	hl,sp
    8664.  02:329D  34                  	inc	(hl)
    8665.  02:329E  7E                  	ld	a,(hl)
    8666.  02:329F  23                  	inc	hl
    8667.  02:32A0  20 01               	jr	nz,$+3
    8668.  02:32A2  34                  	inc	(hl)
    8669.  02:32A3  66                  	ld	h,(hl)
    8670.  02:32A4  6F                  	ld	l,a
    8671.  02:32A5  2B                  	dec	hl
    8672.  02:32A6  E5                  	push	hl
    8673.  02:32A7  21 52 00            	ld	hl,82	;const
    8674.  02:32AA  39                  	add	hl,sp	;l_gintspsp
    8675.  02:32AB  7E                  	ld	a,(hl)
    8676.  02:32AC  23                  	inc	hl
    8677.  02:32AD  66                  	ld	h,(hl)
    8678.  02:32AE  6F                  	ld	l,a
    8679.  02:32AF  E5                  	push	hl
    8680.  02:32B0  21 22 00            	ld	hl,34	;const
    8681.  02:32B3  39                  	add	hl,sp
    8682.  02:32B4  34                  	inc	(hl)
    8683.  02:32B5  7E                  	ld	a,(hl)
    8684.  02:32B6  23                  	inc	hl
    8685.  02:32B7  20 01               	jr	nz,$+3
    8686.  02:32B9  34                  	inc	(hl)
    8687.  02:32BA  66                  	ld	h,(hl)
    8688.  02:32BB  6F                  	ld	l,a
    8689.  02:32BC  2B                  	dec	hl
    8690.  02:32BD  D1                  	pop	de
    8691.  02:32BE  19                  	add	hl,de
    8692.  02:32BF  7E                  	ld	a,(hl)
    8693.  02:32C0  D1                  	pop	de
    8694.  02:32C1  12                  	ld	(de),a
    8695.  02:32C2                      i_334
    8696.  02:32C2  21 1E 00            	ld	hl,30	;const
    8697.  02:32C5  39                  	add	hl,sp
    8698.  02:32C6  5E                  	ld	e,(hl)
    8699.  02:32C7  23                  	inc	hl
    8700.  02:32C8  56                  	ld	d,(hl)
    8701.  02:32C9  21 4E 00            	ld	hl,78	;const
    8702.  02:32CC  39                  	add	hl,sp
    8703.  02:32CD  7E                  	ld	a,(hl)	;l_gint
    8704.  02:32CE  23                  	inc	hl
    8705.  02:32CF  66                  	ld	h,(hl)
    8706.  02:32D0  6F                  	ld	l,a
    8707.  02:32D1  EB                  	ex	de,hl
    8708.  02:32D2  A7                  	and	a
    8709.  02:32D3  ED 52               	sbc	hl,de
    8710.  02:32D5  DA 99 32            	jp	c,i_336	;EOS
    8711.  02:32D8                      i_309
    8712.  02:32D8  21 16 00            	ld	hl,22	;const
    8713.  02:32DB  39                  	add	hl,sp	;l_gintspsp
    8714.  02:32DC  7E                  	ld	a,(hl)
    8715.  02:32DD  23                  	inc	hl
    8716.  02:32DE  66                  	ld	h,(hl)
    8717.  02:32DF  6F                  	ld	l,a
    8718.  02:32E0  E5                  	push	hl
    8719.  02:32E1  D1                  	pop	de
    8720.  02:32E2  AF                  	xor	a
    8721.  02:32E3  12                  	ld	(de),a
    8722.  02:32E4  21 4A 00            	ld	hl,74	;const
    8723.  02:32E7  39                  	add	hl,sp
    8724.  02:32E8  7E                  	ld	a,(hl)	;l_gint
    8725.  02:32E9  23                  	inc	hl
    8726.  02:32EA  66                  	ld	h,(hl)
    8727.  02:32EB  6F                  	ld	l,a
    8728.  02:32EC  D9                  	exx
    8729.  02:32ED  21 4C 00            	ld	hl,76	;const
    8730.  02:32F0  39                  	add	hl,sp
    8731.  02:32F1  F9                  	ld	sp,hl
    8732.  02:32F2  D9                  	exx
    8733.  02:32F3  C9                  	ret
    8734.  02:32F4                      
    8735.  02:32F4                      
    8736.  02:32F4                      	C_LINE	4470,"./ff.c::f_getcwd::0::131"
    8737.  02:32F4                      
    8738.  02:32F4                      ; Function f_lseek flags 0x00000200 __smallc 
    8739.  02:32F4                      ; const int FRESULTf_lseek(struct 0__anonstruct_214_2 FIL* fp, unsigned long ofs)
    8740.  02:32F4                      ; parameter 'unsigned long ofs' at sp+2 size(4)
    8741.  02:32F4                      ; parameter 'struct 0__anonstruct_214_2 FIL* fp' at sp+6 size(2)
    8742.  02:32F4                      	C_LINE	4474,"./ff.c::f_lseek::0::131"
    8743.  02:32F4                      @_f_lseek
    8744.  02:32F4  21 EC FF            	ld	hl,65516	;const
    8745.  02:32F7  39                  	add	hl,sp
    8746.  02:32F8  F9                  	ld	sp,hl
    8747.  02:32F9  21 12 00            	ld	hl,18	;const
    8748.  02:32FC  39                  	add	hl,sp
    8749.  02:32FD  E5                  	push	hl
    8750.  02:32FE  21 1C 00            	ld	hl,28	;const
    8751.  02:3301  39                  	add	hl,sp	;l_gintspsp
    8752.  02:3302  7E                  	ld	a,(hl)
    8753.  02:3303  23                  	inc	hl
    8754.  02:3304  66                  	ld	h,(hl)
    8755.  02:3305  6F                  	ld	l,a
    8756.  02:3306  E5                  	push	hl
    8757.  02:3307  21 14 00            	ld	hl,20	;const
    8758.  02:330A  39                  	add	hl,sp
    8759.  02:330B  E5                  	push	hl
    8760.  02:330C  CD 3D 26            	call	_validate
    8761.  02:330F  C1                  	pop	bc
    8762.  02:3310  C1                  	pop	bc
    8763.  02:3311  D1                  	pop	de
    8764.  02:3312  EB                  	ex	de,hl	;l_pint
    8765.  02:3313  73                  	ld	(hl),e
    8766.  02:3314  23                  	inc	hl
    8767.  02:3315  72                  	ld	(hl),d
    8768.  02:3316  EB                   	ex	de,hl
    8769.  02:3317  21 12 00            	ld	hl,18	;const
    8770.  02:331A  39                  	add	hl,sp
    8771.  02:331B  7E                  	ld	a,(hl)	;l_gint
    8772.  02:331C  23                  	inc	hl
    8773.  02:331D  66                  	ld	h,(hl)
    8774.  02:331E  6F                  	ld	l,a
    8775.  02:331F  B4                  	or	h
    8776.  02:3320  20 01               	jr	nz,$+3
    8777.  02:3322  37                  	scf
    8778.  02:3323  D2 3F 33            	jp	nc,i_337	;
    8779.  02:3326  21 12 00            	ld	hl,18	;const
    8780.  02:3329  39                  	add	hl,sp
    8781.  02:332A  E5                  	push	hl
    8782.  02:332B  21 1C 00            	ld	hl,28	;const
    8783.  02:332E  39                  	add	hl,sp
    8784.  02:332F  4E                  	ld	c,(hl)
    8785.  02:3330  23                  	inc	hl
    8786.  02:3331  46                  	ld	b,(hl)
    8787.  02:3332  21 0F 00            	ld	hl,15
    8788.  02:3335  09                  	add	hl,bc
    8789.  02:3336  6E                  	ld	l,(hl)
    8790.  02:3337  26 00               	ld	h,0
    8791.  02:3339  D1                  	pop	de
    8792.  02:333A  EB                  	ex	de,hl	;l_pint
    8793.  02:333B  73                  	ld	(hl),e
    8794.  02:333C  23                  	inc	hl
    8795.  02:333D  72                  	ld	(hl),d
    8796.  02:333E  EB                   	ex	de,hl
    8797.  02:333F                      i_337
    8798.  02:333F  21 12 00            	ld	hl,18	;const
    8799.  02:3342  39                  	add	hl,sp
    8800.  02:3343  7E                  	ld	a,(hl)	;l_gint
    8801.  02:3344  23                  	inc	hl
    8802.  02:3345  66                  	ld	h,(hl)
    8803.  02:3346  6F                  	ld	l,a
    8804.  02:3347  B4                  	or	h
    8805.  02:3348  CA 5B 33            	jp	z,i_338	;
    8806.  02:334B  21 12 00            	ld	hl,18	;const
    8807.  02:334E  39                  	add	hl,sp
    8808.  02:334F  7E                  	ld	a,(hl)	;l_gint
    8809.  02:3350  23                  	inc	hl
    8810.  02:3351  66                  	ld	h,(hl)
    8811.  02:3352  6F                  	ld	l,a
    8812.  02:3353  D9                  	exx
    8813.  02:3354  21 14 00            	ld	hl,20	;const
    8814.  02:3357  39                  	add	hl,sp
    8815.  02:3358  F9                  	ld	sp,hl
    8816.  02:3359  D9                  	exx
    8817.  02:335A  C9                  	ret
    8818.  02:335B                      
    8819.  02:335B                      
    8820.  02:335B                      i_338
    8821.  02:335B  21 16 00            	ld	hl,22	;const
    8822.  02:335E  39                  	add	hl,sp
    8823.  02:335F  CD CF 54            	call	l_glong2sp
    8824.  02:3362  21 1E 00            	ld	hl,30	;const
    8825.  02:3365  39                  	add	hl,sp
    8826.  02:3366  4E                  	ld	c,(hl)
    8827.  02:3367  23                  	inc	hl
    8828.  02:3368  46                  	ld	b,(hl)
    8829.  02:3369  21 0A 00            	ld	hl,10
    8830.  02:336C  09                  	add	hl,bc
    8831.  02:336D  CD DE 54            	call	l_glong
    8832.  02:3370  CD E8 54            	call	l_long_ugt
    8833.  02:3373  D2 A0 33            	jp	nc,i_340	;
    8834.  02:3376  C3 89 33            	jp	i_341	;EOS
    8835.  02:3379  21 1A 00            	ld	hl,26	;const
    8836.  02:337C  39                  	add	hl,sp
    8837.  02:337D  4E                  	ld	c,(hl)
    8838.  02:337E  23                  	inc	hl
    8839.  02:337F  46                  	ld	b,(hl)
    8840.  02:3380  21 0E 00            	ld	hl,14
    8841.  02:3383  09                  	add	hl,bc
    8842.  02:3384  CB 4E               	bit	1,(hl)
    8843.  02:3386  C2 A0 33            	jp	nz,i_340	;
    8844.  02:3389                      i_343_i_340
    8845.  02:3389  21 16 00            	ld	hl,22	;const
    8846.  02:338C  39                  	add	hl,sp
    8847.  02:338D  E5                  	push	hl
    8848.  02:338E  21 1C 00            	ld	hl,28	;const
    8849.  02:3391  39                  	add	hl,sp
    8850.  02:3392  4E                  	ld	c,(hl)
    8851.  02:3393  23                  	inc	hl
    8852.  02:3394  46                  	ld	b,(hl)
    8853.  02:3395  21 0A 00            	ld	hl,10
    8854.  02:3398  09                  	add	hl,bc
    8855.  02:3399  CD DE 54            	call	l_glong
    8856.  02:339C  C1                  	pop	bc
    8857.  02:339D  CD C3 54            	call	l_plong
    8858.  02:33A0                      i_339
    8859.  02:33A0  21 00 00            	ld	hl,0	;const
    8860.  02:33A3  39                  	add	hl,sp
    8861.  02:33A4  E5                  	push	hl
    8862.  02:33A5  21 1C 00            	ld	hl,28	;const
    8863.  02:33A8  39                  	add	hl,sp
    8864.  02:33A9  4E                  	ld	c,(hl)
    8865.  02:33AA  23                  	inc	hl
    8866.  02:33AB  46                  	ld	b,(hl)
    8867.  02:33AC  21 10 00            	ld	hl,16
    8868.  02:33AF  09                  	add	hl,bc
    8869.  02:33B0  CD DE 54            	call	l_glong
    8870.  02:33B3  C1                  	pop	bc
    8871.  02:33B4  CD C3 54            	call	l_plong
    8872.  02:33B7  21 1A 00            	ld	hl,26	;const
    8873.  02:33BA  39                  	add	hl,sp
    8874.  02:33BB  4E                  	ld	c,(hl)
    8875.  02:33BC  23                  	inc	hl
    8876.  02:33BD  46                  	ld	b,(hl)
    8877.  02:33BE  21 10 00            	ld	hl,16
    8878.  02:33C1  09                  	add	hl,bc
    8879.  02:33C2  E5                  	push	hl
    8880.  02:33C3  21 06 00            	ld	hl,6	;const
    8881.  02:33C6  39                  	add	hl,sp
    8882.  02:33C7  E5                  	push	hl
    8883.  02:33C8  21 00 00            	ld	hl,0	;const
    8884.  02:33CB  54                  	ld	d,h
    8885.  02:33CC  5D                  	ld	e,l
    8886.  02:33CD  C1                  	pop	bc
    8887.  02:33CE  CD C3 54            	call	l_plong
    8888.  02:33D1  C1                  	pop	bc
    8889.  02:33D2  CD C3 54            	call	l_plong
    8890.  02:33D5  21 16 00            	ld	hl,22	;const
    8891.  02:33D8  39                  	add	hl,sp
    8892.  02:33D9  CD DE 54            	call	l_glong
    8893.  02:33DC  7A                  	ld	a,d
    8894.  02:33DD  B3                  	or	e
    8895.  02:33DE  B4                  	or	h
    8896.  02:33DF  B5                  	or	l
    8897.  02:33E0  CA F2 36            	jp	z,i_344	;
    8898.  02:33E3  21 08 00            	ld	hl,8	;const
    8899.  02:33E6  39                  	add	hl,sp
    8900.  02:33E7  E5                  	push	hl
    8901.  02:33E8  21 12 00            	ld	hl,18	;const
    8902.  02:33EB  39                  	add	hl,sp
    8903.  02:33EC  4E                  	ld	c,(hl)
    8904.  02:33ED  23                  	inc	hl
    8905.  02:33EE  46                  	ld	b,(hl)
    8906.  02:33EF  21 0A 00            	ld	hl,10
    8907.  02:33F2  09                  	add	hl,bc
    8908.  02:33F3  7E                  	ld	a,(hl)	;l_gint
    8909.  02:33F4  23                  	inc	hl
    8910.  02:33F5  66                  	ld	h,(hl)
    8911.  02:33F6  6F                  	ld	l,a
    8912.  02:33F7  11 00 00            	ld	de,0
    8913.  02:33FA  D5                  	push	de
    8914.  02:33FB  E5                  	push	hl
    8915.  02:33FC  21 00 02            	ld	hl,512	;const
    8916.  02:33FF  11 00 00            	ld	de,0
    8917.  02:3402  CD 38 55            	call	l_long_mult
    8918.  02:3405  C1                  	pop	bc
    8919.  02:3406  CD C3 54            	call	l_plong
    8920.  02:3409  21 00 00            	ld	hl,0	;const
    8921.  02:340C  39                  	add	hl,sp
    8922.  02:340D  CD DE 54            	call	l_glong
    8923.  02:3410  7A                  	ld	a,d
    8924.  02:3411  B3                  	or	e
    8925.  02:3412  B4                  	or	h
    8926.  02:3413  B5                  	or	l
    8927.  02:3414  CA C4 34            	jp	z,i_346	;
    8928.  02:3417  21 16 00            	ld	hl,22	;const
    8929.  02:341A  39                  	add	hl,sp
    8930.  02:341B  CD DE 54            	call	l_glong
    8931.  02:341E  7C                  	ld	a,h
    8932.  02:341F  B5                  	or	l
    8933.  02:3420  2B                  	dec	hl
    8934.  02:3421  20 01               	jr	nz,$+3
    8935.  02:3423  1B                  	dec	de
    8936.  02:3424  D5                  	push	de
    8937.  02:3425  E5                  	push	hl
    8938.  02:3426  21 0C 00            	ld	hl,12	;const
    8939.  02:3429  39                  	add	hl,sp
    8940.  02:342A  CD DE 54            	call	l_glong
    8941.  02:342D  CD FB 55            	call	l_long_div_u
    8942.  02:3430  D5                  	push	de
    8943.  02:3431  E5                  	push	hl
    8944.  02:3432  21 04 00            	ld	hl,4	;const
    8945.  02:3435  39                  	add	hl,sp
    8946.  02:3436  CD DE 54            	call	l_glong
    8947.  02:3439  7C                  	ld	a,h
    8948.  02:343A  B5                  	or	l
    8949.  02:343B  2B                  	dec	hl
    8950.  02:343C  20 01               	jr	nz,$+3
    8951.  02:343E  1B                  	dec	de
    8952.  02:343F  D5                  	push	de
    8953.  02:3440  E5                  	push	hl
    8954.  02:3441  21 10 00            	ld	hl,16	;const
    8955.  02:3444  39                  	add	hl,sp
    8956.  02:3445  CD DE 54            	call	l_glong
    8957.  02:3448  CD FB 55            	call	l_long_div_u
    8958.  02:344B  CD E9 55            	call	l_long_uge
    8959.  02:344E  D2 C4 34            	jp	nc,i_346	;
    8960.  02:3451                      i_347_i_346
    8961.  02:3451  21 1A 00            	ld	hl,26	;const
    8962.  02:3454  39                  	add	hl,sp
    8963.  02:3455  4E                  	ld	c,(hl)
    8964.  02:3456  23                  	inc	hl
    8965.  02:3457  46                  	ld	b,(hl)
    8966.  02:3458  21 10 00            	ld	hl,16
    8967.  02:345B  09                  	add	hl,bc
    8968.  02:345C  E5                  	push	hl
    8969.  02:345D  21 02 00            	ld	hl,2	;const
    8970.  02:3460  39                  	add	hl,sp
    8971.  02:3461  CD DE 54            	call	l_glong
    8972.  02:3464  7C                  	ld	a,h
    8973.  02:3465  B5                  	or	l
    8974.  02:3466  2B                  	dec	hl
    8975.  02:3467  20 01               	jr	nz,$+3
    8976.  02:3469  1B                  	dec	de
    8977.  02:346A  D5                  	push	de
    8978.  02:346B  E5                  	push	hl
    8979.  02:346C  21 0E 00            	ld	hl,14	;const
    8980.  02:346F  39                  	add	hl,sp
    8981.  02:3470  CD DE 54            	call	l_glong
    8982.  02:3473  7C                  	ld	a,h
    8983.  02:3474  B5                  	or	l
    8984.  02:3475  2B                  	dec	hl
    8985.  02:3476  20 01               	jr	nz,$+3
    8986.  02:3478  1B                  	dec	de
    8987.  02:3479  CD D2 56            	call	l_long_com
    8988.  02:347C  CD 9E 56            	call	l_long_and
    8989.  02:347F  C1                  	pop	bc
    8990.  02:3480  CD C3 54            	call	l_plong
    8991.  02:3483  21 16 00            	ld	hl,22	;const
    8992.  02:3486  39                  	add	hl,sp
    8993.  02:3487  E5                  	push	hl
    8994.  02:3488  CD CF 54            	call	l_glong2sp
    8995.  02:348B  21 20 00            	ld	hl,32	;const
    8996.  02:348E  39                  	add	hl,sp
    8997.  02:348F  4E                  	ld	c,(hl)
    8998.  02:3490  23                  	inc	hl
    8999.  02:3491  46                  	ld	b,(hl)
    9000.  02:3492  21 10 00            	ld	hl,16
    9001.  02:3495  09                  	add	hl,bc
    9002.  02:3496  CD DE 54            	call	l_glong
    9003.  02:3499  4D                  	ld	c,l
    9004.  02:349A  44                  	ld	b,h
    9005.  02:349B  E1                  	pop	hl
    9006.  02:349C  A7                  	and	a
    9007.  02:349D  ED 42               	sbc	hl,bc
    9008.  02:349F  EB                  	ex	de,hl
    9009.  02:34A0  4D                  	ld	c,l
    9010.  02:34A1  44                  	ld	b,h
    9011.  02:34A2  E1                  	pop	hl
    9012.  02:34A3  ED 42               	sbc	hl,bc
    9013.  02:34A5  EB                  	ex	de,hl
    9014.  02:34A6  C1                  	pop	bc
    9015.  02:34A7  CD C3 54            	call	l_plong
    9016.  02:34AA  21 0C 00            	ld	hl,12	;const
    9017.  02:34AD  39                  	add	hl,sp
    9018.  02:34AE  E5                  	push	hl
    9019.  02:34AF  21 1C 00            	ld	hl,28	;const
    9020.  02:34B2  39                  	add	hl,sp
    9021.  02:34B3  4E                  	ld	c,(hl)
    9022.  02:34B4  23                  	inc	hl
    9023.  02:34B5  46                  	ld	b,(hl)
    9024.  02:34B6  21 14 00            	ld	hl,20
    9025.  02:34B9  09                  	add	hl,bc
    9026.  02:34BA  CD DE 54            	call	l_glong
    9027.  02:34BD  C1                  	pop	bc
    9028.  02:34BE  CD C3 54            	call	l_plong
    9029.  02:34C1  C3 F2 34            	jp	i_348	;EOS
    9030.  02:34C4                      i_345
    9031.  02:34C4  21 0C 00            	ld	hl,12	;const
    9032.  02:34C7  39                  	add	hl,sp
    9033.  02:34C8  E5                  	push	hl
    9034.  02:34C9  21 1C 00            	ld	hl,28	;const
    9035.  02:34CC  39                  	add	hl,sp
    9036.  02:34CD  4E                  	ld	c,(hl)
    9037.  02:34CE  23                  	inc	hl
    9038.  02:34CF  46                  	ld	b,(hl)
    9039.  02:34D0  21 06 00            	ld	hl,6
    9040.  02:34D3  09                  	add	hl,bc
    9041.  02:34D4  CD DE 54            	call	l_glong
    9042.  02:34D7  C1                  	pop	bc
    9043.  02:34D8  CD C3 54            	call	l_plong
    9044.  02:34DB  21 1A 00            	ld	hl,26	;const
    9045.  02:34DE  39                  	add	hl,sp
    9046.  02:34DF  4E                  	ld	c,(hl)
    9047.  02:34E0  23                  	inc	hl
    9048.  02:34E1  46                  	ld	b,(hl)
    9049.  02:34E2  21 14 00            	ld	hl,20
    9050.  02:34E5  09                  	add	hl,bc
    9051.  02:34E6  E5                  	push	hl
    9052.  02:34E7  21 0E 00            	ld	hl,14	;const
    9053.  02:34EA  39                  	add	hl,sp
    9054.  02:34EB  CD DE 54            	call	l_glong
    9055.  02:34EE  C1                  	pop	bc
    9056.  02:34EF  CD C3 54            	call	l_plong
    9057.  02:34F2                      i_348
    9058.  02:34F2  21 0C 00            	ld	hl,12	;const
    9059.  02:34F5  39                  	add	hl,sp
    9060.  02:34F6  CD DE 54            	call	l_glong
    9061.  02:34F9  7A                  	ld	a,d
    9062.  02:34FA  B3                  	or	e
    9063.  02:34FB  B4                  	or	h
    9064.  02:34FC  B5                  	or	l
    9065.  02:34FD  CA F2 36            	jp	z,i_349	;
    9066.  02:3500                      i_350
    9067.  02:3500  21 16 00            	ld	hl,22	;const
    9068.  02:3503  39                  	add	hl,sp
    9069.  02:3504  CD CF 54            	call	l_glong2sp
    9070.  02:3507  21 0C 00            	ld	hl,12	;const
    9071.  02:350A  39                  	add	hl,sp
    9072.  02:350B  CD DE 54            	call	l_glong
    9073.  02:350E  CD E8 54            	call	l_long_ugt
    9074.  02:3511  D2 FD 35            	jp	nc,i_351	;
    9075.  02:3514  21 16 00            	ld	hl,22	;const
    9076.  02:3517  39                  	add	hl,sp
    9077.  02:3518  E5                  	push	hl
    9078.  02:3519  CD CF 54            	call	l_glong2sp
    9079.  02:351C  21 0E 00            	ld	hl,14	;const
    9080.  02:351F  39                  	add	hl,sp
    9081.  02:3520  CD DE 54            	call	l_glong
    9082.  02:3523  4D                  	ld	c,l
    9083.  02:3524  44                  	ld	b,h
    9084.  02:3525  E1                  	pop	hl
    9085.  02:3526  A7                  	and	a
    9086.  02:3527  ED 42               	sbc	hl,bc
    9087.  02:3529  EB                  	ex	de,hl
    9088.  02:352A  4D                  	ld	c,l
    9089.  02:352B  44                  	ld	b,h
    9090.  02:352C  E1                  	pop	hl
    9091.  02:352D  ED 42               	sbc	hl,bc
    9092.  02:352F  EB                  	ex	de,hl
    9093.  02:3530  C1                  	pop	bc
    9094.  02:3531  CD C3 54            	call	l_plong
    9095.  02:3534  21 1A 00            	ld	hl,26	;const
    9096.  02:3537  39                  	add	hl,sp
    9097.  02:3538  4E                  	ld	c,(hl)
    9098.  02:3539  23                  	inc	hl
    9099.  02:353A  46                  	ld	b,(hl)
    9100.  02:353B  21 10 00            	ld	hl,16
    9101.  02:353E  09                  	add	hl,bc
    9102.  02:353F  E5                  	push	hl
    9103.  02:3540  CD CF 54            	call	l_glong2sp
    9104.  02:3543  21 0E 00            	ld	hl,14	;const
    9105.  02:3546  39                  	add	hl,sp
    9106.  02:3547  CD DE 54            	call	l_glong
    9107.  02:354A  C1                  	pop	bc
    9108.  02:354B  09                  	add	hl,bc
    9109.  02:354C  EB                  	ex	de,hl
    9110.  02:354D  C1                  	pop	bc
    9111.  02:354E  ED 4A               	adc	hl,bc
    9112.  02:3550  EB                  	ex	de,hl
    9113.  02:3551  C1                  	pop	bc
    9114.  02:3552  CD C3 54            	call	l_plong
    9115.  02:3555  21 0C 00            	ld	hl,12	;const
    9116.  02:3558  39                  	add	hl,sp
    9117.  02:3559  E5                  	push	hl
    9118.  02:355A  21 1C 00            	ld	hl,28	;const
    9119.  02:355D  39                  	add	hl,sp	;l_gintspsp
    9120.  02:355E  7E                  	ld	a,(hl)
    9121.  02:355F  23                  	inc	hl
    9122.  02:3560  66                  	ld	h,(hl)
    9123.  02:3561  6F                  	ld	l,a
    9124.  02:3562  E5                  	push	hl
    9125.  02:3563  21 10 00            	ld	hl,16	;const
    9126.  02:3566  39                  	add	hl,sp
    9127.  02:3567  CD DE 54            	call	l_glong
    9128.  02:356A  D5                  	push	de
    9129.  02:356B  E5                  	push	hl
    9130.  02:356C  CD 49 06            	call	_get_fat
    9131.  02:356F  C1                  	pop	bc
    9132.  02:3570  C1                  	pop	bc
    9133.  02:3571  C1                  	pop	bc
    9134.  02:3572  C1                  	pop	bc
    9135.  02:3573  CD C3 54            	call	l_plong
    9136.  02:3576  21 0C 00            	ld	hl,12	;const
    9137.  02:3579  39                  	add	hl,sp
    9138.  02:357A  CD CF 54            	call	l_glong2sp
    9139.  02:357D  21 FF FF            	ld	hl,65535	;const
    9140.  02:3580  11 FF FF            	ld	de,65535
    9141.  02:3583  CD 6F 56            	call	l_long_eq
    9142.  02:3586  D2 9F 35            	jp	nc,i_352	;
    9143.  02:3589  21 1A 00            	ld	hl,26	;const
    9144.  02:358C  39                  	add	hl,sp
    9145.  02:358D  4E                  	ld	c,(hl)
    9146.  02:358E  23                  	inc	hl
    9147.  02:358F  46                  	ld	b,(hl)
    9148.  02:3590  21 0F 00            	ld	hl,15
    9149.  02:3593  09                  	add	hl,bc
    9150.  02:3594  36 01               	ld	(hl),1
    9151.  02:3596  21 14 00            	ld	hl,20	;const
    9152.  02:3599  39                  	add	hl,sp
    9153.  02:359A  F9                  	ld	sp,hl
    9154.  02:359B  21 01 00            	ld	hl,1	;const
    9155.  02:359E  C9                  	ret
    9156.  02:359F                      
    9157.  02:359F                      
    9158.  02:359F                      i_352
    9159.  02:359F  21 0C 00            	ld	hl,12	;const
    9160.  02:35A2  39                  	add	hl,sp
    9161.  02:35A3  CD CF 54            	call	l_glong2sp
    9162.  02:35A6  21 01 00            	ld	hl,1	;const
    9163.  02:35A9  11 00 00            	ld	de,0
    9164.  02:35AC  CD DF 56            	call	l_long_ule
    9165.  02:35AF  DA CD 35            	jp	c,i_354	;
    9166.  02:35B2  21 0C 00            	ld	hl,12	;const
    9167.  02:35B5  39                  	add	hl,sp
    9168.  02:35B6  CD CF 54            	call	l_glong2sp
    9169.  02:35B9  21 14 00            	ld	hl,20	;const
    9170.  02:35BC  39                  	add	hl,sp
    9171.  02:35BD  4E                  	ld	c,(hl)
    9172.  02:35BE  23                  	inc	hl
    9173.  02:35BF  46                  	ld	b,(hl)
    9174.  02:35C0  21 18 00            	ld	hl,24
    9175.  02:35C3  09                  	add	hl,bc
    9176.  02:35C4  CD DE 54            	call	l_glong
    9177.  02:35C7  CD E9 55            	call	l_long_uge
    9178.  02:35CA  D2 E3 35            	jp	nc,i_353	;
    9179.  02:35CD                      i_354
    9180.  02:35CD  21 1A 00            	ld	hl,26	;const
    9181.  02:35D0  39                  	add	hl,sp
    9182.  02:35D1  4E                  	ld	c,(hl)
    9183.  02:35D2  23                  	inc	hl
    9184.  02:35D3  46                  	ld	b,(hl)
    9185.  02:35D4  21 0F 00            	ld	hl,15
    9186.  02:35D7  09                  	add	hl,bc
    9187.  02:35D8  36 02               	ld	(hl),2
    9188.  02:35DA  21 14 00            	ld	hl,20	;const
    9189.  02:35DD  39                  	add	hl,sp
    9190.  02:35DE  F9                  	ld	sp,hl
    9191.  02:35DF  21 02 00            	ld	hl,2	;const
    9192.  02:35E2  C9                  	ret
    9193.  02:35E3                      
    9194.  02:35E3                      
    9195.  02:35E3                      i_353
    9196.  02:35E3  21 1A 00            	ld	hl,26	;const
    9197.  02:35E6  39                  	add	hl,sp
    9198.  02:35E7  4E                  	ld	c,(hl)
    9199.  02:35E8  23                  	inc	hl
    9200.  02:35E9  46                  	ld	b,(hl)
    9201.  02:35EA  21 14 00            	ld	hl,20
    9202.  02:35ED  09                  	add	hl,bc
    9203.  02:35EE  E5                  	push	hl
    9204.  02:35EF  21 0E 00            	ld	hl,14	;const
    9205.  02:35F2  39                  	add	hl,sp
    9206.  02:35F3  CD DE 54            	call	l_glong
    9207.  02:35F6  C1                  	pop	bc
    9208.  02:35F7  CD C3 54            	call	l_plong
    9209.  02:35FA  C3 00 35            	jp	i_350	;EOS
    9210.  02:35FD                      i_351
    9211.  02:35FD  21 1A 00            	ld	hl,26	;const
    9212.  02:3600  39                  	add	hl,sp
    9213.  02:3601  4E                  	ld	c,(hl)
    9214.  02:3602  23                  	inc	hl
    9215.  02:3603  46                  	ld	b,(hl)
    9216.  02:3604  21 10 00            	ld	hl,16
    9217.  02:3607  09                  	add	hl,bc
    9218.  02:3608  E5                  	push	hl
    9219.  02:3609  CD CF 54            	call	l_glong2sp
    9220.  02:360C  21 1C 00            	ld	hl,28	;const
    9221.  02:360F  39                  	add	hl,sp
    9222.  02:3610  CD DE 54            	call	l_glong
    9223.  02:3613  C1                  	pop	bc
    9224.  02:3614  09                  	add	hl,bc
    9225.  02:3615  EB                  	ex	de,hl
    9226.  02:3616  C1                  	pop	bc
    9227.  02:3617  ED 4A               	adc	hl,bc
    9228.  02:3619  EB                  	ex	de,hl
    9229.  02:361A  C1                  	pop	bc
    9230.  02:361B  CD C3 54            	call	l_plong
    9231.  02:361E  21 16 00            	ld	hl,22	;const
    9232.  02:3621  39                  	add	hl,sp
    9233.  02:3622  CD CF 54            	call	l_glong2sp
    9234.  02:3625  21 00 02            	ld	hl,512	;const
    9235.  02:3628  11 00 00            	ld	de,0
    9236.  02:362B  CD F8 55            	call	l_long_mod_u
    9237.  02:362E  7C                  	ld	a,h
    9238.  02:362F  B5                  	or	l
    9239.  02:3630  B2                  	or	d
    9240.  02:3631  B3                  	or	e
    9241.  02:3632  CA F2 36            	jp	z,i_356	;
    9242.  02:3635  21 04 00            	ld	hl,4	;const
    9243.  02:3638  39                  	add	hl,sp
    9244.  02:3639  E5                  	push	hl
    9245.  02:363A  21 12 00            	ld	hl,18	;const
    9246.  02:363D  39                  	add	hl,sp	;l_gintspsp
    9247.  02:363E  7E                  	ld	a,(hl)
    9248.  02:363F  23                  	inc	hl
    9249.  02:3640  66                  	ld	h,(hl)
    9250.  02:3641  6F                  	ld	l,a
    9251.  02:3642  E5                  	push	hl
    9252.  02:3643  21 10 00            	ld	hl,16	;const
    9253.  02:3646  39                  	add	hl,sp
    9254.  02:3647  CD DE 54            	call	l_glong
    9255.  02:364A  D5                  	push	de
    9256.  02:364B  E5                  	push	hl
    9257.  02:364C  CD DA 05            	call	_clst2sect
    9258.  02:364F  C1                  	pop	bc
    9259.  02:3650  C1                  	pop	bc
    9260.  02:3651  C1                  	pop	bc
    9261.  02:3652  C1                  	pop	bc
    9262.  02:3653  CD C3 54            	call	l_plong
    9263.  02:3656  21 04 00            	ld	hl,4	;const
    9264.  02:3659  39                  	add	hl,sp
    9265.  02:365A  CD DE 54            	call	l_glong
    9266.  02:365D  7A                  	ld	a,d
    9267.  02:365E  B3                  	or	e
    9268.  02:365F  B4                  	or	h
    9269.  02:3660  B5                  	or	l
    9270.  02:3661  20 01               	jr	nz,$+3
    9271.  02:3663  37                  	scf
    9272.  02:3664  D2 7D 36            	jp	nc,i_357	;
    9273.  02:3667  21 1A 00            	ld	hl,26	;const
    9274.  02:366A  39                  	add	hl,sp
    9275.  02:366B  4E                  	ld	c,(hl)
    9276.  02:366C  23                  	inc	hl
    9277.  02:366D  46                  	ld	b,(hl)
    9278.  02:366E  21 0F 00            	ld	hl,15
    9279.  02:3671  09                  	add	hl,bc
    9280.  02:3672  36 02               	ld	(hl),2
    9281.  02:3674  21 14 00            	ld	hl,20	;const
    9282.  02:3677  39                  	add	hl,sp
    9283.  02:3678  F9                  	ld	sp,hl
    9284.  02:3679  21 02 00            	ld	hl,2	;const
    9285.  02:367C  C9                  	ret
    9286.  02:367D                      
    9287.  02:367D                      
    9288.  02:367D                      i_357
    9289.  02:367D  21 04 00            	ld	hl,4	;const
    9290.  02:3680  39                  	add	hl,sp
    9291.  02:3681  E5                  	push	hl
    9292.  02:3682  CD CF 54            	call	l_glong2sp
    9293.  02:3685  21 1C 00            	ld	hl,28	;const
    9294.  02:3688  39                  	add	hl,sp
    9295.  02:3689  CD CF 54            	call	l_glong2sp
    9296.  02:368C  21 00 02            	ld	hl,512	;const
    9297.  02:368F  11 00 00            	ld	de,0
    9298.  02:3692  CD FB 55            	call	l_long_div_u
    9299.  02:3695  C1                  	pop	bc
    9300.  02:3696  09                  	add	hl,bc
    9301.  02:3697  EB                  	ex	de,hl
    9302.  02:3698  C1                  	pop	bc
    9303.  02:3699  ED 4A               	adc	hl,bc
    9304.  02:369B  EB                  	ex	de,hl
    9305.  02:369C  C1                  	pop	bc
    9306.  02:369D  CD C3 54            	call	l_plong
    9307.  02:36A0  C3 F2 36            	jp	i_359	;EOS
    9308.  02:36A3  21 1A 00            	ld	hl,26	;const
    9309.  02:36A6  39                  	add	hl,sp
    9310.  02:36A7  4E                  	ld	c,(hl)
    9311.  02:36A8  23                  	inc	hl
    9312.  02:36A9  46                  	ld	b,(hl)
    9313.  02:36AA  21 10 00            	ld	hl,16
    9314.  02:36AD  09                  	add	hl,bc
    9315.  02:36AE  CD CF 54            	call	l_glong2sp
    9316.  02:36B1  21 1E 00            	ld	hl,30	;const
    9317.  02:36B4  39                  	add	hl,sp
    9318.  02:36B5  4E                  	ld	c,(hl)
    9319.  02:36B6  23                  	inc	hl
    9320.  02:36B7  46                  	ld	b,(hl)
    9321.  02:36B8  21 0A 00            	ld	hl,10
    9322.  02:36BB  09                  	add	hl,bc
    9323.  02:36BC  CD DE 54            	call	l_glong
    9324.  02:36BF  CD E8 54            	call	l_long_ugt
    9325.  02:36C2  D2 F2 36            	jp	nc,i_359	;
    9326.  02:36C5                      i_360_i_359
    9327.  02:36C5  21 1A 00            	ld	hl,26	;const
    9328.  02:36C8  39                  	add	hl,sp
    9329.  02:36C9  4E                  	ld	c,(hl)
    9330.  02:36CA  23                  	inc	hl
    9331.  02:36CB  46                  	ld	b,(hl)
    9332.  02:36CC  21 0A 00            	ld	hl,10
    9333.  02:36CF  09                  	add	hl,bc
    9334.  02:36D0  E5                  	push	hl
    9335.  02:36D1  21 1C 00            	ld	hl,28	;const
    9336.  02:36D4  39                  	add	hl,sp
    9337.  02:36D5  4E                  	ld	c,(hl)
    9338.  02:36D6  23                  	inc	hl
    9339.  02:36D7  46                  	ld	b,(hl)
    9340.  02:36D8  21 10 00            	ld	hl,16
    9341.  02:36DB  09                  	add	hl,bc
    9342.  02:36DC  CD DE 54            	call	l_glong
    9343.  02:36DF  C1                  	pop	bc
    9344.  02:36E0  CD C3 54            	call	l_plong
    9345.  02:36E3  21 1A 00            	ld	hl,26	;const
    9346.  02:36E6  39                  	add	hl,sp
    9347.  02:36E7  4E                  	ld	c,(hl)
    9348.  02:36E8  23                  	inc	hl
    9349.  02:36E9  46                  	ld	b,(hl)
    9350.  02:36EA  21 0E 00            	ld	hl,14
    9351.  02:36ED  09                  	add	hl,bc
    9352.  02:36EE  7E                  	ld	a,(hl)
    9353.  02:36EF  F6 40               	or	64
    9354.  02:36F1  77                  	ld	(hl),a
    9355.  02:36F2                      i_358
    9356.  02:36F2  21 1A 00            	ld	hl,26	;const
    9357.  02:36F5  39                  	add	hl,sp
    9358.  02:36F6  4E                  	ld	c,(hl)
    9359.  02:36F7  23                  	inc	hl
    9360.  02:36F8  46                  	ld	b,(hl)
    9361.  02:36F9  21 10 00            	ld	hl,16
    9362.  02:36FC  09                  	add	hl,bc
    9363.  02:36FD  CD CF 54            	call	l_glong2sp
    9364.  02:3700  21 00 02            	ld	hl,512	;const
    9365.  02:3703  11 00 00            	ld	de,0
    9366.  02:3706  CD F8 55            	call	l_long_mod_u
    9367.  02:3709  7C                  	ld	a,h
    9368.  02:370A  B5                  	or	l
    9369.  02:370B  B2                  	or	d
    9370.  02:370C  B3                  	or	e
    9371.  02:370D  CA 42 37            	jp	z,i_362	;
    9372.  02:3710  21 04 00            	ld	hl,4	;const
    9373.  02:3713  39                  	add	hl,sp
    9374.  02:3714  CD CF 54            	call	l_glong2sp
    9375.  02:3717  21 1E 00            	ld	hl,30	;const
    9376.  02:371A  39                  	add	hl,sp
    9377.  02:371B  4E                  	ld	c,(hl)
    9378.  02:371C  23                  	inc	hl
    9379.  02:371D  46                  	ld	b,(hl)
    9380.  02:371E  21 18 00            	ld	hl,24
    9381.  02:3721  09                  	add	hl,bc
    9382.  02:3722  CD DE 54            	call	l_glong
    9383.  02:3725  CD BA 55            	call	l_long_ne
    9384.  02:3728  D2 42 37            	jp	nc,i_362	;
    9385.  02:372B                      i_363_i_362
    9386.  02:372B  21 1A 00            	ld	hl,26	;const
    9387.  02:372E  39                  	add	hl,sp
    9388.  02:372F  4E                  	ld	c,(hl)
    9389.  02:3730  23                  	inc	hl
    9390.  02:3731  46                  	ld	b,(hl)
    9391.  02:3732  21 18 00            	ld	hl,24
    9392.  02:3735  09                  	add	hl,bc
    9393.  02:3736  E5                  	push	hl
    9394.  02:3737  21 06 00            	ld	hl,6	;const
    9395.  02:373A  39                  	add	hl,sp
    9396.  02:373B  CD DE 54            	call	l_glong
    9397.  02:373E  C1                  	pop	bc
    9398.  02:373F  CD C3 54            	call	l_plong
    9399.  02:3742                      i_361
    9400.  02:3742  21 12 00            	ld	hl,18	;const
    9401.  02:3745  39                  	add	hl,sp
    9402.  02:3746  7E                  	ld	a,(hl)	;l_gint
    9403.  02:3747  23                  	inc	hl
    9404.  02:3748  66                  	ld	h,(hl)
    9405.  02:3749  6F                  	ld	l,a
    9406.  02:374A  D9                  	exx
    9407.  02:374B  21 14 00            	ld	hl,20	;const
    9408.  02:374E  39                  	add	hl,sp
    9409.  02:374F  F9                  	ld	sp,hl
    9410.  02:3750  D9                  	exx
    9411.  02:3751  C9                  	ret
    9412.  02:3752                      
    9413.  02:3752                      
    9414.  02:3752                      	C_LINE	4634,"./ff.c::f_lseek::0::146"
    9415.  02:3752                      
    9416.  02:3752                      ; Function f_opendir flags 0x00000200 __smallc 
    9417.  02:3752                      ; const int FRESULTf_opendir(struct 0__anonstruct_237_3 DIR* dp, const char TCHAR* path)
    9418.  02:3752                      ; parameter 'const char TCHAR* path' at sp+2 size(2)
    9419.  02:3752                      ; parameter 'struct 0__anonstruct_237_3 DIR* dp' at sp+4 size(2)
    9420.  02:3752                      	C_LINE	4638,"./ff.c::f_opendir::0::146"
    9421.  02:3752                      @_f_opendir
    9422.  02:3752  C5                  	push	bc
    9423.  02:3753  C5                  	push	bc
    9424.  02:3754  21 08 00            	ld	hl,8	;const
    9425.  02:3757  39                  	add	hl,sp
    9426.  02:3758  7E                  	ld	a,(hl)	;l_gint
    9427.  02:3759  23                  	inc	hl
    9428.  02:375A  66                  	ld	h,(hl)
    9429.  02:375B  6F                  	ld	l,a
    9430.  02:375C  CD 3F 54            	call	l_lneg
    9431.  02:375F  D2 68 37            	jp	nc,i_364	;
    9432.  02:3762  21 09 00            	ld	hl,9	;const
    9433.  02:3765  C1                  	pop	bc
    9434.  02:3766  C1                  	pop	bc
    9435.  02:3767  C9                  	ret
    9436.  02:3768                      
    9437.  02:3768                      
    9438.  02:3768                      i_364
    9439.  02:3768  21 06 00            	ld	hl,6	;const
    9440.  02:376B  39                  	add	hl,sp
    9441.  02:376C  E5                  	push	hl
    9442.  02:376D  21 02 00            	ld	hl,2	;const
    9443.  02:3770  39                  	add	hl,sp
    9444.  02:3771  E5                  	push	hl
    9445.  02:3772  21 00 00            	ld	hl,0	;const
    9446.  02:3775  E5                  	push	hl
    9447.  02:3776  CD 43 1E            	call	_mount_volume
    9448.  02:3779  C1                  	pop	bc
    9449.  02:377A  C1                  	pop	bc
    9450.  02:377B  C1                  	pop	bc
    9451.  02:377C  D1                  	pop	de
    9452.  02:377D  C1                  	pop	bc
    9453.  02:377E  E5                  	push	hl
    9454.  02:377F  D5                  	push	de
    9455.  02:3780  7C                  	ld	a,h
    9456.  02:3781  B5                  	or	l
    9457.  02:3782  20 01               	jr	nz,$+3
    9458.  02:3784  37                  	scf
    9459.  02:3785  D2 6D 38            	jp	nc,i_365	;
    9460.  02:3788  21 08 00            	ld	hl,8	;const
    9461.  02:378B  39                  	add	hl,sp	;l_gintspsp
    9462.  02:378C  7E                  	ld	a,(hl)
    9463.  02:378D  23                  	inc	hl
    9464.  02:378E  66                  	ld	h,(hl)
    9465.  02:378F  6F                  	ld	l,a
    9466.  02:3790  E5                  	push	hl
    9467.  02:3791  C1                  	pop	bc
    9468.  02:3792  E1                  	pop	hl
    9469.  02:3793  E5                  	push	hl
    9470.  02:3794  C5                  	push	bc
    9471.  02:3795  D1                  	pop	de
    9472.  02:3796  EB                  	ex	de,hl	;l_pint
    9473.  02:3797  73                  	ld	(hl),e
    9474.  02:3798  23                  	inc	hl
    9475.  02:3799  72                  	ld	(hl),d
    9476.  02:379A  EB                   	ex	de,hl
    9477.  02:379B  21 08 00            	ld	hl,8	;const
    9478.  02:379E  39                  	add	hl,sp	;l_gintspsp
    9479.  02:379F  7E                  	ld	a,(hl)
    9480.  02:37A0  23                  	inc	hl
    9481.  02:37A1  66                  	ld	h,(hl)
    9482.  02:37A2  6F                  	ld	l,a
    9483.  02:37A3  E5                  	push	hl
    9484.  02:37A4  21 08 00            	ld	hl,8	;const
    9485.  02:37A7  39                  	add	hl,sp
    9486.  02:37A8  7E                  	ld	a,(hl)	;l_gint
    9487.  02:37A9  23                  	inc	hl
    9488.  02:37AA  66                  	ld	h,(hl)
    9489.  02:37AB  6F                  	ld	l,a
    9490.  02:37AC  E5                  	push	hl
    9491.  02:37AD  CD 4F 17            	call	_follow_path
    9492.  02:37B0  C1                  	pop	bc
    9493.  02:37B1  C1                  	pop	bc
    9494.  02:37B2  D1                  	pop	de
    9495.  02:37B3  C1                  	pop	bc
    9496.  02:37B4  E5                  	push	hl
    9497.  02:37B5  D5                  	push	de
    9498.  02:37B6  7C                  	ld	a,h
    9499.  02:37B7  B5                  	or	l
    9500.  02:37B8  20 01               	jr	nz,$+3
    9501.  02:37BA  37                  	scf
    9502.  02:37BB  D2 59 38            	jp	nc,i_366	;
    9503.  02:37BE  21 08 00            	ld	hl,8	;const
    9504.  02:37C1  39                  	add	hl,sp
    9505.  02:37C2  4E                  	ld	c,(hl)
    9506.  02:37C3  23                  	inc	hl
    9507.  02:37C4  46                  	ld	b,(hl)
    9508.  02:37C5  21 27 00            	ld	hl,39
    9509.  02:37C8  09                  	add	hl,bc
    9510.  02:37C9  CB 7E               	bit	7,(hl)
    9511.  02:37CB  C2 17 38            	jp	nz,i_367	;
    9512.  02:37CE  21 08 00            	ld	hl,8	;const
    9513.  02:37D1  39                  	add	hl,sp
    9514.  02:37D2  4E                  	ld	c,(hl)
    9515.  02:37D3  23                  	inc	hl
    9516.  02:37D4  46                  	ld	b,(hl)
    9517.  02:37D5  21 04 00            	ld	hl,4
    9518.  02:37D8  09                  	add	hl,bc
    9519.  02:37D9  3E 10               	ld	a,16
    9520.  02:37DB  A6                  	and	(hl)
    9521.  02:37DC  CA 10 38            	jp	z,i_368	;
    9522.  02:37DF  21 08 00            	ld	hl,8	;const
    9523.  02:37E2  39                  	add	hl,sp
    9524.  02:37E3  4E                  	ld	c,(hl)
    9525.  02:37E4  23                  	inc	hl
    9526.  02:37E5  46                  	ld	b,(hl)
    9527.  02:37E6  21 06 00            	ld	hl,6
    9528.  02:37E9  09                  	add	hl,bc
    9529.  02:37EA  E5                  	push	hl
    9530.  02:37EB  21 02 00            	ld	hl,2	;const
    9531.  02:37EE  39                  	add	hl,sp	;l_gintspsp
    9532.  02:37EF  7E                  	ld	a,(hl)
    9533.  02:37F0  23                  	inc	hl
    9534.  02:37F1  66                  	ld	h,(hl)
    9535.  02:37F2  6F                  	ld	l,a
    9536.  02:37F3  E5                  	push	hl
    9537.  02:37F4  21 0C 00            	ld	hl,12	;const
    9538.  02:37F7  39                  	add	hl,sp
    9539.  02:37F8  4E                  	ld	c,(hl)
    9540.  02:37F9  23                  	inc	hl
    9541.  02:37FA  46                  	ld	b,(hl)
    9542.  02:37FB  21 1A 00            	ld	hl,26
    9543.  02:37FE  09                  	add	hl,bc
    9544.  02:37FF  7E                  	ld	a,(hl)	;l_gint
    9545.  02:3800  23                  	inc	hl
    9546.  02:3801  66                  	ld	h,(hl)
    9547.  02:3802  6F                  	ld	l,a
    9548.  02:3803  E5                  	push	hl
    9549.  02:3804  CD 6D 0E            	call	_ld_clust
    9550.  02:3807  C1                  	pop	bc
    9551.  02:3808  C1                  	pop	bc
    9552.  02:3809  C1                  	pop	bc
    9553.  02:380A  CD C3 54            	call	l_plong
    9554.  02:380D  C3 17 38            	jp	i_369	;EOS
    9555.  02:3810                      i_368
    9556.  02:3810  21 05 00            	ld	hl,5	;const
    9557.  02:3813  D1                  	pop	de
    9558.  02:3814  C1                  	pop	bc
    9559.  02:3815  E5                  	push	hl
    9560.  02:3816  D5                  	push	de
    9561.  02:3817                      i_367
    9562.  02:3817  C1                  	pop	bc
    9563.  02:3818  E1                  	pop	hl
    9564.  02:3819  E5                  	push	hl
    9565.  02:381A  C5                  	push	bc
    9566.  02:381B  7C                  	ld	a,h
    9567.  02:381C  B5                  	or	l
    9568.  02:381D  20 01               	jr	nz,$+3
    9569.  02:381F  37                  	scf
    9570.  02:3820  D2 59 38            	jp	nc,i_370	;
    9571.  02:3823  21 08 00            	ld	hl,8	;const
    9572.  02:3826  39                  	add	hl,sp
    9573.  02:3827  7E                  	ld	a,(hl)	;l_gint
    9574.  02:3828  23                  	inc	hl
    9575.  02:3829  66                  	ld	h,(hl)
    9576.  02:382A  6F                  	ld	l,a
    9577.  02:382B  23                  	inc	hl
    9578.  02:382C  23                  	inc	hl
    9579.  02:382D  D1                  	pop	de
    9580.  02:382E  D5                  	push	de
    9581.  02:382F  E5                  	push	hl
    9582.  02:3830  EB                  	ex	de,hl
    9583.  02:3831  01 06 00            	ld	bc,6
    9584.  02:3834  09                  	add	hl,bc
    9585.  02:3835  7E                  	ld	a,(hl)	;l_gint
    9586.  02:3836  23                  	inc	hl
    9587.  02:3837  66                  	ld	h,(hl)
    9588.  02:3838  6F                  	ld	l,a
    9589.  02:3839  D1                  	pop	de
    9590.  02:383A  EB                  	ex	de,hl	;l_pint
    9591.  02:383B  73                  	ld	(hl),e
    9592.  02:383C  23                  	inc	hl
    9593.  02:383D  72                  	ld	(hl),d
    9594.  02:383E  EB                   	ex	de,hl
    9595.  02:383F  21 08 00            	ld	hl,8	;const
    9596.  02:3842  39                  	add	hl,sp	;l_gintspsp
    9597.  02:3843  7E                  	ld	a,(hl)
    9598.  02:3844  23                  	inc	hl
    9599.  02:3845  66                  	ld	h,(hl)
    9600.  02:3846  6F                  	ld	l,a
    9601.  02:3847  E5                  	push	hl
    9602.  02:3848  21 00 00            	ld	hl,0	;const
    9603.  02:384B  54                  	ld	d,h
    9604.  02:384C  5D                  	ld	e,l
    9605.  02:384D  D5                  	push	de
    9606.  02:384E  E5                  	push	hl
    9607.  02:384F  CD 0A 09            	call	_dir_sdi
    9608.  02:3852  C1                  	pop	bc
    9609.  02:3853  C1                  	pop	bc
    9610.  02:3854  C1                  	pop	bc
    9611.  02:3855  D1                  	pop	de
    9612.  02:3856  C1                  	pop	bc
    9613.  02:3857  E5                  	push	hl
    9614.  02:3858  D5                  	push	de
    9615.  02:3859                      i_366
    9616.  02:3859  C1                  	pop	bc
    9617.  02:385A  E1                  	pop	hl
    9618.  02:385B  E5                  	push	hl
    9619.  02:385C  C5                  	push	bc
    9620.  02:385D  11 04 00            	ld	de,4
    9621.  02:3860  A7                  	and	a
    9622.  02:3861  ED 52               	sbc	hl,de
    9623.  02:3863  C2 6D 38            	jp	nz,i_371	;
    9624.  02:3866  21 05 00            	ld	hl,5	;const
    9625.  02:3869  D1                  	pop	de
    9626.  02:386A  C1                  	pop	bc
    9627.  02:386B  E5                  	push	hl
    9628.  02:386C  D5                  	push	de
    9629.  02:386D                      i_365
    9630.  02:386D  C1                  	pop	bc
    9631.  02:386E  E1                  	pop	hl
    9632.  02:386F  E5                  	push	hl
    9633.  02:3870  C5                  	push	bc
    9634.  02:3871  7C                  	ld	a,h
    9635.  02:3872  B5                  	or	l
    9636.  02:3873  CA 85 38            	jp	z,i_372	;
    9637.  02:3876  21 08 00            	ld	hl,8	;const
    9638.  02:3879  39                  	add	hl,sp
    9639.  02:387A  5E                  	ld	e,(hl)
    9640.  02:387B  23                  	inc	hl
    9641.  02:387C  56                  	ld	d,(hl)
    9642.  02:387D  21 00 00            	ld	hl,0	;const
    9643.  02:3880  EB                  	ex	de,hl	;l_pint
    9644.  02:3881  73                  	ld	(hl),e
    9645.  02:3882  23                  	inc	hl
    9646.  02:3883  72                  	ld	(hl),d
    9647.  02:3884  EB                   	ex	de,hl
    9648.  02:3885                      i_372
    9649.  02:3885  C1                  	pop	bc
    9650.  02:3886  E1                  	pop	hl
    9651.  02:3887  C9                  	ret
    9652.  02:3888                      
    9653.  02:3888                      
    9654.  02:3888                      	C_LINE	4700,"./ff.c::f_opendir::0::154"
    9655.  02:3888                      
    9656.  02:3888                      ; Function f_closedir flags 0x00000200 __smallc 
    9657.  02:3888                      ; const int FRESULTf_closedir(struct 0__anonstruct_237_3 DIR* dp)
    9658.  02:3888                      ; parameter 'struct 0__anonstruct_237_3 DIR* dp' at sp+2 size(2)
    9659.  02:3888                      	C_LINE	4703,"./ff.c::f_closedir::0::154"
    9660.  02:3888                      @_f_closedir
    9661.  02:3888  C5                  	push	bc
    9662.  02:3889  C5                  	push	bc
    9663.  02:388A  21 06 00            	ld	hl,6	;const
    9664.  02:388D  39                  	add	hl,sp	;l_gintspsp
    9665.  02:388E  7E                  	ld	a,(hl)
    9666.  02:388F  23                  	inc	hl
    9667.  02:3890  66                  	ld	h,(hl)
    9668.  02:3891  6F                  	ld	l,a
    9669.  02:3892  E5                  	push	hl
    9670.  02:3893  21 02 00            	ld	hl,2	;const
    9671.  02:3896  39                  	add	hl,sp
    9672.  02:3897  E5                  	push	hl
    9673.  02:3898  CD 3D 26            	call	_validate
    9674.  02:389B  C1                  	pop	bc
    9675.  02:389C  C1                  	pop	bc
    9676.  02:389D  D1                  	pop	de
    9677.  02:389E  C1                  	pop	bc
    9678.  02:389F  E5                  	push	hl
    9679.  02:38A0  D5                  	push	de
    9680.  02:38A1  7C                  	ld	a,h
    9681.  02:38A2  B5                  	or	l
    9682.  02:38A3  20 01               	jr	nz,$+3
    9683.  02:38A5  37                  	scf
    9684.  02:38A6  D2 B8 38            	jp	nc,i_373	;
    9685.  02:38A9  21 06 00            	ld	hl,6	;const
    9686.  02:38AC  39                  	add	hl,sp
    9687.  02:38AD  5E                  	ld	e,(hl)
    9688.  02:38AE  23                  	inc	hl
    9689.  02:38AF  56                  	ld	d,(hl)
    9690.  02:38B0  21 00 00            	ld	hl,0	;const
    9691.  02:38B3  EB                  	ex	de,hl	;l_pint
    9692.  02:38B4  73                  	ld	(hl),e
    9693.  02:38B5  23                  	inc	hl
    9694.  02:38B6  72                  	ld	(hl),d
    9695.  02:38B7  EB                   	ex	de,hl
    9696.  02:38B8                      i_373
    9697.  02:38B8  C1                  	pop	bc
    9698.  02:38B9  E1                  	pop	hl
    9699.  02:38BA  C9                  	ret
    9700.  02:38BB                      
    9701.  02:38BB                      
    9702.  02:38BB                      	C_LINE	4730,"./ff.c::f_closedir::0::156"
    9703.  02:38BB                      
    9704.  02:38BB                      ; Function f_readdir flags 0x00000200 __smallc 
    9705.  02:38BB                      ; const int FRESULTf_readdir(struct 0__anonstruct_237_3 DIR* dp, struct 0__anonstruct_256_4 FILINFO* fno)
    9706.  02:38BB                      ; parameter 'struct 0__anonstruct_256_4 FILINFO* fno' at sp+2 size(2)
    9707.  02:38BB                      ; parameter 'struct 0__anonstruct_237_3 DIR* dp' at sp+4 size(2)
    9708.  02:38BB                      	C_LINE	4734,"./ff.c::f_readdir::0::156"
    9709.  02:38BB                      @_f_readdir
    9710.  02:38BB  C5                  	push	bc
    9711.  02:38BC  C5                  	push	bc
    9712.  02:38BD  21 08 00            	ld	hl,8	;const
    9713.  02:38C0  39                  	add	hl,sp	;l_gintspsp
    9714.  02:38C1  7E                  	ld	a,(hl)
    9715.  02:38C2  23                  	inc	hl
    9716.  02:38C3  66                  	ld	h,(hl)
    9717.  02:38C4  6F                  	ld	l,a
    9718.  02:38C5  E5                  	push	hl
    9719.  02:38C6  21 02 00            	ld	hl,2	;const
    9720.  02:38C9  39                  	add	hl,sp
    9721.  02:38CA  E5                  	push	hl
    9722.  02:38CB  CD 3D 26            	call	_validate
    9723.  02:38CE  C1                  	pop	bc
    9724.  02:38CF  C1                  	pop	bc
    9725.  02:38D0  D1                  	pop	de
    9726.  02:38D1  C1                  	pop	bc
    9727.  02:38D2  E5                  	push	hl
    9728.  02:38D3  D5                  	push	de
    9729.  02:38D4  7C                  	ld	a,h
    9730.  02:38D5  B5                  	or	l
    9731.  02:38D6  20 01               	jr	nz,$+3
    9732.  02:38D8  37                  	scf
    9733.  02:38D9  D2 70 39            	jp	nc,i_374	;
    9734.  02:38DC  21 06 00            	ld	hl,6	;const
    9735.  02:38DF  39                  	add	hl,sp
    9736.  02:38E0  7E                  	ld	a,(hl)	;l_gint
    9737.  02:38E1  23                  	inc	hl
    9738.  02:38E2  66                  	ld	h,(hl)
    9739.  02:38E3  6F                  	ld	l,a
    9740.  02:38E4  CD 3F 54            	call	l_lneg
    9741.  02:38E7  D2 07 39            	jp	nc,i_375	;
    9742.  02:38EA  21 08 00            	ld	hl,8	;const
    9743.  02:38ED  39                  	add	hl,sp	;l_gintspsp
    9744.  02:38EE  7E                  	ld	a,(hl)
    9745.  02:38EF  23                  	inc	hl
    9746.  02:38F0  66                  	ld	h,(hl)
    9747.  02:38F1  6F                  	ld	l,a
    9748.  02:38F2  E5                  	push	hl
    9749.  02:38F3  21 00 00            	ld	hl,0	;const
    9750.  02:38F6  54                  	ld	d,h
    9751.  02:38F7  5D                  	ld	e,l
    9752.  02:38F8  D5                  	push	de
    9753.  02:38F9  E5                  	push	hl
    9754.  02:38FA  CD 0A 09            	call	_dir_sdi
    9755.  02:38FD  C1                  	pop	bc
    9756.  02:38FE  C1                  	pop	bc
    9757.  02:38FF  C1                  	pop	bc
    9758.  02:3900  D1                  	pop	de
    9759.  02:3901  C1                  	pop	bc
    9760.  02:3902  E5                  	push	hl
    9761.  02:3903  D5                  	push	de
    9762.  02:3904  C3 70 39            	jp	i_376	;EOS
    9763.  02:3907                      i_375
    9764.  02:3907  21 08 00            	ld	hl,8	;const
    9765.  02:390A  39                  	add	hl,sp	;l_gintspsp
    9766.  02:390B  7E                  	ld	a,(hl)
    9767.  02:390C  23                  	inc	hl
    9768.  02:390D  66                  	ld	h,(hl)
    9769.  02:390E  6F                  	ld	l,a
    9770.  02:390F  E5                  	push	hl
    9771.  02:3910  21 00 00            	ld	hl,0	;const
    9772.  02:3913  E5                  	push	hl
    9773.  02:3914  CD C9 0E            	call	_dir_read
    9774.  02:3917  C1                  	pop	bc
    9775.  02:3918  C1                  	pop	bc
    9776.  02:3919  D1                  	pop	de
    9777.  02:391A  C1                  	pop	bc
    9778.  02:391B  E5                  	push	hl
    9779.  02:391C  D5                  	push	de
    9780.  02:391D  11 04 00            	ld	de,4
    9781.  02:3920  A7                  	and	a
    9782.  02:3921  ED 52               	sbc	hl,de
    9783.  02:3923  C2 2A 39            	jp	nz,i_377	;
    9784.  02:3926  D1                  	pop	de
    9785.  02:3927  C1                  	pop	bc
    9786.  02:3928  E5                  	push	hl
    9787.  02:3929  D5                  	push	de
    9788.  02:392A                      i_377
    9789.  02:392A  C1                  	pop	bc
    9790.  02:392B  E1                  	pop	hl
    9791.  02:392C  E5                  	push	hl
    9792.  02:392D  C5                  	push	bc
    9793.  02:392E  7C                  	ld	a,h
    9794.  02:392F  B5                  	or	l
    9795.  02:3930  20 01               	jr	nz,$+3
    9796.  02:3932  37                  	scf
    9797.  02:3933  D2 70 39            	jp	nc,i_378	;
    9798.  02:3936  21 08 00            	ld	hl,8	;const
    9799.  02:3939  39                  	add	hl,sp	;l_gintspsp
    9800.  02:393A  7E                  	ld	a,(hl)
    9801.  02:393B  23                  	inc	hl
    9802.  02:393C  66                  	ld	h,(hl)
    9803.  02:393D  6F                  	ld	l,a
    9804.  02:393E  E5                  	push	hl
    9805.  02:393F  21 08 00            	ld	hl,8	;const
    9806.  02:3942  39                  	add	hl,sp
    9807.  02:3943  7E                  	ld	a,(hl)	;l_gint
    9808.  02:3944  23                  	inc	hl
    9809.  02:3945  66                  	ld	h,(hl)
    9810.  02:3946  6F                  	ld	l,a
    9811.  02:3947  E5                  	push	hl
    9812.  02:3948  CD 62 11            	call	_get_fileinfo
    9813.  02:394B  C1                  	pop	bc
    9814.  02:394C  C1                  	pop	bc
    9815.  02:394D  21 08 00            	ld	hl,8	;const
    9816.  02:3950  39                  	add	hl,sp	;l_gintspsp
    9817.  02:3951  7E                  	ld	a,(hl)
    9818.  02:3952  23                  	inc	hl
    9819.  02:3953  66                  	ld	h,(hl)
    9820.  02:3954  6F                  	ld	l,a
    9821.  02:3955  E5                  	push	hl
    9822.  02:3956  21 00 00            	ld	hl,0	;const
    9823.  02:3959  E5                  	push	hl
    9824.  02:395A  CD C2 0B            	call	_dir_next
    9825.  02:395D  C1                  	pop	bc
    9826.  02:395E  C1                  	pop	bc
    9827.  02:395F  D1                  	pop	de
    9828.  02:3960  C1                  	pop	bc
    9829.  02:3961  E5                  	push	hl
    9830.  02:3962  D5                  	push	de
    9831.  02:3963  11 04 00            	ld	de,4
    9832.  02:3966  A7                  	and	a
    9833.  02:3967  ED 52               	sbc	hl,de
    9834.  02:3969  C2 70 39            	jp	nz,i_379	;
    9835.  02:396C  D1                  	pop	de
    9836.  02:396D  C1                  	pop	bc
    9837.  02:396E  E5                  	push	hl
    9838.  02:396F  D5                  	push	de
    9839.  02:3970                      i_374
    9840.  02:3970  C1                  	pop	bc
    9841.  02:3971  E1                  	pop	hl
    9842.  02:3972  C9                  	ret
    9843.  02:3973                      
    9844.  02:3973                      
    9845.  02:3973                      ; --- Start of Optimiser additions ---
    9846.  02:3973  (02:05D8)           i_6 = i_5
    9847.  02:3973  (02:08FD)           i_14 = i_12
    9848.  02:3973  (02:0E12)           i_57 = i_56
    9849.  02:3973  (02:0E12)           i_56 = i_53
    9850.  02:3973  (02:1067)           i_72 = i_75
    9851.  02:3973  (02:1489)           i_88 = i_102
    9852.  02:3973  (02:14DA)           i_107 = i_109
    9853.  02:3973  (02:17A9)           i_141 = i_145_i_140
    9854.  02:3973  (02:17C6)           i_137 = i_147
    9855.  02:3973  (02:183A)           i_151 = i_153
    9856.  02:3973  (02:1969)           i_164 = i_163
    9857.  02:3973  (02:1969)           i_163 = i_158
    9858.  02:3973  (02:1969)           i_154 = i_152
    9859.  02:3973  (02:19B5)           i_167 = i_170
    9860.  02:3973  (02:1C85)           i_189 = i_183
    9861.  02:3973  (02:1CFA)           i_198 = i_200_i_197
    9862.  02:3973  (02:1F29)           i_219 = i_218
    9863.  02:3973  (02:25F8)           i_257 = i_254
    9864.  02:3973  (02:26B3)           i_263 = i_260
    9865.  02:3973  (02:28AB)           i_277 = i_276
    9866.  02:3973  (02:28AB)           i_276 = i_274
    9867.  02:3973  (02:2977)           i_278 = i_273
    9868.  02:3973  (02:2F73)           i_307 = i_305
    9869.  02:3973  (02:2F73)           i_305 = i_303
    9870.  02:3973  (02:2F8F)           i_308 = i_302
    9871.  02:3973  (02:30F0)           i_317 = i_320
    9872.  02:3973  (02:31E7)           i_328 = i_329
    9873.  02:3973  (02:324B)           i_314 = i_310
    9874.  02:3973  (02:32D8)           i_335 = i_333
    9875.  02:3973  (02:32D8)           i_333 = i_331
    9876.  02:3973  (02:32D8)           i_331 = i_309
    9877.  02:3973  (02:3389)           i_341 = i_343_i_340
    9878.  02:3973  (02:36F2)           i_356 = i_349
    9879.  02:3973  (02:36F2)           i_349 = i_344
    9880.  02:3973  (02:3817)           i_369 = i_367
    9881.  02:3973  (02:3859)           i_370 = i_366
    9882.  02:3973  (02:386D)           i_371 = i_365
    9883.  02:3973  (02:3970)           i_379 = i_378
    9884.  02:3973  (02:3970)           i_378 = i_376
    9885.  02:3973  (02:3970)           i_376 = i_374
    9886.  02:3973  (02:09C7)           i_34 = i_33
    9887.  02:3973  (02:0E12)           i_55 = i_56
    9888.  02:3973  (02:0FC9)           i_68 = i_67
    9889.  02:3973  (02:0FF2)           i_69_i_68 = i_64
    9890.  02:3973  (02:0EDA)           i_70 = i_63
    9891.  02:3973  (02:112D)           i_79 = i_78
    9892.  02:3973  (02:1156)           i_80_i_79 = i_74
    9893.  02:3973  (02:13F1)           i_93 = i_90
    9894.  02:3973  (02:1438)           i_98 = i_95
    9895.  02:3973  (02:1683)           i_129 = i_128
    9896.  02:3973  (02:1489)           i_124 = i_102
    9897.  02:3973  (02:17C6)           i_140 = i_137
    9898.  02:3973  (02:18E0)           i_160 = i_159
    9899.  02:3973  (02:1969)           i_158 = i_154
    9900.  02:3973  (02:19FB)           i_173 = i_169
    9901.  02:3973  (02:19B5)           i_174_i_173 = i_170
    9902.  02:3973  (02:1A68)           i_177 = i_179
    9903.  02:3973  (02:1A68)           i_179 = i_176
    9904.  02:3973  (02:1B6B)           i_187 = i_186
    9905.  02:3973  (02:1C85)           i_190 = i_189
    9906.  02:3973  (02:1D23)           i_197 = i_196
    9907.  02:3973  (02:1D23)           i_196 = i_202
    9908.  02:3973  (02:1D23)           i_202 = i_201
    9909.  02:3973  (02:1E33)           i_214 = i_210
    9910.  02:3973  (02:1DAB)           i_215_i_214 = i_211
    9911.  02:3973  (02:1F20)           i_221 = i_220
    9912.  02:3973  (02:1F78)           i_223 = i_225
    9913.  02:3973  (02:1F78)           i_225 = i_224
    9914.  02:3973  (02:2092)           i_232 = i_231
    9915.  02:3973  (02:25F8)           i_255 = i_254
    9916.  02:3973  (02:25F8)           i_258 = i_257
    9917.  02:3973  (02:26B3)           i_261 = i_260
    9918.  02:3973  (02:2AFC)           i_284 = i_287
    9919.  02:3973  (02:33A0)           i_340 = i_339
    9920.  02:3973  (02:34C4)           i_346 = i_345
    9921.  02:3973  (02:36F2)           i_344 = i_359
    9922.  02:3973  (02:36F2)           i_359 = i_358
    9923.  02:3973  (02:3742)           i_362 = i_361
    9924.  02:3973  (02:16A5)           i_110 = i_103
    9925.  02:3973                      
    9926.  02:3973                      	SECTION	rodata_compiler
    9927.  02:3973                      i_1
    9928.  02:3973                      	defm	"*+,:;<=>[]|"
    9928.  02:3973  2A 2B 2C 3A 3B 3C 3D 3E 5B 5D 7C 
    9929.  02:397E  22                  	defb	34
    9930.  02:397F                      
    9931.  02:397F  3F                  	defm	"?"
    9932.  02:3980  7F                  	defb	127
    9933.  02:3981                      
    9934.  02:3981                      ;	defm	""
    9935.  02:3981  00                  	defb	0
    9936.  02:3982                      
    9937.  02:3982                      	defm	"FAT32   "
    9937.  02:3982  46 41 54 33 32 20 20 20 
    9938.  02:398A  00                  	defb	0
    9939.  02:398B                      
    9940.  02:398B                      
    9941.  02:398B                      ; --- Start of Static Variables ---
    9942.  02:398B                      ;	phase @__FF_INTERNALS__
    9943.  02:398B                      	SECTION	bss_compiler
    9944.  02:398B                      ; _FatFs	defs	2
    9945.  02:398B                      ; _Fsid	defs	2
    9946.  02:398B                      ; _CurrVol	defs	1
    9947.  02:398B                      
    9948.  02:398B  (02:5F39)           _FatFs equ @__FF_INTERNALS
    9949.  02:398B  (02:5F3B)           _Fsid equ @__FF_INTERNALS + 2
    9950.  02:398B  (02:5F3D)           _CurrVol equ @__FF_INTERNALS + 4
    9951.  02:398B                      
    9952.  02:398B                      ;	dephase
    9953.  02:398B                      	SECTION	code_compiler
    9954.  02:398B                      
    9955.  02:398B                      
    9956.  02:398B                      ; --- Start of Scope Defns ---
    9957.  02:398B                      
    9958.  02:398B                      	GLOBAL	bcmp
    9959.  02:398B                      	GLOBAL	bcmp_callee
    9960.  02:398B                      	GLOBAL	bcopy
    9961.  02:398B                      	GLOBAL	bcopy_callee
    9962.  02:398B                      	GLOBAL	bzero
    9963.  02:398B                      	GLOBAL	bzero_callee
    9964.  02:398B                      	GLOBAL	index
    9965.  02:398B                      	GLOBAL	index_callee
    9966.  02:398B                      	GLOBAL	rindex
    9967.  02:398B                      	GLOBAL	rindex_callee
    9968.  02:398B                      	GLOBAL	strset
    9969.  02:398B                      	GLOBAL	strset_callee
    9970.  02:398B                      	GLOBAL	strnset
    9971.  02:398B                      	GLOBAL	strnset_callee
    9972.  02:398B                      	GLOBAL	rawmemchr
    9973.  02:398B                      	GLOBAL	rawmemchr_callee
    9974.  02:398B                      	GLOBAL	_memlwr_
    9975.  02:398B                      	GLOBAL	_memlwr__callee
    9976.  02:398B                      	GLOBAL	_memstrcpy_
    9977.  02:398B                      	GLOBAL	_memstrcpy__callee
    9978.  02:398B                      	GLOBAL	_memupr_
    9979.  02:398B                      	GLOBAL	_memupr__callee
    9980.  02:398B                      	GLOBAL	_strrstrip_
    9981.  02:398B                      	GLOBAL	ffs
    9982.  02:398B                      	GLOBAL	ffsl
    9983.  02:398B                      	GLOBAL	memccpy
    9984.  02:398B                      	GLOBAL	memccpy_callee
    9985.  02:398B                      	GLOBAL	memchr
    9986.  02:398B                      	GLOBAL	memchr_callee
    9987.  02:398B                      	GLOBAL	memcmp
    9988.  02:398B                      	GLOBAL	memcmp_callee
    9989.  02:398B                      	GLOBAL	memcpy
    9990.  02:398B                      	GLOBAL	memcpy_callee
    9991.  02:398B                      	GLOBAL	memmem
    9992.  02:398B                      	GLOBAL	memmem_callee
    9993.  02:398B                      	GLOBAL	memmove
    9994.  02:398B                      	GLOBAL	memmove_callee
    9995.  02:398B                      	GLOBAL	memrchr
    9996.  02:398B                      	GLOBAL	memrchr_callee
    9997.  02:398B                      	GLOBAL	memset
    9998.  02:398B                      	GLOBAL	memset_callee
    9999.  02:398B                      	GLOBAL	memset_wr
   10000.  02:398B                      	GLOBAL	memset_wr_callee
   10001.  02:398B                      	GLOBAL	memswap
   10002.  02:398B                      	GLOBAL	memswap_callee
   10003.  02:398B                      	GLOBAL	stpcpy
   10004.  02:398B                      	GLOBAL	stpcpy_callee
   10005.  02:398B                      	GLOBAL	stpncpy
   10006.  02:398B                      	GLOBAL	stpncpy_callee
   10007.  02:398B                      	GLOBAL	strcasecmp
   10008.  02:398B                      	GLOBAL	strcasecmp_callee
   10009.  02:398B                      	GLOBAL	strcat
   10010.  02:398B                      	GLOBAL	strcat_callee
   10011.  02:398B                      	GLOBAL	strchr
   10012.  02:398B                      	GLOBAL	strchr_callee
   10013.  02:398B                      	GLOBAL	strchrnul
   10014.  02:398B                      	GLOBAL	strchrnul_callee
   10015.  02:398B                      	GLOBAL	strcmp
   10016.  02:398B                      	GLOBAL	strcmp_callee
   10017.  02:398B                      	GLOBAL	strcoll
   10018.  02:398B                      	GLOBAL	strcoll_callee
   10019.  02:398B                      	GLOBAL	strcpy
   10020.  02:398B                      	GLOBAL	strcpy_callee
   10021.  02:398B                      	GLOBAL	strcspn
   10022.  02:398B                      	GLOBAL	strcspn_callee
   10023.  02:398B                      	GLOBAL	strdup
   10024.  02:398B                      	GLOBAL	strerror
   10025.  02:398B                      	GLOBAL	stricmp
   10026.  02:398B                      	GLOBAL	stricmp_callee
   10027.  02:398B                      	GLOBAL	strlcat
   10028.  02:398B                      	GLOBAL	strlcat_callee
   10029.  02:398B                      	GLOBAL	strlcpy
   10030.  02:398B                      	GLOBAL	strlcpy_callee
   10031.  02:398B                      	GLOBAL	strlen
   10032.  02:398B                      	GLOBAL	strlwr
   10033.  02:398B                      	GLOBAL	strncasecmp
   10034.  02:398B                      	GLOBAL	strncasecmp_callee
   10035.  02:398B                      	GLOBAL	strncat
   10036.  02:398B                      	GLOBAL	strncat_callee
   10037.  02:398B                      	GLOBAL	strnchr
   10038.  02:398B                      	GLOBAL	strnchr_callee
   10039.  02:398B                      	GLOBAL	strncmp
   10040.  02:398B                      	GLOBAL	strncmp_callee
   10041.  02:398B                      	GLOBAL	strncpy
   10042.  02:398B                      	GLOBAL	strncpy_callee
   10043.  02:398B                      	GLOBAL	strndup
   10044.  02:398B                      	GLOBAL	strndup_callee
   10045.  02:398B                      	GLOBAL	strnicmp
   10046.  02:398B                      	GLOBAL	strnicmp_callee
   10047.  02:398B                      	GLOBAL	strnlen
   10048.  02:398B                      	GLOBAL	strnlen_callee
   10049.  02:398B                      	GLOBAL	strpbrk
   10050.  02:398B                      	GLOBAL	strpbrk_callee
   10051.  02:398B                      	GLOBAL	strrchr
   10052.  02:398B                      	GLOBAL	strrchr_callee
   10053.  02:398B                      	GLOBAL	strrcspn
   10054.  02:398B                      	GLOBAL	strrcspn_callee
   10055.  02:398B                      	GLOBAL	strrev
   10056.  02:398B                      	GLOBAL	strrspn
   10057.  02:398B                      	GLOBAL	strrspn_callee
   10058.  02:398B                      	GLOBAL	strrstrip
   10059.  02:398B                      	GLOBAL	strsep
   10060.  02:398B                      	GLOBAL	strsep_callee
   10061.  02:398B                      	GLOBAL	strspn
   10062.  02:398B                      	GLOBAL	strspn_callee
   10063.  02:398B                      	GLOBAL	strstr
   10064.  02:398B                      	GLOBAL	strstr_callee
   10065.  02:398B                      	GLOBAL	strstrip
   10066.  02:398B                      	GLOBAL	strtok
   10067.  02:398B                      	GLOBAL	strtok_callee
   10068.  02:398B                      	GLOBAL	strtok_r
   10069.  02:398B                      	GLOBAL	strtok_r_callee
   10070.  02:398B                      	GLOBAL	strupr
   10071.  02:398B                      	GLOBAL	strxfrm
   10072.  02:398B                      	GLOBAL	strxfrm_callee
   10073.  02:398B                      	GLOBAL	strrstr
   10074.  02:398B                      	GLOBAL	strrstr_callee
   10075.  02:398B                      	GLOBAL	memopi
   10076.  02:398B                      	GLOBAL	memopi_callee
   10077.  02:398B                      	GLOBAL	memopd
   10078.  02:398B                      	GLOBAL	memopd_callee
   10079.  02:398B                      	GLOBAL	__builtin_memset
   10080.  02:398B                      	GLOBAL	__builtin_memcpy
   10081.  02:398B                      	GLOBAL	__builtin_strcpy
   10082.  02:398B                      	GLOBAL	__builtin_strchr
   10083.  02:398B                      	GLOBAL	_f_open
   10084.  02:398B                      	GLOBAL	_f_close
   10085.  02:398B                      	GLOBAL	_f_read
   10086.  02:398B                      	GLOBAL	_f_write
   10087.  02:398B                      	GLOBAL	_f_lseek
   10088.  02:398B                      	GLOBAL	_f_truncate
   10089.  02:398B                      	GLOBAL	_f_sync
   10090.  02:398B                      	GLOBAL	_f_opendir
   10091.  02:398B                      	GLOBAL	_f_closedir
   10092.  02:398B                      	GLOBAL	_f_readdir
   10093.  02:398B                      	GLOBAL	_f_findfirst
   10094.  02:398B                      	GLOBAL	_f_findnext
   10095.  02:398B                      	GLOBAL	_f_mkdir
   10096.  02:398B                      	GLOBAL	_f_unlink
   10097.  02:398B                      	GLOBAL	_f_rename
   10098.  02:398B                      	GLOBAL	_f_stat
   10099.  02:398B                      	GLOBAL	_f_chmod
   10100.  02:398B                      	GLOBAL	_f_utime
   10101.  02:398B                      	GLOBAL	_f_chdir
   10102.  02:398B                      	GLOBAL	_f_chdrive
   10103.  02:398B                      	GLOBAL	_f_getcwd
   10104.  02:398B                      	GLOBAL	_f_getfree
   10105.  02:398B                      	GLOBAL	_f_getlabel
   10106.  02:398B                      	GLOBAL	_f_setlabel
   10107.  02:398B                      	GLOBAL	_f_forward
   10108.  02:398B                      	GLOBAL	_f_expand
   10109.  02:398B                      	GLOBAL	_f_mount
   10110.  02:398B                      	GLOBAL	_f_mkfs
   10111.  02:398B                      	GLOBAL	_f_fdisk
   10112.  02:398B                      	GLOBAL	_f_setcp
   10113.  02:398B                      	GLOBAL	_f_putc
   10114.  02:398B                      	GLOBAL	_f_puts
   10115.  02:398B                      	GLOBAL	_f_printf
   10116.  02:398B                      	GLOBAL	_f_gets
   10117.  02:398B                      	GLOBAL	disk_initialize
   10118.  02:398B                      	GLOBAL	disk_status
   10119.  02:398B                      	GLOBAL	disk_read
   10120.  02:398B                      	GLOBAL	disk_write
   10121.  02:398B                      	GLOBAL	disk_ioctl
   10122.  02:398B                      
   10123.  02:398B                      
   10124.  02:398B                      ; --- End of Scope Defns ---
   10125.  02:398B                      
   10126.  02:398B                      
   10127.  02:398B                      ; --- End of Compilation ---
     184   02:398B                        ENDMODULE
     185   02:398B                        MODULE BANK2
     186   02:398B                      
     187   02:398B                        
     188   02:398B                      MY_SLOW:
     189   02:398B  FD CB 3B F6           SET     6,(IY+$3B)      ; sv CDFLAG
     190   02:398F  C3 07 02              JP      SLOW_PER_FAST           ; to SLOW/FAST
     191   02:3992                      MY_FAST:
     192   02:3992  CD E7 02              CALL    SET_FAST           ; routine SET-FAST
     193   02:3995  FD CB 3B B6           RES     6,(IY+$3B)      ; sv CDFLAG
     194   02:3999  C9                    RET                     ; return.
     195   02:399A                      
     196   02:399A                      ASCII_CONVERT_TABLE:
     197   02:399A                        ; $20, 
     198   02:399A                        DB __, __, _DQUOTE, __, _DOLLAR, __, __, __,\
     199   02:399A                        _POPEN, _PCLOSE, _AST, _PLUS, _COMMA, _DASH, _PERIOD, _SLASH,\
     200   02:399A                         _0, _1, _2, _3, _4, _5, _6, _7,\
     201   02:399A                         _8, _9, _COLON, _SEMIC, _LT, _EQUAL, _GT, _QMARK
     201   02:399A  00 00 0B 00 0D 00 00 00 10 11 17 15 1A 16 1B 18 
     201   02:39AA  1C 1D 1E 1F 20 21 22 23 24 25 0E 19 13 14 12 0F 
     202   02:39BA                      GT64K_STR:
     203   02:39BA  22 20 30 15 FF        DB  _6, _4, _K, _PLUS, $FF
     204   02:39BF                      DIR_STR:
     205   02:39BF  13 29 2E 37 12 FF     DB _LT, _D, _I, _R, _GT, $FF
     206   02:39C5                      INIT_SD_STR:
     207   02:39C5                        DB $00, _I, _N, _I, _T, __, _S, _D, _PERIOD, _PERIOD, _PERIOD, $FF
     207   02:39C5  00 2E 33 2E 39 00 38 29 1B 1B 1B FF 
     208   02:39D1                      LOAD_DIR_STR
     209   02:39D1                        DB __, _L, _O, _A, _D, __, _D, _I, _R, _COLON, $00, $00, $00, $00, $FF
     209   02:39D1  00 31 34 26 29 00 29 2E 37 0E 00 00 00 00 FF 
     210   02:39E0                      DIR_LOADED_STR:
     211   02:39E0                        DB _L, _O, _A, _D, __, _D, _O, _N, _E, $FF
     211   02:39E0  31 34 26 29 00 29 34 33 2A FF 
     212   02:39EA                        
     213   02:39EA                      CREDITS:
     214   02:39EA                        DB "       ==== CREDITS ====        "
     214   02:39EA  20 20 20 20 20 20 20 3D 3D 3D 3D 20 43 52 45 44 
     214   02:39FA  49 54 53 20 3D 3D 3D 3D 20 20 20 20 20 20 20 20 
     215   02:3A0A                        DB " SD card handling routines are  "
     215   02:3A0A  20 53 44 20 63 61 72 64 20 68 61 6E 64 6C 69 6E 
     215   02:3A1A  67 20 72 6F 75 74 69 6E 65 73 20 61 72 65 20 20 
     216   02:3A2A                        DB " based on www.github.com/...    "
     216   02:3A2A  20 62 61 73 65 64 20 6F 6E 20 77 77 77 2E 67 69 
     216   02:3A3A  74 68 75 62 2E 63 6F 6D 2F 2E 2E 2E 20 20 20 20 
     217   02:3A4A                        DB "  ...feilipu/z88dk-libraries/ff "
     217   02:3A4A  20 20 2E 2E 2E 66 65 69 6C 69 70 75 2F 7A 38 38 
     217   02:3A5A  64 6B 2D 6C 69 62 72 61 72 69 65 73 2F 66 66 20 
     218   02:3A6A                        DB "  ...z88dk/                     "
     218   02:3A6A  20 20 2E 2E 2E 7A 38 38 64 6B 2F 20 20 20 20 20 
     218   02:3A7A  20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 
     219   02:3A8A                        DB " Big thanks to them!            "
     219   02:3A8A  20 42 69 67 20 74 68 61 6E 6B 73 20 74 6F 20 74 
     219   02:3A9A  68 65 6D 21 20 20 20 20 20 20 20 20 20 20 20 20 
     220   02:3AAA                        DB " All other coding, hardware     "
     220   02:3AAA  20 41 6C 6C 20 6F 74 68 65 72 20 63 6F 64 69 6E 
     220   02:3ABA  67 2C 20 68 61 72 64 77 61 72 65 20 20 20 20 20 
     221   02:3ACA                        DB " design is done by:             "
     221   02:3ACA  20 64 65 73 69 67 6E 20 69 73 20 64 6F 6E 65 20 
     221   02:3ADA  62 79 3A 20 20 20 20 20 20 20 20 20 20 20 20 20 
     222   02:3AEA                        DB "              Sandor Vass, 2023 "
     222   02:3AEA  20 20 20 20 20 20 20 20 20 20 20 20 20 20 53 61 
     222   02:3AFA  6E 64 6F 72 20 56 61 73 73 2C 20 32 30 32 33 20 
     223   02:3B0A  00                    DB 0x00
     224   02:3B0B                      
     225   02:3B0B                      
     226   02:3B0B                      
     227   02:3B0B                        CODE ! BANK3.ENTRY_ON_PAGE2
     228   02:3FC1  C3 73 57              JP BANK3.START_SD
     229   02:3FC4                        
     230   02:3FC4                      FILE_LOADED:
     231   02:3FC4  3A FF BF              LD A,(CTRL_SHADOW)
     232   02:3FC7  E6 3F                 AND $3F
     233   02:3FC9  32 FF BF              LD (CTRL_SHADOW), A
     234   02:3FCC  D3 3F                 OUT (CTRL_PORT), A
     235   02:3FCE  (02:3FCE)           @REENTRY_PAGE0_LOADED = $
     236   02:3FCE                        CODE ! EXIT_TO_BASIC_PAGE0 - (EXIT_TO_BASIC_END - EXIT_TO_BASIC)
     237   02:3FE4                      EXIT_TO_BASIC:
     238   02:3FE4  3A FF BF              LD A,(CTRL_SHADOW)
     239   02:3FE7  E6 3F                 AND $3F
     240   02:3FE9  32 FF BF              LD (CTRL_SHADOW), A
     241   02:3FEC  D3 3F                 OUT (CTRL_PORT), A
     242   02:3FEE                      EXIT_TO_BASIC_END
     243   02:3FEE  (02:3FEE)           @REENTRY_PAGE0_BASIC = $
     244   02:3FEE                      BACK_TO_FLASH:
     245   02:3FEE  3A FF BF              LD A,(CTRL_SHADOW)
     246   02:3FF1  E6 3F                 AND $3F
     247   02:3FF3  F6 08                 OR (1<<SD_SPI_CS); SD card de-selected
     248   02:3FF5  32 FF BF              LD (CTRL_SHADOW), A
     249   02:3FF8  D3 3F                 OUT (CTRL_PORT), A
     250   02:3FFA  (02:3FFA)           @REENTRY_PAGE0_FLASH = $
     251   02:3FFA                      
     252   02:3FFA                        ENDMODULE ; BANK2
     253   02:3FFA                        
     254   02:3FFA  (03)                  PAGE 3
     255   03:0000                        CODE ! 0400h
     256   03:0400  (4400)                PHASE 4400h
     257   03:4400                        INCLUDE "diskio_sd.c.asm" 
       1.  03:4400                      ;* * * * *  Small-C/Plus z88dk * * * * *
       2.  03:4400                      ;  Version: 19766-9ffe2042c-20220723
       3.  03:4400                      ;
       4.  03:4400                      ;	Reconstructed for z80 Module Assembler
       5.  03:4400                      ;
       6.  03:4400                      ;	Module compile time: Sun Aug 20 23:04:32 2023
       7.  03:4400                      
       8.  03:4400                      
       9.  03:4400                      	C_LINE	0,"./diskio_sd.c"
      10.  03:4400                      
      11.  03:4400                      	MODULE	X__diskio_sd_c
      12.  03:4400                      
      13.  03:4400                      
      14.  03:4400                      ;	INCLUDE "z80_crt0.hdr"
      15.  03:4400                      
      16.  03:4400                      
      17.  03:4400                      	C_LINE	0,"c:\apps\z88dk\lib\config\\..\..\/include/stdint.h"
      18.  03:4400                      	C_LINE	0,"c:\apps\z88dk\lib\config\\..\..\/include/sys/compiler.h"
      19.  03:4400                      	C_LINE	10,"c:\apps\z88dk\lib\config\\..\..\/include/stdint.h"
      20.  03:4400                      	C_LINE	0,"c:\apps\z88dk\lib\config\\..\..\/include/sys/types.h"
      21.  03:4400                      	C_LINE	17,"c:\apps\z88dk\lib\config\\..\..\/include/sys/types.h"
      22.  03:4400                      	C_LINE	26,"c:\apps\z88dk\lib\config\\..\..\/include/sys/types.h"
      23.  03:4400                      	C_LINE	35,"c:\apps\z88dk\lib\config\\..\..\/include/sys/types.h"
      24.  03:4400                      	C_LINE	40,"c:\apps\z88dk\lib\config\\..\..\/include/sys/types.h"
      25.  03:4400                      	C_LINE	45,"c:\apps\z88dk\lib\config\\..\..\/include/sys/types.h"
      26.  03:4400                      	C_LINE	50,"c:\apps\z88dk\lib\config\\..\..\/include/sys/types.h"
      27.  03:4400                      	C_LINE	55,"c:\apps\z88dk\lib\config\\..\..\/include/sys/types.h"
      28.  03:4400                      	C_LINE	60,"c:\apps\z88dk\lib\config\\..\..\/include/sys/types.h"
      29.  03:4400                      	C_LINE	65,"c:\apps\z88dk\lib\config\\..\..\/include/sys/types.h"
      30.  03:4400                      	C_LINE	70,"c:\apps\z88dk\lib\config\\..\..\/include/sys/types.h"
      31.  03:4400                      	C_LINE	75,"c:\apps\z88dk\lib\config\\..\..\/include/sys/types.h"
      32.  03:4400                      	C_LINE	80,"c:\apps\z88dk\lib\config\\..\..\/include/sys/types.h"
      33.  03:4400                      	C_LINE	85,"c:\apps\z88dk\lib\config\\..\..\/include/sys/types.h"
      34.  03:4400                      	C_LINE	89,"c:\apps\z88dk\lib\config\\..\..\/include/sys/types.h"
      35.  03:4400                      	C_LINE	90,"c:\apps\z88dk\lib\config\\..\..\/include/sys/types.h"
      36.  03:4400                      	C_LINE	91,"c:\apps\z88dk\lib\config\\..\..\/include/sys/types.h"
      37.  03:4400                      	C_LINE	93,"c:\apps\z88dk\lib\config\\..\..\/include/sys/types.h"
      38.  03:4400                      	C_LINE	94,"c:\apps\z88dk\lib\config\\..\..\/include/sys/types.h"
      39.  03:4400                      	C_LINE	95,"c:\apps\z88dk\lib\config\\..\..\/include/sys/types.h"
      40.  03:4400                      	C_LINE	101,"c:\apps\z88dk\lib\config\\..\..\/include/sys/types.h"
      41.  03:4400                      	C_LINE	106,"c:\apps\z88dk\lib\config\\..\..\/include/sys/types.h"
      42.  03:4400                      	C_LINE	11,"c:\apps\z88dk\lib\config\\..\..\/include/stdint.h"
      43.  03:4400                      	C_LINE	13,"c:\apps\z88dk\lib\config\\..\..\/include/stdint.h"
      44.  03:4400                      	C_LINE	14,"c:\apps\z88dk\lib\config\\..\..\/include/stdint.h"
      45.  03:4400                      	C_LINE	15,"c:\apps\z88dk\lib\config\\..\..\/include/stdint.h"
      46.  03:4400                      	C_LINE	17,"c:\apps\z88dk\lib\config\\..\..\/include/stdint.h"
      47.  03:4400                      	C_LINE	18,"c:\apps\z88dk\lib\config\\..\..\/include/stdint.h"
      48.  03:4400                      	C_LINE	19,"c:\apps\z88dk\lib\config\\..\..\/include/stdint.h"
      49.  03:4400                      	C_LINE	21,"c:\apps\z88dk\lib\config\\..\..\/include/stdint.h"
      50.  03:4400                      	C_LINE	22,"c:\apps\z88dk\lib\config\\..\..\/include/stdint.h"
      51.  03:4400                      	C_LINE	23,"c:\apps\z88dk\lib\config\\..\..\/include/stdint.h"
      52.  03:4400                      	C_LINE	25,"c:\apps\z88dk\lib\config\\..\..\/include/stdint.h"
      53.  03:4400                      	C_LINE	26,"c:\apps\z88dk\lib\config\\..\..\/include/stdint.h"
      54.  03:4400                      	C_LINE	27,"c:\apps\z88dk\lib\config\\..\..\/include/stdint.h"
      55.  03:4400                      	C_LINE	29,"c:\apps\z88dk\lib\config\\..\..\/include/stdint.h"
      56.  03:4400                      	C_LINE	30,"c:\apps\z88dk\lib\config\\..\..\/include/stdint.h"
      57.  03:4400                      	C_LINE	31,"c:\apps\z88dk\lib\config\\..\..\/include/stdint.h"
      58.  03:4400                      	C_LINE	33,"c:\apps\z88dk\lib\config\\..\..\/include/stdint.h"
      59.  03:4400                      	C_LINE	34,"c:\apps\z88dk\lib\config\\..\..\/include/stdint.h"
      60.  03:4400                      	C_LINE	35,"c:\apps\z88dk\lib\config\\..\..\/include/stdint.h"
      61.  03:4400                      	C_LINE	37,"c:\apps\z88dk\lib\config\\..\..\/include/stdint.h"
      62.  03:4400                      	C_LINE	38,"c:\apps\z88dk\lib\config\\..\..\/include/stdint.h"
      63.  03:4400                      	C_LINE	40,"c:\apps\z88dk\lib\config\\..\..\/include/stdint.h"
      64.  03:4400                      	C_LINE	41,"c:\apps\z88dk\lib\config\\..\..\/include/stdint.h"
      65.  03:4400                      	C_LINE	43,"c:\apps\z88dk\lib\config\\..\..\/include/stdint.h"
      66.  03:4400                      	C_LINE	44,"c:\apps\z88dk\lib\config\\..\..\/include/stdint.h"
      67.  03:4400                      	C_LINE	49,"c:\apps\z88dk\lib\config\\..\..\/include/stdint.h"
      68.  03:4400                      	C_LINE	52,"c:\apps\z88dk\lib\config\\..\..\/include/stdint.h"
      69.  03:4400                      	C_LINE	54,"c:\apps\z88dk\lib\config\\..\..\/include/stdint.h"
      70.  03:4400                      	C_LINE	55,"c:\apps\z88dk\lib\config\\..\..\/include/stdint.h"
      71.  03:4400                      	C_LINE	14,"./diskio_sd.c"
      72.  03:4400                      	C_LINE	0,"c:\apps\z88dk\lib\config\\..\..\/include/stdbool.h"
      73.  03:4400                      	C_LINE	12,"c:\apps\z88dk\lib\config\\..\..\/include/stdbool.h"
      74.  03:4400                      	C_LINE	15,"./diskio_sd.c"
      75.  03:4400                      	C_LINE	0,"./diskio_sd.h"
      76.  03:4400                      	C_LINE	85,"./diskio_sd.h"
      77.  03:4400                      	C_LINE	86,"./diskio_sd.h"
      78.  03:4400                      	C_LINE	87,"./diskio_sd.h"
      79.  03:4400                      	C_LINE	88,"./diskio_sd.h"
      80.  03:4400                      	C_LINE	89,"./diskio_sd.h"
      81.  03:4400                      	C_LINE	103,"./diskio_sd.h"
      82.  03:4400                      	C_LINE	106,"./diskio_sd.h"
      83.  03:4400                      	C_LINE	115,"./diskio_sd.h"
      84.  03:4400                      	C_LINE	122,"./diskio_sd.h"
      85.  03:4400                      	C_LINE	132,"./diskio_sd.h"
      86.  03:4400                      	C_LINE	145,"./diskio_sd.h"
      87.  03:4400                      	C_LINE	161,"./diskio_sd.h"
      88.  03:4400                      	C_LINE	176,"./diskio_sd.h"
      89.  03:4400                      	C_LINE	17,"./diskio_sd.c"
      90.  03:4400                      	C_LINE	0,"./sdandjoy.h"
      91.  03:4400                      	C_LINE	5,"./sdandjoy.h"
      92.  03:4400                      	C_LINE	6,"./sdandjoy.h"
      93.  03:4400                      	C_LINE	7,"./sdandjoy.h"
      94.  03:4400                      	C_LINE	8,"./sdandjoy.h"
      95.  03:4400                      	C_LINE	9,"./sdandjoy.h"
      96.  03:4400                      	C_LINE	10,"./sdandjoy.h"
      97.  03:4400                      	C_LINE	12,"./sdandjoy.h"
      98.  03:4400                      	C_LINE	16,"./sdandjoy.h"
      99.  03:4400                      	C_LINE	23,"./diskio_sd.c"
     100.  03:4400                      	C_LINE	105,"./diskio_sd.c"
     101.  03:4400                      	C_LINE	107,"./diskio_sd.c"
     102.  03:4400                      	C_LINE	117,"./diskio_sd.c"
     103.  03:4400                      	C_LINE	118,"./diskio_sd.c"
     104.  03:4400                      	C_LINE	121,"./diskio_sd.c"
     105.  03:4400                      	C_LINE	122,"./diskio_sd.c"
     106.  03:4400                      	C_LINE	123,"./diskio_sd.c"
     107.  03:4400                      	C_LINE	124,"./diskio_sd.c"
     108.  03:4400                      	C_LINE	125,"./diskio_sd.c"
     109.  03:4400                      	C_LINE	135,"./diskio_sd.c"
     110.  03:4400                      	SECTION	code_compiler
     111.  03:4400                      	
     112.  03:4400                      
     113.  03:4400  (03:0000)           SPI_CS    = 0
     114.  03:4400  (03:0001)           SPI_CLK   = 1
     115.  03:4400  (03:0002)           SPI_DI    = 2
     116.  03:4400  (03:0003)           SD_SPI_CS = 3
     117.  03:4400                      
     118.  03:4400                      ; selecting SPI - DI and CLK low
     119.  03:4400                      @_sd_cs_lower
     120.  03:4400  3A FF BF            	ld a,(CTRL_SHADOW)
     121.  03:4403  E6 CC               	AND $C0 + (1 << SD_SPI_CS) + (1 << SPI_DI)	; CLK low
     122.  03:4405  D3 3F               	OUT (CTRL_PORT), A	; CLK low!
     123.  03:4407  E6 FE               	AND ~(1 << SPI_CS)
     124.  03:4409  D3 3F               	OUT (CTRL_PORT), A	; CS low!
     125.  03:440B  32 FF BF            	ld (CTRL_SHADOW), A
     126.  03:440E  C9                  	ret
     127.  03:440F                      
     128.  03:440F                      ; deselecting SPI - DI high
     129.  03:440F                      @_sd_cs_raise
     130.  03:440F  3A FF BF            	ld A,(CTRL_SHADOW)
     131.  03:4412  E6 C0               	AND $C0
     132.  03:4414  F6 0D               	OR (1<< SD_SPI_CS) + (1 << SPI_CS) + (1<<SPI_DI)
     133.  03:4416  D3 3F               	OUT (CTRL_PORT), A
     134.  03:4418  32 FF BF            	LD (CTRL_SHADOW), A
     135.  03:441B  C9                  	ret
     136.  03:441C                      
     137.  03:441C                      ; on the falling edge - CLK expected high at start, low at end
     138.  03:441C                      @_sd_read_byte
     139.  03:441C  01 3F 08            	ld bc,$08:CTRL_PORT
     140.  03:441F  3A FF BF            	ld a,(CTRL_SHADOW)
     141.  03:4422                      .read_byte_loop
     142.  03:4422  F6 06               	OR (1<<SPI_CLK) + (1<<SPI_DI)		; at first this should have no effect (7)
     143.  03:4424  D3 3F                   OUT (CTRL_PORT), A	; (11)
     144.  03:4426  E6 FD               	AND ~(1<<SPI_CLK)   ; (7)
     145.  03:4428  D3 3F               	OUT (CTRL_PORT), A  ; (11)
     146.  03:442A  ED 58                   IN E,(C)
     147.  03:442C  CB 1B               	RR E
     148.  03:442E  CB 15               	RL L
     149.  03:4430  10 F0               	DJNZ .read_byte_loop
     150.  03:4432  32 FF BF            	ld (CTRL_SHADOW), A
     151.  03:4435  26 00               	ld h,0
     152.  03:4437  C9                  	ret
     153.  03:4438                      
     154.  03:4438                      ; on the rising edge - CLK expected low at start, high at end
     155.  03:4438                      @_sd_write_byte
     156.  03:4438  21 02 00            	ld	hl,2	;const
     157.  03:443B  39                  	add	hl,sp
     158.  03:443C  6E                  	ld	l,(hl)
     159.  03:443D                      _sd_write_byte_fast_entry
     160.  03:443D  06 08               	ld b,$08
     161.  03:443F  3A FF BF            	ld a,(CTRL_SHADOW)
     162.  03:4442                      .write_byte_loop
     163.  03:4442  E6 C1                   AND $C0 + (1 << SPI_CS) ; makes sure CLK and DI is low, CS is not touched
     164.  03:4444  CB 15               	RL L
     165.  03:4446  30 02               	jr nc, .bit_set_done
     166.  03:4448  F6 04               	OR 1<<SPI_DI
     167.  03:444A                      .bit_set_done
     168.  03:444A  D3 3F                   OUT (CTRL_PORT), A
     169.  03:444C  F6 02               	OR 1<<SPI_CLK
     170.  03:444E  D3 3F               	OUT (CTRL_PORT), A
     171.  03:4450  10 F0               	DJNZ .write_byte_loop
     172.  03:4452  32 FF BF            	ld (CTRL_SHADOW), A
     173.  03:4455  C9                  	ret
     174.  03:4456                      
     175.  03:4456                      @_sd_read_block
     176.  03:4456  21 02 00            	ld	hl,2	;const
     177.  03:4459  39                  	add	hl,sp
     178.  03:445A  7E                  	ld	a,(hl)
     179.  03:445B  23                  	inc hl
     180.  03:445C  66                  	ld h,(hl)
     181.  03:445D  6F                  	ld l,a
     182.  03:445E  01 00 FE            	ld bc,-512
     183.  03:4461                      .loop_sd_read_block
     184.  03:4461  E5                  	push hl
     185.  03:4462  C5                  	push bc
     186.  03:4463  CD 1C 44            	call _sd_read_byte
     187.  03:4466  7D                  	ld a,l
     188.  03:4467  C1                  	pop bc
     189.  03:4468  E1                  	pop hl
     190.  03:4469  77                  	ld (hl), a
     191.  03:446A  23                  	inc hl
     192.  03:446B  0C                  	inc c
     193.  03:446C  20 F3               	jr nz, .loop_sd_read_block
     194.  03:446E  04                  	inc b
     195.  03:446F  20 F0               	jr nz, .loop_sd_read_block
     196.  03:4471  C9                  	ret
     197.  03:4472                      
     198.  03:4472                      @_sd_write_block
     199.  03:4472  21 02 00            	ld	hl,2	;const
     200.  03:4475  39                  	add	hl,sp
     201.  03:4476  7E                  	ld	a,(hl)
     202.  03:4477  23                  	inc hl
     203.  03:4478  66                  	ld h,(hl)
     204.  03:4479  6F                  	ld l,a
     205.  03:447A  01 00 FE            	ld bc,-512
     206.  03:447D                      .loop_sd_write_block
     207.  03:447D  E5                  	push hl
     208.  03:447E  C5                  	push bc
     209.  03:447F  6E                  	ld l, (hl)
     210.  03:4480  CD 3D 44            	call _sd_write_byte_fast_entry
     211.  03:4483  C1                  	pop bc
     212.  03:4484  E1                  	pop hl
     213.  03:4485  23                  	inc hl
     214.  03:4486  0C                  	inc c
     215.  03:4487  20 F4               	jr nz, .loop_sd_write_block
     216.  03:4489  04                  	inc b
     217.  03:448A  20 F1               	jr nz, .loop_sd_write_block
     218.  03:448C  C9                  	ret
     219.  03:448D                      
     220.  03:448D                      @_sd_clock
     221.  03:448D  C9                  	ret
     222.  03:448E                      
     223.  03:448E                      
     224.  03:448E                      @_hbios
     225.  03:448E  2A 34 40            	ld hl,(FRAMES)
     226.  03:4491  11 00 00            	ld de,0
     227.  03:4494  EB                  	ex de, hl
     228.  03:4495  AF                  	xor a
     229.  03:4496  ED 52               	sbc hl, de
     230.  03:4498  11 00 00            	ld de, $00
     231.  03:449B  C9                  	ret
     232.  03:449C                      
     233.  03:449C                      
     234.  03:449C                      
     235.  03:449C                      ; Function deselect flags 0x00000200 __smallc 
     236.  03:449C                      ; void deselect()
     237.  03:449C                      	C_LINE	138,"./diskio_sd.c::deselect::0::0"
     238.  03:449C                      @_deselect
     239.  03:449C  CD 0F 44            	call	_sd_cs_raise
     240.  03:449F  21 FF 00            	ld	hl,255	;const
     241.  03:44A2  E5                  	push	hl
     242.  03:44A3  CD 38 44            	call	_sd_write_byte
     243.  03:44A6  C1                  	pop	bc
     244.  03:44A7  C9                  	ret
     245.  03:44A8                      
     246.  03:44A8                      
     247.  03:44A8                      	C_LINE	151,"./diskio_sd.c::deselect::0::1"
     248.  03:44A8                      
     249.  03:44A8                      ; Function select flags 0x00000200 __smallc 
     250.  03:44A8                      ; void select(unsigned char pdrv)
     251.  03:44A8                      ; parameter 'unsigned char pdrv' at sp+2 size(1)
     252.  03:44A8                      	C_LINE	154,"./diskio_sd.c::select::0::1"
     253.  03:44A8                      @_select
     254.  03:44A8  21 02 00            	ld	hl,2	;const
     255.  03:44AB  39                  	add	hl,sp
     256.  03:44AC  6E                  	ld	l,(hl)
     257.  03:44AD  26 00               	ld	h,0
     258.  03:44AF  E5                  	push	hl
     259.  03:44B0  CD 00 44            	call	_sd_cs_lower
     260.  03:44B3  C1                  	pop	bc
     261.  03:44B4  C9                  	ret
     262.  03:44B5                      
     263.  03:44B5                      
     264.  03:44B5                      	C_LINE	162,"./diskio_sd.c::select::0::2"
     265.  03:44B5                      
     266.  03:44B5                      ; Function wait_ready flags 0x00000200 __smallc 
     267.  03:44B5                      ; unsigned char BYTEwait_ready(unsigned char want_ff)
     268.  03:44B5                      ; parameter 'unsigned char want_ff' at sp+2 size(1)
     269.  03:44B5                      	C_LINE	164,"./diskio_sd.c::wait_ready::0::2"
     270.  03:44B5                      @_wait_ready
     271.  03:44B5  3B                  	dec	sp
     272.  03:44B6                      i_2
     273.  03:44B6  21 00 00            	ld	hl,0	;const
     274.  03:44B9  39                  	add	hl,sp
     275.  03:44BA  E5                  	push	hl
     276.  03:44BB  CD 1C 44            	call	_sd_read_byte
     277.  03:44BE  D1                  	pop	de
     278.  03:44BF  7D                  	ld	a,l
     279.  03:44C0  12                  	ld	(de),a
     280.  03:44C1  21 03 00            	ld	hl,3	;const
     281.  03:44C4  39                  	add	hl,sp
     282.  03:44C5  7E                  	ld	a,(hl)
     283.  03:44C6  A7                  	and	a
     284.  03:44C7  CA D7 44            	jp	z,i_4	;
     285.  03:44CA  21 00 00            	ld	hl,0	;const
     286.  03:44CD  39                  	add	hl,sp
     287.  03:44CE  7E                  	ld	a,(hl)
     288.  03:44CF  FE FF               	cp	255
     289.  03:44D1  CA E1 44            	jp	z,i_3	;EOS
     290.  03:44D4  C3 B6 44            	jp	i_6	;EOS
     291.  03:44D7                      i_4
     292.  03:44D7  21 00 00            	ld	hl,0	;const
     293.  03:44DA  39                  	add	hl,sp
     294.  03:44DB  7E                  	ld	a,(hl)
     295.  03:44DC  FE FF               	cp	255
     296.  03:44DE  CA B6 44            	jp	z,i_2	;EOS
     297.  03:44E1                      i_3
     298.  03:44E1  E1                  	pop	hl
     299.  03:44E2  E5                  	push	hl
     300.  03:44E3  26 00               	ld	h,0
     301.  03:44E5  33                  	inc	sp
     302.  03:44E6  C9                  	ret
     303.  03:44E7                      
     304.  03:44E7                      
     305.  03:44E7                      	C_LINE	182,"./diskio_sd.c::wait_ready::0::6"
     306.  03:44E7                      
     307.  03:44E7                      ; Function read_data flags 0x00000200 __smallc 
     308.  03:44E7                      ; unsigned char BYTEread_data(unsigned char BYTE* buff, unsigned char length)
     309.  03:44E7                      ; parameter 'unsigned char length' at sp+2 size(1)
     310.  03:44E7                      ; parameter 'unsigned char BYTE* buff' at sp+4 size(2)
     311.  03:44E7                      	C_LINE	187,"./diskio_sd.c::read_data::0::6"
     312.  03:44E7                      _read_data
     313.  03:44E7  C5                  	push	bc
     314.  03:44E8  21 00 00            	ld	hl,0	;const
     315.  03:44EB  39                  	add	hl,sp
     316.  03:44EC  36 00               	ld	(hl),0
     317.  03:44EE  C3 F6 44            	jp	i_10	;EOS
     318.  03:44F1                      i_8
     319.  03:44F1  21 00 00            	ld	hl,0	;const
     320.  03:44F4  39                  	add	hl,sp
     321.  03:44F5  34                  	inc	(hl)
     322.  03:44F6                      i_10
     323.  03:44F6  E1                  	pop	hl
     324.  03:44F7  E5                  	push	hl
     325.  03:44F8  7D                  	ld	a,l
     326.  03:44F9  D6 64               	sub	100
     327.  03:44FB  D2 13 45            	jp	nc,i_9	;
     328.  03:44FE  21 01 00            	ld	hl,1	;const
     329.  03:4501  39                  	add	hl,sp
     330.  03:4502  E5                  	push	hl
     331.  03:4503  CD 1C 44            	call	_sd_read_byte
     332.  03:4506  D1                  	pop	de
     333.  03:4507  7D                  	ld	a,l
     334.  03:4508  12                  	ld	(de),a
     335.  03:4509  21 01 00            	ld	hl,1	;const
     336.  03:450C  39                  	add	hl,sp
     337.  03:450D  7E                  	ld	a,(hl)
     338.  03:450E  FE FF               	cp	255
     339.  03:4510  CA F1 44            	jp	z,i_8	;EOS
     340.  03:4513                      i_9
     341.  03:4513  21 01 00            	ld	hl,1	;const
     342.  03:4516  39                  	add	hl,sp
     343.  03:4517  7E                  	ld	a,(hl)
     344.  03:4518  FE FE               	cp	254
     345.  03:451A  CA 22 45            	jp	z,i_12	;
     346.  03:451D  21 00 00            	ld	hl,0	;const
     347.  03:4520  C1                  	pop	bc
     348.  03:4521  C9                  	ret
     349.  03:4522                      
     350.  03:4522                      
     351.  03:4522                      i_15
     352.  03:4522  21 06 00            	ld	hl,6	;const
     353.  03:4525  39                  	add	hl,sp
     354.  03:4526  34                  	inc	(hl)
     355.  03:4527  7E                  	ld	a,(hl)
     356.  03:4528  23                  	inc	hl
     357.  03:4529                      ;mark line here!	
     358.  03:4529  20 01               	jr	nz,$+3
     359.  03:452B  34                  	inc	(hl)
     360.  03:452C  66                  	ld	h,(hl)
     361.  03:452D  6F                  	ld	l,a
     362.  03:452E  2B                  	dec	hl
     363.  03:452F  E5                  	push	hl
     364.  03:4530  CD 1C 44            	call	_sd_read_byte
     365.  03:4533  D1                  	pop	de
     366.  03:4534  7D                  	ld	a,l
     367.  03:4535  12                  	ld	(de),a
     368.  03:4536                      i_13
     369.  03:4536  21 04 00            	ld	hl,4	;const
     370.  03:4539  39                  	add	hl,sp
     371.  03:453A  35                  	dec	(hl)
     372.  03:453B  6E                  	ld	l,(hl)
     373.  03:453C  26 00               	ld	h,0
     374.  03:453E  7C                  	ld	a,h
     375.  03:453F  B5                  	or	l
     376.  03:4540  C2 22 45            	jp	nz,i_15	;EOS
     377.  03:4543                      i_14
     378.  03:4543  CD 1C 44            	call	_sd_read_byte
     379.  03:4546  CD 1C 44            	call	_sd_read_byte
     380.  03:4549  21 05 00            	ld	hl,5	;const
     381.  03:454C  C1                  	pop	bc
     382.  03:454D  C9                  	ret
     383.  03:454E                      
     384.  03:454E                      
     385.  03:454E                      	C_LINE	211,"./diskio_sd.c::read_data::0::9"
     386.  03:454E                      
     387.  03:454E                      ; Function read_sector flags 0x00000200 __smallc 
     388.  03:454E                      ; unsigned char BYTEread_sector(unsigned char BYTE* buff)
     389.  03:454E                      ; parameter 'unsigned char BYTE* buff' at sp+2 size(2)
     390.  03:454E                      	C_LINE	215,"./diskio_sd.c::read_sector::0::9"
     391.  03:454E                      @_read_sector
     392.  03:454E  C5                  	push	bc
     393.  03:454F  21 00 00            	ld	hl,0	;const
     394.  03:4552  39                  	add	hl,sp
     395.  03:4553  36 00               	ld	(hl),0
     396.  03:4555  C3 5D 45            	jp	i_18	;EOS
     397.  03:4558                      i_16
     398.  03:4558  21 00 00            	ld	hl,0	;const
     399.  03:455B  39                  	add	hl,sp
     400.  03:455C  34                  	inc	(hl)
     401.  03:455D                      i_18
     402.  03:455D  E1                  	pop	hl
     403.  03:455E  E5                  	push	hl
     404.  03:455F  7D                  	ld	a,l
     405.  03:4560  D6 64               	sub	100
     406.  03:4562  D2 7A 45            	jp	nc,i_17	;
     407.  03:4565  21 01 00            	ld	hl,1	;const
     408.  03:4568  39                  	add	hl,sp
     409.  03:4569  E5                  	push	hl
     410.  03:456A  CD 1C 44            	call	_sd_read_byte
     411.  03:456D  D1                  	pop	de
     412.  03:456E  7D                  	ld	a,l
     413.  03:456F  12                  	ld	(de),a
     414.  03:4570  21 01 00            	ld	hl,1	;const
     415.  03:4573  39                  	add	hl,sp
     416.  03:4574  7E                  	ld	a,(hl)
     417.  03:4575  FE FF               	cp	255
     418.  03:4577  CA 58 45            	jp	z,i_16	;EOS
     419.  03:457A                      i_17
     420.  03:457A  21 01 00            	ld	hl,1	;const
     421.  03:457D  39                  	add	hl,sp
     422.  03:457E  7E                  	ld	a,(hl)
     423.  03:457F  FE FE               	cp	254
     424.  03:4581  CA 89 45            	jp	z,i_20	;
     425.  03:4584  21 00 00            	ld	hl,0	;const
     426.  03:4587  C1                  	pop	bc
     427.  03:4588  C9                  	ret
     428.  03:4589                      
     429.  03:4589                      
     430.  03:4589                      i_20
     431.  03:4589  21 04 00            	ld	hl,4	;const
     432.  03:458C  39                  	add	hl,sp
     433.  03:458D  7E                  	ld	a,(hl)	;l_gint
     434.  03:458E  23                  	inc	hl
     435.  03:458F  66                  	ld	h,(hl)
     436.  03:4590  6F                  	ld	l,a
     437.  03:4591  E5                  	push	hl
     438.  03:4592  CD 56 44            	call	_sd_read_block
     439.  03:4595  C1                  	pop	bc
     440.  03:4596  CD 1C 44            	call	_sd_read_byte
     441.  03:4599  CD 1C 44            	call	_sd_read_byte
     442.  03:459C  21 05 00            	ld	hl,5	;const
     443.  03:459F  C1                  	pop	bc
     444.  03:45A0  C9                  	ret
     445.  03:45A1                      
     446.  03:45A1                      
     447.  03:45A1                      	C_LINE	236,"./diskio_sd.c::read_sector::0::11"
     448.  03:45A1                      
     449.  03:45A1                      ; Function write_sector flags 0x00000200 __smallc 
     450.  03:45A1                      ; unsigned char BYTEwrite_sector(const unsigned char BYTE* buff, unsigned char token)
     451.  03:45A1                      ; parameter 'unsigned char token' at sp+2 size(1)
     452.  03:45A1                      ; parameter 'const unsigned char BYTE* buff' at sp+4 size(2)
     453.  03:45A1                      	C_LINE	241,"./diskio_sd.c::write_sector::0::11"
     454.  03:45A1                      @_write_sector
     455.  03:45A1  21 01 00            	ld	hl,1	;const
     456.  03:45A4  E5                  	push	hl
     457.  03:45A5  CD B5 44            	call	_wait_ready
     458.  03:45A8  C1                  	pop	bc
     459.  03:45A9  CD 3F 54            	call	l_lneg
     460.  03:45AC  D2 B3 45            	jp	nc,i_21	;
     461.  03:45AF  21 00 00            	ld	hl,0	;const
     462.  03:45B2  C9                  	ret
     463.  03:45B3                      
     464.  03:45B3                      
     465.  03:45B3                      i_21
     466.  03:45B3  21 02 00            	ld	hl,2	;const
     467.  03:45B6  39                  	add	hl,sp
     468.  03:45B7  6E                  	ld	l,(hl)
     469.  03:45B8  26 00               	ld	h,0
     470.  03:45BA  E5                  	push	hl
     471.  03:45BB  CD 38 44            	call	_sd_write_byte
     472.  03:45BE  C1                  	pop	bc
     473.  03:45BF  21 02 00            	ld	hl,2	;const
     474.  03:45C2  39                  	add	hl,sp
     475.  03:45C3  7E                  	ld	a,(hl)
     476.  03:45C4  FE FD               	cp	253
     477.  03:45C6  CA EE 45            	jp	z,i_22	;
     478.  03:45C9  21 04 00            	ld	hl,4	;const
     479.  03:45CC  39                  	add	hl,sp
     480.  03:45CD  7E                  	ld	a,(hl)	;l_gint
     481.  03:45CE  23                  	inc	hl
     482.  03:45CF  66                  	ld	h,(hl)
     483.  03:45D0  6F                  	ld	l,a
     484.  03:45D1  E5                  	push	hl
     485.  03:45D2  CD 72 44            	call	_sd_write_block
     486.  03:45D5  21 FF 00            	ld	hl,255	;const
     487.  03:45D8  E3                  	ex	(sp),hl
     488.  03:45D9  CD 38 44            	call	_sd_write_byte
     489.  03:45DC  21 FF 00            	ld	hl,255	;const
     490.  03:45DF  E3                  	ex	(sp),hl
     491.  03:45E0  CD 38 44            	call	_sd_write_byte
     492.  03:45E3  C1                  	pop	bc
     493.  03:45E4  CD 1C 44            	call	_sd_read_byte
     494.  03:45E7  7D                  	ld	a,l
     495.  03:45E8  E6 1F               	and	31
     496.  03:45EA  6F                  	ld	l,a
     497.  03:45EB  26 00               	ld	h,0
     498.  03:45ED  C9                  	ret
     499.  03:45EE                      
     500.  03:45EE                      
     501.  03:45EE                      i_22
     502.  03:45EE  21 05 00            	ld	hl,5	;const
     503.  03:45F1  C9                  	ret
     504.  03:45F2                      
     505.  03:45F2                      
     506.  03:45F2                      	C_LINE	260,"./diskio_sd.c::write_sector::0::13"
     507.  03:45F2                      
     508.  03:45F2                      ; Function send_cmd flags 0x00000200 __smallc 
     509.  03:45F2                      ; unsigned int WORDsend_cmd(unsigned char cmd, unsigned long arg)
     510.  03:45F2                      ; parameter 'unsigned long arg' at sp+2 size(4)
     511.  03:45F2                      ; parameter 'unsigned char cmd' at sp+6 size(1)
     512.  03:45F2                      	C_LINE	265,"./diskio_sd.c::send_cmd::0::13"
     513.  03:45F2                      @_send_cmd
     514.  03:45F2  C5                  	push	bc
     515.  03:45F3  C5                  	push	bc
     516.  03:45F4  3B                  	dec	sp
     517.  03:45F5  21 0B 00            	ld	hl,11	;const
     518.  03:45F8  39                  	add	hl,sp
     519.  03:45F9  6E                  	ld	l,(hl)
     520.  03:45FA  26 00               	ld	h,0
     521.  03:45FC  7D                  	ld	a,l
     522.  03:45FD  A7                  	and	a
     523.  03:45FE  28 01               	jr	z,$+3
     524.  03:4600  37                  	scf
     525.  03:4601  DA 0E 46            	jp	c,i_24	;
     526.  03:4604  21 0B 00            	ld	hl,11	;const
     527.  03:4607  39                  	add	hl,sp
     528.  03:4608  7E                  	ld	a,(hl)
     529.  03:4609  FE 0C               	cp	12
     530.  03:460B  CA 16 46            	jp	z,i_23	;
     531.  03:460E                      i_24
     532.  03:460E  21 01 00            	ld	hl,1	;const
     533.  03:4611  E5                  	push	hl
     534.  03:4612  CD B5 44            	call	_wait_ready
     535.  03:4615  C1                  	pop	bc
     536.  03:4616                      i_23
     537.  03:4616  21 0B 00            	ld	hl,11	;const
     538.  03:4619  39                  	add	hl,sp
     539.  03:461A  3E 80               	ld	a,128
     540.  03:461C  A6                  	and	(hl)
     541.  03:461D  CA A5 46            	jp	z,i_26	;
     542.  03:4620  21 77 00            	ld	hl,119	;const	(CMD55 -> $40 + 55)
     543.  03:4623  E5                  	push	hl
     544.  03:4624  CD 38 44            	call	_sd_write_byte
     545.  03:4627  21 00 00            	ld	hl,0	;const
     546.  03:462A  E3                  	ex	(sp),hl
     547.  03:462B  CD 38 44            	call	_sd_write_byte
     548.  03:462E  21 00 00            	ld	hl,0	;const
     549.  03:4631  E3                  	ex	(sp),hl
     550.  03:4632  CD 38 44            	call	_sd_write_byte
     551.  03:4635  21 00 00            	ld	hl,0	;const
     552.  03:4638  E3                  	ex	(sp),hl
     553.  03:4639  CD 38 44            	call	_sd_write_byte
     554.  03:463C  21 00 00            	ld	hl,0	;const
     555.  03:463F  E3                  	ex	(sp),hl
     556.  03:4640  CD 38 44            	call	_sd_write_byte
     557.  03:4643  21 A5 00            	ld	hl,165	;const	($A5)
     558.  03:4646  E3                  	ex	(sp),hl
     559.  03:4647  CD 38 44            	call	_sd_write_byte
     560.  03:464A  C1                  	pop	bc
     561.  03:464B  CD 1C 44            	call	_sd_read_byte
     562.  03:464E  3B                  	dec	sp
     563.  03:464F  E1                  	pop	hl
     564.  03:4650  2E FF               	ld	l,$FF
     565.  03:4652                      ; 	ld	l,8
     566.  03:4652  E5                  	push	hl
     567.  03:4653  C3 5B 46            	jp	i_29	;EOS
     568.  03:4656                      i_27
     569.  03:4656  21 00 00            	ld	hl,0	;const
     570.  03:4659  39                  	add	hl,sp
     571.  03:465A  35                  	dec	(hl)
     572.  03:465B                      i_29
     573.  03:465B  21 04 00            	ld	hl,4	;const
     574.  03:465E  39                  	add	hl,sp
     575.  03:465F  E5                  	push	hl
     576.  03:4660  CD 1C 44            	call	_sd_read_byte
     577.  03:4663  D1                  	pop	de
     578.  03:4664  EB                  	ex	de,hl	;l_pint
     579.  03:4665  73                  	ld	(hl),e
     580.  03:4666  23                  	inc	hl
     581.  03:4667  72                  	ld	(hl),d
     582.  03:4668  EB                   	ex	de,hl
     583.  03:4669  7D                  	ld	a,l
     584.  03:466A  E6 80               	and	128
     585.  03:466C  CA 7B 46            	jp	z,i_30	;
     586.  03:466F  21 00 00            	ld	hl,0	;const
     587.  03:4672  39                  	add	hl,sp
     588.  03:4673  7E                  	ld	a,(hl)
     589.  03:4674  A7                  	and	a
     590.  03:4675  CA 7B 46            	jp	z,i_30	;
     591.  03:4678  C3 56 46            	jp	i_27	;EOS
     592.  03:467B                      i_28
     593.  03:467B  33                  	inc	sp
     594.  03:467C  21 03 00            	ld	hl,3	;const
     595.  03:467F  39                  	add	hl,sp
     596.  03:4680  5E                  	ld	e,(hl)
     597.  03:4681  23                  	inc	hl
     598.  03:4682  56                  	ld	d,(hl)
     599.  03:4683  21 01 00            	ld	hl,1
     600.  03:4686  A7                  	and	a
     601.  03:4687  ED 52               	sbc	hl,de
     602.  03:4689  D2 9D 46            	jp	nc,i_32	;
     603.  03:468C  CD 9C 44            	call	_deselect
     604.  03:468F  21 03 00            	ld	hl,3	;const
     605.  03:4692  39                  	add	hl,sp
     606.  03:4693  7E                  	ld	a,(hl)	;l_gint
     607.  03:4694  23                  	inc	hl
     608.  03:4695  66                  	ld	h,(hl)
     609.  03:4696  67                  	ld	h,a
     610.  03:4697  2E 00               	ld	l,0
     611.  03:4699  33                  	inc	sp
     612.  03:469A  C1                  	pop	bc
     613.  03:469B  C1                  	pop	bc
     614.  03:469C  C9                  	ret
     615.  03:469D                      
     616.  03:469D                      i_32
     617.  03:469D  21 FF 00            	ld	hl,255	;const
     618.  03:46A0  E5                  	push	hl
     619.  03:46A1  CD 38 44            	call	_sd_write_byte
     620.  03:46A4  C1                  	pop	bc
     621.  03:46A5                      i_26
     622.  03:46A5  21 0B 00            	ld	hl,11	;const
     623.  03:46A8  39                  	add	hl,sp
     624.  03:46A9  6E                  	ld	l,(hl)
     625.  03:46AA  26 00               	ld	h,0
     626.  03:46AC  CB F5               	set	6,l
     627.  03:46AE  7D                  	ld	a,l
     628.  03:46AF  E6 7F               	and	127
     629.  03:46B1  6F                  	ld	l,a
     630.  03:46B2  26 00               	ld	h,0
     631.  03:46B4  6F                  	ld	l,a		;l_sxt
     632.  03:46B5  17                  	rla
     633.  03:46B6  9F                  	sbc	a
     634.  03:46B7  67                  	ld	h,a
     635.  03:46B8  E5                  	push	hl
     636.  03:46B9  CD 38 44            	call	_sd_write_byte	; sd_write_byte((0x40|cmd)&0x7F);
     637.  03:46BC  C1                  	pop	bc
     638.  03:46BD  21 01 00            	ld	hl,1	;const
     639.  03:46C0  39                  	add	hl,sp
     640.  03:46C1  E5                  	push	hl
     641.  03:46C2  21 0C 00            	ld	hl,12	;const
     642.  03:46C5  39                  	add	hl,sp
     643.  03:46C6  D1                  	pop	de
     644.  03:46C7  EB                  	ex	de,hl	;l_pint
     645.  03:46C8  73                  	ld	(hl),e
     646.  03:46C9  23                  	inc	hl
     647.  03:46CA  72                  	ld	(hl),d
     648.  03:46CB  EB                   	ex	de,hl
     649.  03:46CC  21 01 00            	ld	hl,1	;const
     650.  03:46CF  39                  	add	hl,sp
     651.  03:46D0  35                  	dec	(hl)
     652.  03:46D1  7E                  	ld	a,(hl)
     653.  03:46D2  23                  	inc	hl
     654.  03:46D3  FE FF               	cp	255
     655.  03:46D5  20 01               	jr	nz,$+3
     656.  03:46D7  35                  	dec	(hl)
     657.  03:46D8  66                  	ld	h,(hl)
     658.  03:46D9  6F                  	ld	l,a
     659.  03:46DA  23                  	inc	hl
     660.  03:46DB  6E                  	ld	l,(hl)
     661.  03:46DC  26 00               	ld	h,0
     662.  03:46DE  E5                  	push	hl
     663.  03:46DF  CD 38 44            	call	_sd_write_byte
     664.  03:46E2  C1                  	pop	bc
     665.  03:46E3  21 01 00            	ld	hl,1	;const
     666.  03:46E6  39                  	add	hl,sp
     667.  03:46E7  35                  	dec	(hl)
     668.  03:46E8  7E                  	ld	a,(hl)
     669.  03:46E9  23                  	inc	hl
     670.  03:46EA  FE FF               	cp	255
     671.  03:46EC  20 01               	jr	nz,$+3
     672.  03:46EE  35                  	dec	(hl)
     673.  03:46EF  66                  	ld	h,(hl)
     674.  03:46F0  6F                  	ld	l,a
     675.  03:46F1  23                  	inc	hl
     676.  03:46F2  6E                  	ld	l,(hl)
     677.  03:46F3  26 00               	ld	h,0
     678.  03:46F5  E5                  	push	hl
     679.  03:46F6  CD 38 44            	call	_sd_write_byte
     680.  03:46F9  C1                  	pop	bc
     681.  03:46FA  21 01 00            	ld	hl,1	;const
     682.  03:46FD  39                  	add	hl,sp
     683.  03:46FE  35                  	dec	(hl)
     684.  03:46FF  7E                  	ld	a,(hl)
     685.  03:4700  23                  	inc	hl
     686.  03:4701  FE FF               	cp	255
     687.  03:4703  20 01               	jr	nz,$+3
     688.  03:4705  35                  	dec	(hl)
     689.  03:4706  66                  	ld	h,(hl)
     690.  03:4707  6F                  	ld	l,a
     691.  03:4708  23                  	inc	hl
     692.  03:4709  6E                  	ld	l,(hl)
     693.  03:470A  26 00               	ld	h,0
     694.  03:470C  E5                  	push	hl
     695.  03:470D  CD 38 44            	call	_sd_write_byte
     696.  03:4710  C1                  	pop	bc
     697.  03:4711  21 01 00            	ld	hl,1	;const
     698.  03:4714  39                  	add	hl,sp
     699.  03:4715  7E                  	ld	a,(hl)	;l_gint
     700.  03:4716  23                  	inc	hl
     701.  03:4717  66                  	ld	h,(hl)
     702.  03:4718  6F                  	ld	l,a
     703.  03:4719  6E                  	ld	l,(hl)
     704.  03:471A  26 00               	ld	h,0
     705.  03:471C  E5                  	push	hl
     706.  03:471D  CD 38 44            	call	_sd_write_byte
     707.  03:4720  C1                  	pop	bc
     708.  03:4721  21 00 00            	ld	hl,0	;const
     709.  03:4724  39                  	add	hl,sp
     710.  03:4725  36 A5               	ld	(hl),165
     711.  03:4727  21 0B 00            	ld	hl,11	;const
     712.  03:472A  39                  	add	hl,sp
     713.  03:472B  7E                  	ld	a,(hl)
     714.  03:472C  A7                  	and	a
     715.  03:472D  C2 36 47            	jp	nz,i_33	;
     716.  03:4730  21 00 00            	ld	hl,0	;const
     717.  03:4733  39                  	add	hl,sp
     718.  03:4734  36 95               	ld	(hl),149
     719.  03:4736                      i_33
     720.  03:4736  21 0B 00            	ld	hl,11	;const
     721.  03:4739  39                  	add	hl,sp
     722.  03:473A  7E                  	ld	a,(hl)
     723.  03:473B  FE 08               	cp	8
     724.  03:473D  C2 46 47            	jp	nz,i_34	;
     725.  03:4740  21 00 00            	ld	hl,0	;const
     726.  03:4743  39                  	add	hl,sp
     727.  03:4744  36 87               	ld	(hl),135
     728.  03:4746                      i_34
     729.  03:4746  E1                  	pop	hl
     730.  03:4747  E5                  	push	hl
     731.  03:4748  26 00               	ld	h,0
     732.  03:474A  E5                  	push	hl
     733.  03:474B  CD 38 44            	call	_sd_write_byte
     734.  03:474E  C1                  	pop	bc
     735.  03:474F  CD 1C 44            	call	_sd_read_byte
     736.  03:4752  3B                  	dec	sp
     737.  03:4753  E1                  	pop	hl
     738.  03:4754  2E FF               	ld	l,$FF
     739.  03:4756                      ;	ld	l,8
     740.  03:4756  E5                  	push	hl
     741.  03:4757  C3 5F 47            	jp	i_37	;EOS
     742.  03:475A                      i_35
     743.  03:475A  21 00 00            	ld	hl,0	;const
     744.  03:475D  39                  	add	hl,sp
     745.  03:475E  35                  	dec	(hl)
     746.  03:475F                      i_37
     747.  03:475F  21 04 00            	ld	hl,4	;const
     748.  03:4762  39                  	add	hl,sp
     749.  03:4763  E5                  	push	hl
     750.  03:4764  CD 1C 44            	call	_sd_read_byte
     751.  03:4767  D1                  	pop	de
     752.  03:4768  EB                  	ex	de,hl	;l_pint
     753.  03:4769  73                  	ld	(hl),e
     754.  03:476A  23                  	inc	hl
     755.  03:476B  72                  	ld	(hl),d
     756.  03:476C  EB                   	ex	de,hl
     757.  03:476D  7D                  	ld	a,l
     758.  03:476E  E6 80               	and	128
     759.  03:4770  CA 7F 47            	jp	z,i_38	;
     760.  03:4773  21 00 00            	ld	hl,0	;const
     761.  03:4776  39                  	add	hl,sp
     762.  03:4777  7E                  	ld	a,(hl)
     763.  03:4778  A7                  	and	a
     764.  03:4779  CA 7F 47            	jp	z,i_38	;
     765.  03:477C  C3 5A 47            	jp	i_35	;EOS
     766.  03:477F                      i_36
     767.  03:477F  33                  	inc	sp
     768.  03:4780  21 03 00            	ld	hl,3	;const
     769.  03:4783  39                  	add	hl,sp
     770.  03:4784  E5                  	push	hl
     771.  03:4785  7E                  	ld	a,(hl)	;l_gint
     772.  03:4786  23                  	inc	hl
     773.  03:4787  66                  	ld	h,(hl)
     774.  03:4788  67                  	ld	h,a
     775.  03:4789  2E 00               	ld	l,0
     776.  03:478B  D1                  	pop	de
     777.  03:478C  EB                  	ex	de,hl	;l_pint
     778.  03:478D  73                  	ld	(hl),e
     779.  03:478E  23                  	inc	hl
     780.  03:478F  72                  	ld	(hl),d
     781.  03:4790  EB                   	ex	de,hl
     782.  03:4791  21 0B 00            	ld	hl,11	;const
     783.  03:4794  39                  	add	hl,sp
     784.  03:4795  7E                  	ld	a,(hl)
     785.  03:4796  FE 0C               	cp	12
     786.  03:4798  CA A0 47            	jp	z,i_41	;
     787.  03:479B  FE 26               	cp	38
     788.  03:479D  C2 A8 47            	jp	nz,i_40	;
     789.  03:47A0                      i_41
     790.  03:47A0  21 01 00            	ld	hl,1	;const
     791.  03:47A3  E5                  	push	hl
     792.  03:47A4  CD B5 44            	call	_wait_ready
     793.  03:47A7  C1                  	pop	bc
     794.  03:47A8                      i_40
     795.  03:47A8  21 0B 00            	ld	hl,11	;const
     796.  03:47AB  39                  	add	hl,sp
     797.  03:47AC  7E                  	ld	a,(hl)
     798.  03:47AD  FE 0D               	cp	13
     799.  03:47AF  CA B7 47            	jp	z,i_44	;
     800.  03:47B2  FE 8D               	cp	141
     801.  03:47B4  C2 CE 47            	jp	nz,i_43	;
     802.  03:47B7                      i_44
     803.  03:47B7  21 03 00            	ld	hl,3	;const
     804.  03:47BA  39                  	add	hl,sp
     805.  03:47BB  E5                  	push	hl
     806.  03:47BC  7E                  	ld	a,(hl)	;l_gint
     807.  03:47BD  23                  	inc	hl
     808.  03:47BE  66                  	ld	h,(hl)
     809.  03:47BF  6F                  	ld	l,a
     810.  03:47C0  E5                  	push	hl
     811.  03:47C1  CD 1C 44            	call	_sd_read_byte
     812.  03:47C4  D1                  	pop	de
     813.  03:47C5  CD 48 54            	call	l_or
     814.  03:47C8  D1                  	pop	de
     815.  03:47C9  EB                  	ex	de,hl	;l_pint
     816.  03:47CA  73                  	ld	(hl),e
     817.  03:47CB  23                  	inc	hl
     818.  03:47CC  72                  	ld	(hl),d
     819.  03:47CD  EB                   	ex	de,hl
     820.  03:47CE                      i_43
     821.  03:47CE  21 03 00            	ld	hl,3	;const
     822.  03:47D1  39                  	add	hl,sp
     823.  03:47D2  7E                  	ld	a,(hl)	;l_gint
     824.  03:47D3  23                  	inc	hl
     825.  03:47D4  66                  	ld	h,(hl)
     826.  03:47D5  6F                  	ld	l,a
     827.  03:47D6  33                  	inc	sp
     828.  03:47D7  C1                  	pop	bc
     829.  03:47D8  C1                  	pop	bc
     830.  03:47D9  C9                  	ret
     831.  03:47DA                      
     832.  03:47DA                      
     833.  03:47DA                      	C_LINE	347,"./diskio_sd.c::send_cmd::0::19"
     834.  03:47DA                      
     835.  03:47DA                      ; Function disk_initialize flags 0x00000288 __smallc __z88dk_fastcall 
     836.  03:47DA                      ; unsigned char DSTATUSdisk_initialize(unsigned char pdrv)
     837.  03:47DA                      ; parameter 'unsigned char pdrv' at sp+2 size(1)
     838.  03:47DA                      	C_LINE	351,"./diskio_sd.c::disk_initialize::0::19"
     839.  03:47DA                      @disk_initialize
     840.  03:47DA                      	GLOBAL	_disk_initialize
     841.  03:47DA                      _disk_initialize
     842.  03:47DA  E5                  	push	hl
     843.  03:47DB  21 F0 FF            	ld	hl,65520	;const
     844.  03:47DE  39                  	add	hl,sp
     845.  03:47DF  F9                  	ld	sp,hl
     846.  03:47E0  AF                  	xor	a
     847.  03:47E1  32 3E 54            	ld	(_CardType),a
     848.  03:47E4  3E 01               	ld	a,1
     849.  03:47E6  32 3D 54            	ld	(_Stat),a
     850.  03:47E9  21 10 00            	ld	hl,16	;const
     851.  03:47EC  39                  	add	hl,sp
     852.  03:47ED  3E 01               	ld	a,1
     853.  03:47EF  96                  	sub	(hl)
     854.  03:47F0  D2 FC 47            	jp	nc,i_46	;
     855.  03:47F3  21 12 00            	ld	hl,18	;const
     856.  03:47F6  39                  	add	hl,sp
     857.  03:47F7  F9                  	ld	sp,hl
     858.  03:47F8  21 01 00            	ld	hl,1	;const
     859.  03:47FB  C9                  	ret
     860.  03:47FC                      
     861.  03:47FC                      
     862.  03:47FC                      i_46
     863.  03:47FC  21 01 00            	ld	hl,1	;const
     864.  03:47FF  E5                  	push	hl
     865.  03:4800  CD 8D 44            	call	_sd_clock
     866.  03:4803  C1                  	pop	bc
     867.  03:4804  3B                  	dec	sp
     868.  03:4805  E1                  	pop	hl
     869.  03:4806  2E 0A               	ld	l,10
     870.  03:4808  E5                  	push	hl
     871.  03:4809  C3 11 48            	jp	i_49	;EOS
     872.  03:480C                      i_47
     873.  03:480C  21 00 00            	ld	hl,0	;const
     874.  03:480F  39                  	add	hl,sp
     875.  03:4810  35                  	dec	(hl)
     876.  03:4811                      i_49
     877.  03:4811  21 00 00            	ld	hl,0	;const
     878.  03:4814  39                  	add	hl,sp
     879.  03:4815  7E                  	ld	a,(hl)
     880.  03:4816  A7                  	and	a
     881.  03:4817  CA 25 48            	jp	z,i_48	;
     882.  03:481A  21 FF 00            	ld	hl,255	;const
     883.  03:481D  E5                  	push	hl
     884.  03:481E  CD 38 44            	call	_sd_write_byte
     885.  03:4821  C1                  	pop	bc
     886.  03:4822  C3 0C 48            	jp	i_47	;EOS
     887.  03:4825                      i_48
     888.  03:4825  33                  	inc	sp
     889.  03:4826  21 10 00            	ld	hl,16	;const
     890.  03:4829  39                  	add	hl,sp
     891.  03:482A  6E                  	ld	l,(hl)
     892.  03:482B  26 00               	ld	h,0
     893.  03:482D  E5                  	push	hl
     894.  03:482E  CD A8 44            	call	_select
     895.  03:4831  C1                  	pop	bc
     896.  03:4832  21 04 00            	ld	hl,4	;const
     897.  03:4835  39                  	add	hl,sp
     898.  03:4836  E5                  	push	hl
     899.  03:4837  21 01 01            	ld	hl,257	;const
     900.  03:483A  E5                  	push	hl
     901.  03:483B  CD 8E 44            	call	_hbios
     902.  03:483E  C1                  	pop	bc
     903.  03:483F  C1                  	pop	bc
     904.  03:4840  CD C3 54            	call	l_plong
     905.  03:4843  21 04 00            	ld	hl,4	;const
     906.  03:4846  39                  	add	hl,sp
     907.  03:4847  E5                  	push	hl
     908.  03:4848  CD DE 54            	call	l_glong
     909.  03:484B  01 C8 00            	ld	bc,200
     910.  03:484E  09                  	add	hl,bc
     911.  03:484F  30 01               	jr	nc,$+3
     912.  03:4851  13                  	inc	de
     913.  03:4852  C1                  	pop	bc
     914.  03:4853  CD C3 54            	call	l_plong
     915.  03:4856                      i_52
     916.  03:4856  21 0A 00            	ld	hl,10	;const
     917.  03:4859  39                  	add	hl,sp
     918.  03:485A  E5                  	push	hl
     919.  03:485B  21 00 00            	ld	hl,0	;const
     920.  03:485E  E5                  	push	hl
     921.  03:485F  54                  	ld	d,h
     922.  03:4860  5D                  	ld	e,l
     923.  03:4861  D5                  	push	de
     924.  03:4862  E5                  	push	hl
     925.  03:4863  CD F2 45            	call	_send_cmd
     926.  03:4866  C1                  	pop	bc
     927.  03:4867  C1                  	pop	bc
     928.  03:4868  C1                  	pop	bc
     929.  03:4869  D1                  	pop	de
     930.  03:486A  EB                  	ex	de,hl	;l_pint
     931.  03:486B  73                  	ld	(hl),e
     932.  03:486C  23                  	inc	hl
     933.  03:486D  72                  	ld	(hl),d
     934.  03:486E  EB                   	ex	de,hl
     935.  03:486F  11 00 01            	ld	de,256
     936.  03:4872  A7                  	and	a
     937.  03:4873  ED 52               	sbc	hl,de
     938.  03:4875  CA C1 48            	jp	z,i_51	;EOS
     939.  03:4878                      i_53
     940.  03:4878  21 FD 00            	ld	hl,253	;const
     941.  03:487B  E5                  	push	hl
     942.  03:487C  CD 38 44            	call	_sd_write_byte
     943.  03:487F  C1                  	pop	bc
     944.  03:4880  21 00 00            	ld	hl,0	;const
     945.  03:4883  E5                  	push	hl
     946.  03:4884  C3 8A 48            	jp	i_56	;EOS
     947.  03:4887                      i_54
     948.  03:4887  E1                  	pop	hl
     949.  03:4888  23                  	inc	hl
     950.  03:4889  E5                  	push	hl
     951.  03:488A                      i_56
     952.  03:488A  E1                  	pop	hl
     953.  03:488B  E5                  	push	hl
     954.  03:488C  11 08 02            	ld	de,520
     955.  03:488F  A7                  	and	a
     956.  03:4890  ED 52               	sbc	hl,de
     957.  03:4892  D2 9B 48            	jp	nc,i_55	;
     958.  03:4895  CD 1C 44            	call	_sd_read_byte
     959.  03:4898  C3 87 48            	jp	i_54	;EOS
     960.  03:489B                      i_55
     961.  03:489B  C1                  	pop	bc
     962.  03:489C  21 00 00            	ld	hl,0	;const
     963.  03:489F  39                  	add	hl,sp
     964.  03:48A0  E5                  	push	hl
     965.  03:48A1  21 01 01            	ld	hl,257	;const
     966.  03:48A4  E5                  	push	hl
     967.  03:48A5  CD 8E 44            	call	_hbios
     968.  03:48A8  C1                  	pop	bc
     969.  03:48A9  C1                  	pop	bc
     970.  03:48AA  CD C3 54            	call	l_plong
     971.  03:48AD                      i_50
     972.  03:48AD  21 04 00            	ld	hl,4	;const
     973.  03:48B0  39                  	add	hl,sp
     974.  03:48B1  CD CF 54            	call	l_glong2sp
     975.  03:48B4  21 04 00            	ld	hl,4	;const
     976.  03:48B7  39                  	add	hl,sp
     977.  03:48B8  CD DE 54            	call	l_glong
     978.  03:48BB  CD E8 54            	call	l_long_ugt
     979.  03:48BE  DA 56 48            	jp	c,i_52	;EOS
     980.  03:48C1                      i_51
     981.  03:48C1  21 0A 00            	ld	hl,10	;const
     982.  03:48C4  39                  	add	hl,sp
     983.  03:48C5  7E                  	ld	a,(hl)	;l_gint
     984.  03:48C6  23                  	inc	hl
     985.  03:48C7  66                  	ld	h,(hl)
     986.  03:48C8  6F                  	ld	l,a
     987.  03:48C9  11 00 01            	ld	de,256
     988.  03:48CC  A7                  	and	a
     989.  03:48CD  ED 52               	sbc	hl,de
     990.  03:48CF  C2 D8 4B            	jp	nz,i_57	;
     991.  03:48D2  21 0A 00            	ld	hl,10	;const
     992.  03:48D5  39                  	add	hl,sp
     993.  03:48D6  E5                  	push	hl
     994.  03:48D7  21 08 00            	ld	hl,8	;const
     995.  03:48DA  E5                  	push	hl
     996.  03:48DB  21 AA 01            	ld	hl,426	;const
     997.  03:48DE  11 00 00            	ld	de,0
     998.  03:48E1  D5                  	push	de
     999.  03:48E2  E5                  	push	hl
    1000.  03:48E3  CD F2 45            	call	_send_cmd	; send_cmd(CMD8, 0x1AA))
    1001.  03:48E6  C1                  	pop	bc
    1002.  03:48E7  C1                  	pop	bc
    1003.  03:48E8  C1                  	pop	bc
    1004.  03:48E9  D1                  	pop	de
    1005.  03:48EA  EB                  	ex	de,hl	;l_pint
    1006.  03:48EB  73                  	ld	(hl),e
    1007.  03:48EC  23                  	inc	hl
    1008.  03:48ED  72                  	ld	(hl),d
    1009.  03:48EE  EB                   	ex	de,hl
    1010.  03:48EF  11 00 01            	ld	de,256
    1011.  03:48F2  A7                  	and	a
    1012.  03:48F3  ED 52               	sbc	hl,de
    1013.  03:48F5  C2 73 4A            	jp	nz,i_58	;
    1014.  03:48F8  21 08 00            	ld	hl,8	;const
    1015.  03:48FB  39                  	add	hl,sp
    1016.  03:48FC  E5                  	push	hl
    1017.  03:48FD  21 0E 00            	ld	hl,14	;const
    1018.  03:4900  39                  	add	hl,sp
    1019.  03:4901  D1                  	pop	de
    1020.  03:4902  EB                  	ex	de,hl	;l_pint
    1021.  03:4903  73                  	ld	(hl),e
    1022.  03:4904  23                  	inc	hl
    1023.  03:4905  72                  	ld	(hl),d
    1024.  03:4906  EB                   	ex	de,hl
    1025.  03:4907  21 08 00            	ld	hl,8	;const
    1026.  03:490A  39                  	add	hl,sp
    1027.  03:490B  34                  	inc	(hl)
    1028.  03:490C  7E                  	ld	a,(hl)
    1029.  03:490D  23                  	inc	hl
    1030.  03:490E  20 01               	jr	nz,$+3
    1031.  03:4910  34                  	inc	(hl)
    1032.  03:4911  66                  	ld	h,(hl)
    1033.  03:4912  6F                  	ld	l,a
    1034.  03:4913  2B                  	dec	hl
    1035.  03:4914  E5                  	push	hl
    1036.  03:4915  CD 1C 44            	call	_sd_read_byte
    1037.  03:4918  D1                  	pop	de
    1038.  03:4919  7D                  	ld	a,l
    1039.  03:491A  12                  	ld	(de),a
    1040.  03:491B  21 08 00            	ld	hl,8	;const
    1041.  03:491E  39                  	add	hl,sp
    1042.  03:491F  34                  	inc	(hl)
    1043.  03:4920  7E                  	ld	a,(hl)
    1044.  03:4921  23                  	inc	hl
    1045.  03:4922  20 01               	jr	nz,$+3
    1046.  03:4924  34                  	inc	(hl)
    1047.  03:4925  66                  	ld	h,(hl)
    1048.  03:4926  6F                  	ld	l,a
    1049.  03:4927  2B                  	dec	hl
    1050.  03:4928  E5                  	push	hl
    1051.  03:4929  CD 1C 44            	call	_sd_read_byte
    1052.  03:492C  D1                  	pop	de
    1053.  03:492D  7D                  	ld	a,l
    1054.  03:492E  12                  	ld	(de),a
    1055.  03:492F  21 08 00            	ld	hl,8	;const
    1056.  03:4932  39                  	add	hl,sp
    1057.  03:4933  34                  	inc	(hl)
    1058.  03:4934  7E                  	ld	a,(hl)
    1059.  03:4935  23                  	inc	hl
    1060.  03:4936  20 01               	jr	nz,$+3
    1061.  03:4938  34                  	inc	(hl)
    1062.  03:4939  66                  	ld	h,(hl)
    1063.  03:493A  6F                  	ld	l,a
    1064.  03:493B  2B                  	dec	hl
    1065.  03:493C  E5                  	push	hl
    1066.  03:493D  CD 1C 44            	call	_sd_read_byte
    1067.  03:4940  D1                  	pop	de
    1068.  03:4941  7D                  	ld	a,l
    1069.  03:4942  12                  	ld	(de),a
    1070.  03:4943  21 08 00            	ld	hl,8	;const
    1071.  03:4946  39                  	add	hl,sp
    1072.  03:4947  7E                  	ld	a,(hl)	;l_gint
    1073.  03:4948  23                  	inc	hl
    1074.  03:4949  66                  	ld	h,(hl)
    1075.  03:494A  6F                  	ld	l,a
    1076.  03:494B  E5                  	push	hl
    1077.  03:494C  CD 1C 44            	call	_sd_read_byte
    1078.  03:494F  D1                  	pop	de
    1079.  03:4950  7D                  	ld	a,l
    1080.  03:4951  12                  	ld	(de),a
    1081.  03:4952  21 0E 00            	ld	hl,14	;const
    1082.  03:4955  39                  	add	hl,sp
    1083.  03:4956  7E                  	ld	a,(hl)
    1084.  03:4957  FE 01               	cp	1
    1085.  03:4959  C2 A4 4B            	jp	nz,i_60	;
    1086.  03:495C  21 0F 00            	ld	hl,15	;const
    1087.  03:495F  39                  	add	hl,sp
    1088.  03:4960  7E                  	ld	a,(hl)
    1089.  03:4961  FE AA               	cp	170
    1090.  03:4963  C2 A4 4B            	jp	nz,i_60	;
    1091.  03:4966                      i_61_i_60
    1092.  03:4966  21 04 00            	ld	hl,4	;const
    1093.  03:4969  39                  	add	hl,sp
    1094.  03:496A  E5                  	push	hl
    1095.  03:496B  21 01 01            	ld	hl,257	;const
    1096.  03:496E  E5                  	push	hl
    1097.  03:496F  CD 8E 44            	call	_hbios
    1098.  03:4972  C1                  	pop	bc
    1099.  03:4973  C1                  	pop	bc
    1100.  03:4974  CD C3 54            	call	l_plong
    1101.  03:4977  21 04 00            	ld	hl,4	;const
    1102.  03:497A  39                  	add	hl,sp
    1103.  03:497B  E5                  	push	hl
    1104.  03:497C  CD DE 54            	call	l_glong
    1105.  03:497F  01 32 00            	ld	bc,50
    1106.  03:4982  09                  	add	hl,bc
    1107.  03:4983  30 01               	jr	nc,$+3
    1108.  03:4985  13                  	inc	de
    1109.  03:4986  C1                  	pop	bc
    1110.  03:4987  CD C3 54            	call	l_plong
    1111.  03:498A                      i_64
    1112.  03:498A  21 0A 00            	ld	hl,10	;const
    1113.  03:498D  39                  	add	hl,sp
    1114.  03:498E  E5                  	push	hl
    1115.  03:498F  21 A9 00            	ld	hl,169	;const
    1116.  03:4992  E5                  	push	hl
    1117.  03:4993  2E 00               	ld	l,0	
    1118.  03:4995  11 00 40            	ld	de,16384
    1119.  03:4998  D5                  	push	de
    1120.  03:4999  E5                  	push	hl
    1121.  03:499A  CD F2 45            	call	_send_cmd	; send_cmd(ACMD41, HIGH_CAPACITY_SUPPORT)
    1122.  03:499D  C1                  	pop	bc
    1123.  03:499E  C1                  	pop	bc
    1124.  03:499F  C1                  	pop	bc
    1125.  03:49A0  D1                  	pop	de
    1126.  03:49A1  EB                  	ex	de,hl	;l_pint
    1127.  03:49A2  73                  	ld	(hl),e
    1128.  03:49A3  23                  	inc	hl
    1129.  03:49A4  72                  	ld	(hl),d
    1130.  03:49A5  EB                   	ex	de,hl
    1131.  03:49A6  7C                  	ld	a,h
    1132.  03:49A7  B5                  	or	l
    1133.  03:49A8  CA D8 49            	jp	z,i_63	;EOS
    1134.  03:49AB                      i_65
    1135.  03:49AB  21 FF 00            	ld	hl,255	;const
    1136.  03:49AE  E5                  	push	hl
    1137.  03:49AF  CD 38 44            	call	_sd_write_byte
    1138.  03:49B2  C1                  	pop	bc
    1139.  03:49B3  21 00 00            	ld	hl,0	;const
    1140.  03:49B6  39                  	add	hl,sp
    1141.  03:49B7  E5                  	push	hl
    1142.  03:49B8  21 01 01            	ld	hl,257	;const
    1143.  03:49BB  E5                  	push	hl
    1144.  03:49BC  CD 8E 44            	call	_hbios
    1145.  03:49BF  C1                  	pop	bc
    1146.  03:49C0  C1                  	pop	bc
    1147.  03:49C1  CD C3 54            	call	l_plong
    1148.  03:49C4                      i_62
    1149.  03:49C4  21 04 00            	ld	hl,4	;const
    1150.  03:49C7  39                  	add	hl,sp
    1151.  03:49C8  CD CF 54            	call	l_glong2sp
    1152.  03:49CB  21 04 00            	ld	hl,4	;const
    1153.  03:49CE  39                  	add	hl,sp
    1154.  03:49CF  CD DE 54            	call	l_glong
    1155.  03:49D2  CD E8 54            	call	l_long_ugt
    1156.  03:49D5  DA 8A 49            	jp	c,i_64	;EOS
    1157.  03:49D8                      i_63
    1158.  03:49D8  21 0A 00            	ld	hl,10	;const
    1159.  03:49DB  39                  	add	hl,sp
    1160.  03:49DC  7E                  	ld	a,(hl)	;l_gint
    1161.  03:49DD  23                  	inc	hl
    1162.  03:49DE  66                  	ld	h,(hl)
    1163.  03:49DF  6F                  	ld	l,a
    1164.  03:49E0                      	
    1165.  03:49E0  B4                  	or	h
    1166.  03:49E1  20 01               	jr	nz,$+3
    1167.  03:49E3  37                  	scf
    1168.  03:49E4  D2 A4 4B            	jp	nc,i_66	;
    1169.  03:49E7  21 3A 00            	ld	hl,58	;const
    1170.  03:49EA  E5                  	push	hl
    1171.  03:49EB  2E 00               	ld	l,0	
    1172.  03:49ED  54                  	ld	d,h
    1173.  03:49EE  5D                  	ld	e,l
    1174.  03:49EF  D5                  	push	de
    1175.  03:49F0  E5                  	push	hl
    1176.  03:49F1  CD F2 45            	call	_send_cmd	; send_cmd(CMD58, 0)
    1177.  03:49F4  C1                  	pop	bc
    1178.  03:49F5  C1                  	pop	bc
    1179.  03:49F6  C1                  	pop	bc
    1180.  03:49F7  7C                  	ld	a,h
    1181.  03:49F8  B5                  	or	l
    1182.  03:49F9  20 01               	jr	nz,$+3
    1183.  03:49FB  37                  	scf
    1184.  03:49FC  D2 A4 4B            	jp	nc,i_67	;
    1185.  03:49FF  21 08 00            	ld	hl,8	;const
    1186.  03:4A02  39                  	add	hl,sp
    1187.  03:4A03  E5                  	push	hl
    1188.  03:4A04  21 0E 00            	ld	hl,14	;const
    1189.  03:4A07  39                  	add	hl,sp
    1190.  03:4A08  D1                  	pop	de
    1191.  03:4A09  EB                  	ex	de,hl	;l_pint
    1192.  03:4A0A  73                  	ld	(hl),e
    1193.  03:4A0B  23                  	inc	hl
    1194.  03:4A0C  72                  	ld	(hl),d
    1195.  03:4A0D  EB                   	ex	de,hl
    1196.  03:4A0E  21 08 00            	ld	hl,8	;const
    1197.  03:4A11  39                  	add	hl,sp
    1198.  03:4A12  34                  	inc	(hl)
    1199.  03:4A13  7E                  	ld	a,(hl)
    1200.  03:4A14  23                  	inc	hl
    1201.  03:4A15  20 01               	jr	nz,$+3
    1202.  03:4A17  34                  	inc	(hl)
    1203.  03:4A18  66                  	ld	h,(hl)
    1204.  03:4A19  6F                  	ld	l,a
    1205.  03:4A1A  2B                  	dec	hl
    1206.  03:4A1B  E5                  	push	hl
    1207.  03:4A1C  CD 1C 44            	call	_sd_read_byte
    1208.  03:4A1F  D1                  	pop	de
    1209.  03:4A20  7D                  	ld	a,l
    1210.  03:4A21  12                  	ld	(de),a
    1211.  03:4A22  21 08 00            	ld	hl,8	;const
    1212.  03:4A25  39                  	add	hl,sp
    1213.  03:4A26  34                  	inc	(hl)
    1214.  03:4A27  7E                  	ld	a,(hl)
    1215.  03:4A28  23                  	inc	hl
    1216.  03:4A29  20 01               	jr	nz,$+3
    1217.  03:4A2B  34                  	inc	(hl)
    1218.  03:4A2C  66                  	ld	h,(hl)
    1219.  03:4A2D  6F                  	ld	l,a
    1220.  03:4A2E  2B                  	dec	hl
    1221.  03:4A2F  E5                  	push	hl
    1222.  03:4A30  CD 1C 44            	call	_sd_read_byte
    1223.  03:4A33  D1                  	pop	de
    1224.  03:4A34  7D                  	ld	a,l
    1225.  03:4A35  12                  	ld	(de),a
    1226.  03:4A36  21 08 00            	ld	hl,8	;const
    1227.  03:4A39  39                  	add	hl,sp
    1228.  03:4A3A  34                  	inc	(hl)
    1229.  03:4A3B  7E                  	ld	a,(hl)
    1230.  03:4A3C  23                  	inc	hl
    1231.  03:4A3D  20 01               	jr	nz,$+3
    1232.  03:4A3F  34                  	inc	(hl)
    1233.  03:4A40  66                  	ld	h,(hl)
    1234.  03:4A41  6F                  	ld	l,a
    1235.  03:4A42  2B                  	dec	hl
    1236.  03:4A43  E5                  	push	hl
    1237.  03:4A44  CD 1C 44            	call	_sd_read_byte
    1238.  03:4A47  D1                  	pop	de
    1239.  03:4A48  7D                  	ld	a,l
    1240.  03:4A49  12                  	ld	(de),a
    1241.  03:4A4A  21 08 00            	ld	hl,8	;const
    1242.  03:4A4D  39                  	add	hl,sp
    1243.  03:4A4E  7E                  	ld	a,(hl)	;l_gint
    1244.  03:4A4F  23                  	inc	hl
    1245.  03:4A50  66                  	ld	h,(hl)
    1246.  03:4A51  6F                  	ld	l,a
    1247.  03:4A52  E5                  	push	hl
    1248.  03:4A53  CD 1C 44            	call	_sd_read_byte
    1249.  03:4A56  D1                  	pop	de
    1250.  03:4A57  7D                  	ld	a,l
    1251.  03:4A58  12                  	ld	(de),a
    1252.  03:4A59  21 0C 00            	ld	hl,12	;const
    1253.  03:4A5C  39                  	add	hl,sp
    1254.  03:4A5D  3E 40               	ld	a,64
    1255.  03:4A5F  A6                  	and	(hl)
    1256.  03:4A60  CA 69 4A            	jp	z,i_68	;
    1257.  03:4A63  21 0C 00            	ld	hl,12	;const
    1258.  03:4A66  C3 6C 4A            	jp	i_69	;
    1259.  03:4A69                      i_68
    1260.  03:4A69  21 04 00            	ld	hl,4	;const
    1261.  03:4A6C                      i_69
    1262.  03:4A6C  7D                  	ld	a,l
    1263.  03:4A6D  32 3E 54            	ld	(_CardType),a
    1264.  03:4A70  C3 A4 4B            	jp	i_70	;EOS
    1265.  03:4A73                      i_58
    1266.  03:4A73  21 0A 00            	ld	hl,10	;const
    1267.  03:4A76  39                  	add	hl,sp
    1268.  03:4A77  7E                  	ld	a,(hl)	;l_gint
    1269.  03:4A78  23                  	inc	hl
    1270.  03:4A79  66                  	ld	h,(hl)
    1271.  03:4A7A  6F                  	ld	l,a
    1272.  03:4A7B  11 00 05            	ld	de,1280
    1273.  03:4A7E  A7                  	and	a
    1274.  03:4A7F  ED 52               	sbc	hl,de
    1275.  03:4A81  C2 A0 4B            	jp	nz,i_71	;
    1276.  03:4A84  21 04 00            	ld	hl,4	;const
    1277.  03:4A87  39                  	add	hl,sp
    1278.  03:4A88  E5                  	push	hl
    1279.  03:4A89  21 01 01            	ld	hl,257	;const
    1280.  03:4A8C  E5                  	push	hl
    1281.  03:4A8D  CD 8E 44            	call	_hbios
    1282.  03:4A90  C1                  	pop	bc
    1283.  03:4A91  C1                  	pop	bc
    1284.  03:4A92  CD C3 54            	call	l_plong
    1285.  03:4A95  21 04 00            	ld	hl,4	;const
    1286.  03:4A98  39                  	add	hl,sp
    1287.  03:4A99  E5                  	push	hl
    1288.  03:4A9A  CD DE 54            	call	l_glong
    1289.  03:4A9D  01 32 00            	ld	bc,50
    1290.  03:4AA0  09                  	add	hl,bc
    1291.  03:4AA1  30 01               	jr	nc,$+3
    1292.  03:4AA3  13                  	inc	de
    1293.  03:4AA4  C1                  	pop	bc
    1294.  03:4AA5  CD C3 54            	call	l_plong
    1295.  03:4AA8                      i_74
    1296.  03:4AA8  21 0A 00            	ld	hl,10	;const
    1297.  03:4AAB  39                  	add	hl,sp
    1298.  03:4AAC  E5                  	push	hl
    1299.  03:4AAD  21 A9 00            	ld	hl,169	;const
    1300.  03:4AB0  E5                  	push	hl
    1301.  03:4AB1  2E 00               	ld	l,0	
    1302.  03:4AB3  54                  	ld	d,h
    1303.  03:4AB4  5D                  	ld	e,l
    1304.  03:4AB5  D5                  	push	de
    1305.  03:4AB6  E5                  	push	hl
    1306.  03:4AB7  CD F2 45            	call	_send_cmd
    1307.  03:4ABA  C1                  	pop	bc
    1308.  03:4ABB  C1                  	pop	bc
    1309.  03:4ABC  C1                  	pop	bc
    1310.  03:4ABD  D1                  	pop	de
    1311.  03:4ABE  EB                  	ex	de,hl	;l_pint
    1312.  03:4ABF  73                  	ld	(hl),e
    1313.  03:4AC0  23                  	inc	hl
    1314.  03:4AC1  72                  	ld	(hl),d
    1315.  03:4AC2  EB                   	ex	de,hl
    1316.  03:4AC3  7C                  	ld	a,h
    1317.  03:4AC4  B5                  	or	l
    1318.  03:4AC5  CA F5 4A            	jp	z,i_73	;EOS
    1319.  03:4AC8                      i_75
    1320.  03:4AC8  21 FF 00            	ld	hl,255	;const
    1321.  03:4ACB  E5                  	push	hl
    1322.  03:4ACC  CD 38 44            	call	_sd_write_byte
    1323.  03:4ACF  C1                  	pop	bc
    1324.  03:4AD0  21 00 00            	ld	hl,0	;const
    1325.  03:4AD3  39                  	add	hl,sp
    1326.  03:4AD4  E5                  	push	hl
    1327.  03:4AD5  21 01 01            	ld	hl,257	;const
    1328.  03:4AD8  E5                  	push	hl
    1329.  03:4AD9  CD 8E 44            	call	_hbios
    1330.  03:4ADC  C1                  	pop	bc
    1331.  03:4ADD  C1                  	pop	bc
    1332.  03:4ADE  CD C3 54            	call	l_plong
    1333.  03:4AE1                      i_72
    1334.  03:4AE1  21 04 00            	ld	hl,4	;const
    1335.  03:4AE4  39                  	add	hl,sp
    1336.  03:4AE5  CD CF 54            	call	l_glong2sp
    1337.  03:4AE8  21 04 00            	ld	hl,4	;const
    1338.  03:4AEB  39                  	add	hl,sp
    1339.  03:4AEC  CD DE 54            	call	l_glong
    1340.  03:4AEF  CD E8 54            	call	l_long_ugt
    1341.  03:4AF2  DA A8 4A            	jp	c,i_74	;EOS
    1342.  03:4AF5                      i_73
    1343.  03:4AF5  21 0A 00            	ld	hl,10	;const
    1344.  03:4AF8  39                  	add	hl,sp
    1345.  03:4AF9  11 00 00            	ld	de,0	;const
    1346.  03:4AFC  73                  	ld	(hl),e
    1347.  03:4AFD  23                  	inc	hl
    1348.  03:4AFE  72                  	ld	(hl),d
    1349.  03:4AFF  7A                  	ld	a,d
    1350.  03:4B00  B3                  	or	e
    1351.  03:4B01  CA 0C 4B            	jp	z,i_76	;
    1352.  03:4B04  3E 02               	ld	a,2
    1353.  03:4B06  32 3E 54            	ld	(_CardType),a
    1354.  03:4B09  C3 A4 4B            	jp	i_77	;EOS
    1355.  03:4B0C                      i_76
    1356.  03:4B0C  21 04 00            	ld	hl,4	;const
    1357.  03:4B0F  39                  	add	hl,sp
    1358.  03:4B10  E5                  	push	hl
    1359.  03:4B11  21 01 01            	ld	hl,257	;const
    1360.  03:4B14  E5                  	push	hl
    1361.  03:4B15  CD 8E 44            	call	_hbios
    1362.  03:4B18  C1                  	pop	bc
    1363.  03:4B19  C1                  	pop	bc
    1364.  03:4B1A  CD C3 54            	call	l_plong
    1365.  03:4B1D  21 04 00            	ld	hl,4	;const
    1366.  03:4B20  39                  	add	hl,sp
    1367.  03:4B21  E5                  	push	hl
    1368.  03:4B22  CD DE 54            	call	l_glong
    1369.  03:4B25  01 32 00            	ld	bc,50
    1370.  03:4B28  09                  	add	hl,bc
    1371.  03:4B29  30 01               	jr	nc,$+3
    1372.  03:4B2B  13                  	inc	de
    1373.  03:4B2C  C1                  	pop	bc
    1374.  03:4B2D  CD C3 54            	call	l_plong
    1375.  03:4B30                      i_80
    1376.  03:4B30  21 0A 00            	ld	hl,10	;const
    1377.  03:4B33  39                  	add	hl,sp
    1378.  03:4B34  E5                  	push	hl
    1379.  03:4B35  21 01 00            	ld	hl,1	;const
    1380.  03:4B38  E5                  	push	hl
    1381.  03:4B39  2B                  	dec	hl
    1382.  03:4B3A  54                  	ld	d,h
    1383.  03:4B3B  5D                  	ld	e,l
    1384.  03:4B3C  D5                  	push	de
    1385.  03:4B3D  E5                  	push	hl
    1386.  03:4B3E  CD F2 45            	call	_send_cmd
    1387.  03:4B41  C1                  	pop	bc
    1388.  03:4B42  C1                  	pop	bc
    1389.  03:4B43  C1                  	pop	bc
    1390.  03:4B44  D1                  	pop	de
    1391.  03:4B45  EB                  	ex	de,hl	;l_pint
    1392.  03:4B46  73                  	ld	(hl),e
    1393.  03:4B47  23                  	inc	hl
    1394.  03:4B48  72                  	ld	(hl),d
    1395.  03:4B49  EB                   	ex	de,hl
    1396.  03:4B4A  11 00 01            	ld	de,256
    1397.  03:4B4D  A7                  	and	a
    1398.  03:4B4E  ED 52               	sbc	hl,de
    1399.  03:4B50  CA 80 4B            	jp	z,i_79	;EOS
    1400.  03:4B53                      i_81
    1401.  03:4B53  21 FF 00            	ld	hl,255	;const
    1402.  03:4B56  E5                  	push	hl
    1403.  03:4B57  CD 38 44            	call	_sd_write_byte
    1404.  03:4B5A  C1                  	pop	bc
    1405.  03:4B5B  21 00 00            	ld	hl,0	;const
    1406.  03:4B5E  39                  	add	hl,sp
    1407.  03:4B5F  E5                  	push	hl
    1408.  03:4B60  21 01 01            	ld	hl,257	;const
    1409.  03:4B63  E5                  	push	hl
    1410.  03:4B64  CD 8E 44            	call	_hbios
    1411.  03:4B67  C1                  	pop	bc
    1412.  03:4B68  C1                  	pop	bc
    1413.  03:4B69  CD C3 54            	call	l_plong
    1414.  03:4B6C                      i_78
    1415.  03:4B6C  21 04 00            	ld	hl,4	;const
    1416.  03:4B6F  39                  	add	hl,sp
    1417.  03:4B70  CD CF 54            	call	l_glong2sp
    1418.  03:4B73  21 04 00            	ld	hl,4	;const
    1419.  03:4B76  39                  	add	hl,sp
    1420.  03:4B77  CD DE 54            	call	l_glong
    1421.  03:4B7A  CD E8 54            	call	l_long_ugt
    1422.  03:4B7D  DA 30 4B            	jp	c,i_80	;EOS
    1423.  03:4B80                      i_79
    1424.  03:4B80  21 0A 00            	ld	hl,10	;const
    1425.  03:4B83  39                  	add	hl,sp
    1426.  03:4B84  7E                  	ld	a,(hl)	;l_gint
    1427.  03:4B85  23                  	inc	hl
    1428.  03:4B86  66                  	ld	h,(hl)
    1429.  03:4B87  6F                  	ld	l,a
    1430.  03:4B88  11 00 01            	ld	de,256
    1431.  03:4B8B  A7                  	and	a
    1432.  03:4B8C  ED 52               	sbc	hl,de
    1433.  03:4B8E  C2 99 4B            	jp	nz,i_82	;
    1434.  03:4B91  3E 01               	ld	a,1
    1435.  03:4B93  32 3E 54            	ld	(_CardType),a
    1436.  03:4B96  C3 A4 4B            	jp	i_83	;EOS
    1437.  03:4B99                      i_82
    1438.  03:4B99  AF                  	xor	a
    1439.  03:4B9A  32 3E 54            	ld	(_CardType),a
    1440.  03:4B9D  C3 A4 4B            	jp	i_84	;EOS
    1441.  03:4BA0                      i_71
    1442.  03:4BA0  AF                  	xor	a
    1443.  03:4BA1  32 3E 54            	ld	(_CardType),a
    1444.  03:4BA4                      i_70
    1445.  03:4BA4  3A 3E 54            	ld	a,(_CardType)
    1446.  03:4BA7  A7                  	and	a
    1447.  03:4BA8  CA D8 4B            	jp	z,i_86	;
    1448.  03:4BAB  3A 3E 54            	ld	a,(_CardType)
    1449.  03:4BAE  FE 04               	cp	4
    1450.  03:4BB0  21 00 00            	ld	hl,0	;const
    1451.  03:4BB3  28 01               	jr	z,$+3
    1452.  03:4BB5  23                  	inc	hl
    1453.  03:4BB6  CB DD               	set	3,l
    1454.  03:4BB8  7C                  	ld	a,h
    1455.  03:4BB9  B5                  	or	l
    1456.  03:4BBA  CA D8 4B            	jp	z,i_86	;
    1457.  03:4BBD                      i_87_i_86
    1458.  03:4BBD  21 10 00            	ld	hl,16	;const
    1459.  03:4BC0  E5                  	push	hl
    1460.  03:4BC1  21 00 02            	ld	hl,512	;const
    1461.  03:4BC4  11 00 00            	ld	de,0
    1462.  03:4BC7  D5                  	push	de
    1463.  03:4BC8  E5                  	push	hl
    1464.  03:4BC9  CD F2 45            	call	_send_cmd
    1465.  03:4BCC  C1                  	pop	bc
    1466.  03:4BCD  C1                  	pop	bc
    1467.  03:4BCE  C1                  	pop	bc
    1468.  03:4BCF  7C                  	ld	a,h
    1469.  03:4BD0  B5                  	or	l
    1470.  03:4BD1  CA D8 4B            	jp	z,i_88	;
    1471.  03:4BD4  AF                  	xor	a
    1472.  03:4BD5  32 3E 54            	ld	(_CardType),a
    1473.  03:4BD8                      i_57
    1474.  03:4BD8  21 02 00            	ld	hl,2	;const
    1475.  03:4BDB  E5                  	push	hl
    1476.  03:4BDC  CD 8D 44            	call	_sd_clock
    1477.  03:4BDF  C1                  	pop	bc
    1478.  03:4BE0  CD 9C 44            	call	_deselect
    1479.  03:4BE3  3A 3E 54            	ld	a,(_CardType)
    1480.  03:4BE6  A7                  	and	a
    1481.  03:4BE7  CA F7 4B            	jp	z,i_89	;
    1482.  03:4BEA  2A 3D 54            	ld	hl,(_Stat)
    1483.  03:4BED  26 00               	ld	h,0
    1484.  03:4BEF  CB 85               	res	0,l
    1485.  03:4BF1  26 00               	ld	h,0
    1486.  03:4BF3  7D                  	ld	a,l
    1487.  03:4BF4  32 3D 54            	ld	(_Stat),a
    1488.  03:4BF7                      i_89
    1489.  03:4BF7  2A 3D 54            	ld	hl,(_Stat)
    1490.  03:4BFA  26 00               	ld	h,0
    1491.  03:4BFC  D9                  	exx
    1492.  03:4BFD  21 12 00            	ld	hl,18	;const
    1493.  03:4C00  39                  	add	hl,sp
    1494.  03:4C01  F9                  	ld	sp,hl
    1495.  03:4C02  D9                  	exx
    1496.  03:4C03  C9                  	ret
    1497.  03:4C04                      
    1498.  03:4C04                      
    1499.  03:4C04                      	C_LINE	470,"./diskio_sd.c::disk_initialize::0::35"
    1500.  03:4C04                      
    1501.  03:4C04                      ; Function disk_status flags 0x00000288 __smallc __z88dk_fastcall 
    1502.  03:4C04                      ; unsigned char DSTATUSdisk_status(unsigned char pdrv)
    1503.  03:4C04                      ; parameter 'unsigned char pdrv' at sp+2 size(1)
    1504.  03:4C04                      	C_LINE	474,"./diskio_sd.c::disk_status::0::35"
    1505.  03:4C04                      @disk_status
    1506.  03:4C04                      	GLOBAL	_disk_status
    1507.  03:4C04                      ._disk_status
    1508.  03:4C04  E5                  	push	hl
    1509.  03:4C05  7D                  	ld	a,l
    1510.  03:4C06  A7                  	and	a
    1511.  03:4C07  CA 14 4C            	jp	z,i_91	;
    1512.  03:4C0A  21 00 00            	ld	hl,0	;const
    1513.  03:4C0D  39                  	add	hl,sp
    1514.  03:4C0E  7E                  	ld	a,(hl)
    1515.  03:4C0F  FE 01               	cp	1
    1516.  03:4C11  C2 1B 4C            	jp	nz,i_90	;
    1517.  03:4C14                      i_91
    1518.  03:4C14  2A 3D 54            	ld	hl,(_Stat)
    1519.  03:4C17  26 00               	ld	h,0
    1520.  03:4C19  C1                  	pop	bc
    1521.  03:4C1A  C9                  	ret
    1522.  03:4C1B                      
    1523.  03:4C1B                      
    1524.  03:4C1B                      i_90
    1525.  03:4C1B  21 01 00            	ld	hl,1	;const
    1526.  03:4C1E  C1                  	pop	bc
    1527.  03:4C1F  C9                  	ret
    1528.  03:4C20                      
    1529.  03:4C20                      
    1530.  03:4C20                      i_93
    1531.  03:4C20  C1                  	pop	bc
    1532.  03:4C21  C9                  	ret
    1533.  03:4C22                      
    1534.  03:4C22                      
    1535.  03:4C22                      	C_LINE	493,"./diskio_sd.c::disk_status::0::36"
    1536.  03:4C22                      
    1537.  03:4C22                      ; Function disk_read flags 0x00000280 __smallc 
    1538.  03:4C22                      ; const int DRESULTdisk_read(unsigned char pdrv, unsigned char BYTE* buff, unsigned long sector, unsigned int count)
    1539.  03:4C22                      ; parameter 'unsigned int count' at sp+2 size(2)
    1540.  03:4C22                      ; parameter 'unsigned long sector' at sp+4 size(4)
    1541.  03:4C22                      ; parameter 'unsigned char BYTE* buff' at sp+8 size(2)
    1542.  03:4C22                      ; parameter 'unsigned char pdrv' at sp+10 size(1)
    1543.  03:4C22                      	C_LINE	500,"./diskio_sd.c::disk_read::0::36"
    1544.  03:4C22                      @disk_read
    1545.  03:4C22                      	GLOBAL	_disk_read
    1546.  03:4C22                      _disk_read
    1547.  03:4C22  21 00 0A            	ld	hl,2560
    1548.  03:4C25  E5                  	push	hl
    1549.  03:4C26  3B                  	dec	sp
    1550.  03:4C27  21 0D 00            	ld	hl,13	;const
    1551.  03:4C2A  39                  	add	hl,sp
    1552.  03:4C2B  3E 01               	ld	a,1
    1553.  03:4C2D  96                  	sub	(hl)
    1554.  03:4C2E  DA 3F 4C            	jp	c,i_95	;
    1555.  03:4C31  21 05 00            	ld	hl,5	;const
    1556.  03:4C34  39                  	add	hl,sp
    1557.  03:4C35  7E                  	ld	a,(hl)	;l_gint
    1558.  03:4C36  23                  	inc	hl
    1559.  03:4C37  66                  	ld	h,(hl)
    1560.  03:4C38  6F                  	ld	l,a
    1561.  03:4C39  CD 3F 54            	call	l_lneg
    1562.  03:4C3C  D2 45 4C            	jp	nc,i_94	;
    1563.  03:4C3F                      i_95
    1564.  03:4C3F  21 04 00            	ld	hl,4	;const
    1565.  03:4C42  33                  	inc	sp
    1566.  03:4C43  C1                  	pop	bc
    1567.  03:4C44  C9                  	ret
    1568.  03:4C45                      
    1569.  03:4C45                      
    1570.  03:4C45                      i_94
    1571.  03:4C45  3A 3D 54            	ld	a,(_Stat)
    1572.  03:4C48  E6 01               	and	1
    1573.  03:4C4A  CA 53 4C            	jp	z,i_97	;
    1574.  03:4C4D  21 03 00            	ld	hl,3	;const
    1575.  03:4C50  33                  	inc	sp
    1576.  03:4C51  C1                  	pop	bc
    1577.  03:4C52  C9                  	ret
    1578.  03:4C53                      
    1579.  03:4C53                      
    1580.  03:4C53                      i_100
    1581.  03:4C53  21 0D 00            	ld	hl,13	;const
    1582.  03:4C56  39                  	add	hl,sp
    1583.  03:4C57  6E                  	ld	l,(hl)
    1584.  03:4C58  26 00               	ld	h,0
    1585.  03:4C5A  E5                  	push	hl
    1586.  03:4C5B  CD A8 44            	call	_select
    1587.  03:4C5E  C1                  	pop	bc
    1588.  03:4C5F  2A 3E 54            	ld	hl,(_CardType)
    1589.  03:4C62  26 00               	ld	h,0
    1590.  03:4C64  3E 08               	ld	a,8
    1591.  03:4C66  A5                  	and	l
    1592.  03:4C67  6F                  	ld	l,a
    1593.  03:4C68  CD 3F 54            	call	l_lneg
    1594.  03:4C6B  D2 83 4C            	jp	nc,i_101	;
    1595.  03:4C6E  21 07 00            	ld	hl,7	;const
    1596.  03:4C71  39                  	add	hl,sp
    1597.  03:4C72  E5                  	push	hl
    1598.  03:4C73  CD CF 54            	call	l_glong2sp
    1599.  03:4C76  21 00 02            	ld	hl,512	;const
    1600.  03:4C79  11 00 00            	ld	de,0
    1601.  03:4C7C  CD 38 55            	call	l_long_mult
    1602.  03:4C7F  C1                  	pop	bc
    1603.  03:4C80  CD C3 54            	call	l_plong
    1604.  03:4C83                      i_101
    1605.  03:4C83  21 00 00            	ld	hl,0	;const
    1606.  03:4C86  39                  	add	hl,sp
    1607.  03:4C87  E5                  	push	hl
    1608.  03:4C88  21 07 00            	ld	hl,7	;const
    1609.  03:4C8B  39                  	add	hl,sp
    1610.  03:4C8C  5E                  	ld	e,(hl)
    1611.  03:4C8D  23                  	inc	hl
    1612.  03:4C8E  56                  	ld	d,(hl)
    1613.  03:4C8F  21 01 00            	ld	hl,1
    1614.  03:4C92  A7                  	and	a
    1615.  03:4C93  ED 52               	sbc	hl,de
    1616.  03:4C95  D2 9E 4C            	jp	nc,i_102	;
    1617.  03:4C98  21 12 00            	ld	hl,18	;const
    1618.  03:4C9B  C3 A1 4C            	jp	i_103	;
    1619.  03:4C9E                      i_102
    1620.  03:4C9E  21 11 00            	ld	hl,17	;const
    1621.  03:4CA1                      i_103
    1622.  03:4CA1  D1                  	pop	de
    1623.  03:4CA2  7D                  	ld	a,l
    1624.  03:4CA3  12                  	ld	(de),a
    1625.  03:4CA4  E1                  	pop	hl
    1626.  03:4CA5  E5                  	push	hl
    1627.  03:4CA6  26 00               	ld	h,0
    1628.  03:4CA8  E5                  	push	hl
    1629.  03:4CA9  21 09 00            	ld	hl,9	;const
    1630.  03:4CAC  39                  	add	hl,sp
    1631.  03:4CAD  CD DE 54            	call	l_glong
    1632.  03:4CB0  D5                  	push	de
    1633.  03:4CB1  E5                  	push	hl
    1634.  03:4CB2  CD F2 45            	call	_send_cmd
    1635.  03:4CB5  C1                  	pop	bc
    1636.  03:4CB6  C1                  	pop	bc
    1637.  03:4CB7  C1                  	pop	bc
    1638.  03:4CB8  7C                  	ld	a,h
    1639.  03:4CB9  B5                  	or	l
    1640.  03:4CBA  20 01               	jr	nz,$+3
    1641.  03:4CBC  37                  	scf
    1642.  03:4CBD  D2 17 4D            	jp	nc,i_104	;
    1643.  03:4CC0                      i_107
    1644.  03:4CC0  21 01 00            	ld	hl,1	;const
    1645.  03:4CC3  39                  	add	hl,sp
    1646.  03:4CC4  E5                  	push	hl
    1647.  03:4CC5  21 0D 00            	ld	hl,13	;const
    1648.  03:4CC8  39                  	add	hl,sp
    1649.  03:4CC9  7E                  	ld	a,(hl)	;l_gint
    1650.  03:4CCA  23                  	inc	hl
    1651.  03:4CCB  66                  	ld	h,(hl)
    1652.  03:4CCC  6F                  	ld	l,a
    1653.  03:4CCD  E5                  	push	hl
    1654.  03:4CCE  CD 4E 45            	call	_read_sector
    1655.  03:4CD1  C1                  	pop	bc
    1656.  03:4CD2  D1                  	pop	de
    1657.  03:4CD3  7D                  	ld	a,l
    1658.  03:4CD4  12                  	ld	(de),a
    1659.  03:4CD5  FE 05               	cp	5
    1660.  03:4CD7  C2 FD 4C            	jp	nz,i_106	;EOS
    1661.  03:4CDA                      i_108
    1662.  03:4CDA  21 0B 00            	ld	hl,11	;const
    1663.  03:4CDD  39                  	add	hl,sp
    1664.  03:4CDE  E5                  	push	hl
    1665.  03:4CDF  7E                  	ld	a,(hl)	;l_gint
    1666.  03:4CE0  23                  	inc	hl
    1667.  03:4CE1  66                  	ld	h,(hl)
    1668.  03:4CE2  6F                  	ld	l,a
    1669.  03:4CE3  24                  	inc	h
    1670.  03:4CE4  24                  	inc	h
    1671.  03:4CE5  D1                  	pop	de
    1672.  03:4CE6  EB                  	ex	de,hl	;l_pint
    1673.  03:4CE7  73                  	ld	(hl),e
    1674.  03:4CE8  23                  	inc	hl
    1675.  03:4CE9  72                  	ld	(hl),d
    1676.  03:4CEA  EB                   	ex	de,hl
    1677.  03:4CEB                      i_105
    1678.  03:4CEB  21 05 00            	ld	hl,5	;const
    1679.  03:4CEE  39                  	add	hl,sp
    1680.  03:4CEF  35                  	dec	(hl)
    1681.  03:4CF0  7E                  	ld	a,(hl)
    1682.  03:4CF1  23                  	inc	hl
    1683.  03:4CF2  FE FF               	cp	255
    1684.  03:4CF4  20 01               	jr	nz,$+3
    1685.  03:4CF6  35                  	dec	(hl)
    1686.  03:4CF7  66                  	ld	h,(hl)
    1687.  03:4CF8  6F                  	ld	l,a
    1688.  03:4CF9  B4                  	or	h
    1689.  03:4CFA  C2 C0 4C            	jp	nz,i_107	;EOS
    1690.  03:4CFD                      i_106
    1691.  03:4CFD  21 00 00            	ld	hl,0	;const
    1692.  03:4D00  39                  	add	hl,sp
    1693.  03:4D01  7E                  	ld	a,(hl)
    1694.  03:4D02  FE 12               	cp	18
    1695.  03:4D04  C2 17 4D            	jp	nz,i_109	;
    1696.  03:4D07  21 0C 00            	ld	hl,12	;const
    1697.  03:4D0A  E5                  	push	hl
    1698.  03:4D0B  2E 00               	ld	l,0	
    1699.  03:4D0D  54                  	ld	d,h
    1700.  03:4D0E  5D                  	ld	e,l
    1701.  03:4D0F  D5                  	push	de
    1702.  03:4D10  E5                  	push	hl
    1703.  03:4D11  CD F2 45            	call	_send_cmd
    1704.  03:4D14  C1                  	pop	bc
    1705.  03:4D15  C1                  	pop	bc
    1706.  03:4D16  C1                  	pop	bc
    1707.  03:4D17                      i_104
    1708.  03:4D17  CD 9C 44            	call	_deselect
    1709.  03:4D1A                      i_98
    1710.  03:4D1A  21 02 00            	ld	hl,2	;const
    1711.  03:4D1D  39                  	add	hl,sp
    1712.  03:4D1E  35                  	dec	(hl)
    1713.  03:4D1F  7E                  	ld	a,(hl)
    1714.  03:4D20  A7                  	and	a
    1715.  03:4D21  CA 31 4D            	jp	z,i_110	;
    1716.  03:4D24  21 01 00            	ld	hl,1	;const
    1717.  03:4D27  39                  	add	hl,sp
    1718.  03:4D28  7E                  	ld	a,(hl)
    1719.  03:4D29  FE 05               	cp	5
    1720.  03:4D2B  CA 31 4D            	jp	z,i_110	;
    1721.  03:4D2E  C3 53 4C            	jp	i_100	;EOS
    1722.  03:4D31                      i_99
    1723.  03:4D31  21 01 00            	ld	hl,1	;const
    1724.  03:4D34  39                  	add	hl,sp
    1725.  03:4D35  7E                  	ld	a,(hl)
    1726.  03:4D36  FE 05               	cp	5
    1727.  03:4D38  C2 41 4D            	jp	nz,i_112	;
    1728.  03:4D3B  21 00 00            	ld	hl,0	;const
    1729.  03:4D3E  C3 44 4D            	jp	i_113	;
    1730.  03:4D41                      i_112
    1731.  03:4D41  21 01 00            	ld	hl,1	;const
    1732.  03:4D44                      i_113
    1733.  03:4D44  33                  	inc	sp
    1734.  03:4D45  C1                  	pop	bc
    1735.  03:4D46  C9                  	ret
    1736.  03:4D47                      
    1737.  03:4D47                      
    1738.  03:4D47                      	C_LINE	543,"./diskio_sd.c::disk_read::0::40"
    1739.  03:4D47                      
    1740.  03:4D47                      ; Function disk_write flags 0x00000280 __smallc 
    1741.  03:4D47                      ; const int DRESULTdisk_write(unsigned char pdrv, const unsigned char BYTE* buff, unsigned long sector, unsigned int count)
    1742.  03:4D47                      ; parameter 'unsigned int count' at sp+2 size(2)
    1743.  03:4D47                      ; parameter 'unsigned long sector' at sp+4 size(4)
    1744.  03:4D47                      ; parameter 'const unsigned char BYTE* buff' at sp+8 size(2)
    1745.  03:4D47                      ; parameter 'unsigned char pdrv' at sp+10 size(1)
    1746.  03:4D47                      	C_LINE	550,"./diskio_sd.c::disk_write::0::40"
    1747.  03:4D47                      .disk_write
    1748.  03:4D47                      	GLOBAL	_disk_write
    1749.  03:4D47                      @_disk_write
    1750.  03:4D47  21 00 0A            	ld	hl,2560
    1751.  03:4D4A  E5                  	push	hl
    1752.  03:4D4B  21 0C 00            	ld	hl,12	;const
    1753.  03:4D4E  39                  	add	hl,sp
    1754.  03:4D4F  3E 01               	ld	a,1
    1755.  03:4D51  96                  	sub	(hl)
    1756.  03:4D52  DA 63 4D            	jp	c,i_115	;
    1757.  03:4D55  21 04 00            	ld	hl,4	;const
    1758.  03:4D58  39                  	add	hl,sp
    1759.  03:4D59  7E                  	ld	a,(hl)	;l_gint
    1760.  03:4D5A  23                  	inc	hl
    1761.  03:4D5B  66                  	ld	h,(hl)
    1762.  03:4D5C  6F                  	ld	l,a
    1763.  03:4D5D  CD 3F 54            	call	l_lneg
    1764.  03:4D60  D2 68 4D            	jp	nc,i_114	;
    1765.  03:4D63                      i_115
    1766.  03:4D63  21 04 00            	ld	hl,4	;const
    1767.  03:4D66  C1                  	pop	bc
    1768.  03:4D67  C9                  	ret
    1769.  03:4D68                      
    1770.  03:4D68                      
    1771.  03:4D68                      i_114
    1772.  03:4D68  3A 3D 54            	ld	a,(_Stat)
    1773.  03:4D6B  E6 01               	and	1
    1774.  03:4D6D  CA 75 4D            	jp	z,i_117	;
    1775.  03:4D70  21 03 00            	ld	hl,3	;const
    1776.  03:4D73  C1                  	pop	bc
    1777.  03:4D74  C9                  	ret
    1778.  03:4D75                      
    1779.  03:4D75                      
    1780.  03:4D75                      i_117
    1781.  03:4D75  3A 3D 54            	ld	a,(_Stat)
    1782.  03:4D78  E6 04               	and	4
    1783.  03:4D7A  CA 82 4D            	jp	z,i_118	;
    1784.  03:4D7D  21 02 00            	ld	hl,2	;const
    1785.  03:4D80  C1                  	pop	bc
    1786.  03:4D81  C9                  	ret
    1787.  03:4D82                      
    1788.  03:4D82                      
    1789.  03:4D82                      i_121
    1790.  03:4D82  21 0C 00            	ld	hl,12	;const
    1791.  03:4D85  39                  	add	hl,sp
    1792.  03:4D86  6E                  	ld	l,(hl)
    1793.  03:4D87  26 00               	ld	h,0
    1794.  03:4D89  E5                  	push	hl
    1795.  03:4D8A  CD A8 44            	call	_select
    1796.  03:4D8D  C1                  	pop	bc
    1797.  03:4D8E  2A 3E 54            	ld	hl,(_CardType)
    1798.  03:4D91  26 00               	ld	h,0
    1799.  03:4D93  3E 08               	ld	a,8
    1800.  03:4D95  A5                  	and	l
    1801.  03:4D96  6F                  	ld	l,a
    1802.  03:4D97  CD 3F 54            	call	l_lneg
    1803.  03:4D9A  D2 B2 4D            	jp	nc,i_122	;
    1804.  03:4D9D  21 06 00            	ld	hl,6	;const
    1805.  03:4DA0  39                  	add	hl,sp
    1806.  03:4DA1  E5                  	push	hl
    1807.  03:4DA2  CD CF 54            	call	l_glong2sp
    1808.  03:4DA5  21 00 02            	ld	hl,512	;const
    1809.  03:4DA8  11 00 00            	ld	de,0
    1810.  03:4DAB  CD 38 55            	call	l_long_mult
    1811.  03:4DAE  C1                  	pop	bc
    1812.  03:4DAF  CD C3 54            	call	l_plong
    1813.  03:4DB2                      i_122
    1814.  03:4DB2  21 04 00            	ld	hl,4	;const
    1815.  03:4DB5  39                  	add	hl,sp
    1816.  03:4DB6  7E                  	ld	a,(hl)	;l_gint
    1817.  03:4DB7  23                  	inc	hl
    1818.  03:4DB8  66                  	ld	h,(hl)
    1819.  03:4DB9  6F                  	ld	l,a
    1820.  03:4DBA  2B                  	dec	hl
    1821.  03:4DBB  7C                  	ld	a,h
    1822.  03:4DBC  B5                  	or	l
    1823.  03:4DBD  C2 FF 4D            	jp	nz,i_123	;
    1824.  03:4DC0  21 18 00            	ld	hl,24	;const
    1825.  03:4DC3  E5                  	push	hl
    1826.  03:4DC4  2E 08               	ld	l,8	
    1827.  03:4DC6  39                  	add	hl,sp
    1828.  03:4DC7  CD DE 54            	call	l_glong
    1829.  03:4DCA  D5                  	push	de
    1830.  03:4DCB  E5                  	push	hl
    1831.  03:4DCC  CD F2 45            	call	_send_cmd
    1832.  03:4DCF  C1                  	pop	bc
    1833.  03:4DD0  C1                  	pop	bc
    1834.  03:4DD1  C1                  	pop	bc
    1835.  03:4DD2  7C                  	ld	a,h
    1836.  03:4DD3  B5                  	or	l
    1837.  03:4DD4  20 01               	jr	nz,$+3
    1838.  03:4DD6  37                  	scf
    1839.  03:4DD7  D2 97 4E            	jp	nc,i_124	;
    1840.  03:4DDA  21 00 00            	ld	hl,0	;const
    1841.  03:4DDD  39                  	add	hl,sp
    1842.  03:4DDE  E5                  	push	hl
    1843.  03:4DDF  21 0C 00            	ld	hl,12	;const
    1844.  03:4DE2  39                  	add	hl,sp	;l_gintspsp
    1845.  03:4DE3  7E                  	ld	a,(hl)
    1846.  03:4DE4  23                  	inc	hl
    1847.  03:4DE5  66                  	ld	h,(hl)
    1848.  03:4DE6  6F                  	ld	l,a
    1849.  03:4DE7  E5                  	push	hl
    1850.  03:4DE8  21 FE 00            	ld	hl,254	;const
    1851.  03:4DEB  E5                  	push	hl
    1852.  03:4DEC  CD A1 45            	call	_write_sector
    1853.  03:4DEF  C1                  	pop	bc
    1854.  03:4DF0  C1                  	pop	bc
    1855.  03:4DF1  D1                  	pop	de
    1856.  03:4DF2  7D                  	ld	a,l
    1857.  03:4DF3  12                  	ld	(de),a
    1858.  03:4DF4  21 04 00            	ld	hl,4	;const
    1859.  03:4DF7  39                  	add	hl,sp
    1860.  03:4DF8  AF                  	xor	a
    1861.  03:4DF9  77                  	ld	(hl),a
    1862.  03:4DFA  23                  	inc	hl
    1863.  03:4DFB  77                  	ld	(hl),a
    1864.  03:4DFC  C3 97 4E            	jp	i_125	;EOS
    1865.  03:4DFF                      i_123
    1866.  03:4DFF  3A 3E 54            	ld	a,(_CardType)
    1867.  03:4E02  E6 06               	and	6
    1868.  03:4E04  CA 1D 4E            	jp	z,i_126	;
    1869.  03:4E07  21 97 00            	ld	hl,151	;const
    1870.  03:4E0A  E5                  	push	hl
    1871.  03:4E0B  2E 06               	ld	l,6	
    1872.  03:4E0D  39                  	add	hl,sp
    1873.  03:4E0E  7E                  	ld	a,(hl)	;l_gint
    1874.  03:4E0F  23                  	inc	hl
    1875.  03:4E10  66                  	ld	h,(hl)
    1876.  03:4E11  6F                  	ld	l,a
    1877.  03:4E12  11 00 00            	ld	de,0
    1878.  03:4E15  D5                  	push	de
    1879.  03:4E16  E5                  	push	hl
    1880.  03:4E17  CD F2 45            	call	_send_cmd
    1881.  03:4E1A  C1                  	pop	bc
    1882.  03:4E1B  C1                  	pop	bc
    1883.  03:4E1C  C1                  	pop	bc
    1884.  03:4E1D                      i_126
    1885.  03:4E1D  21 19 00            	ld	hl,25	;const
    1886.  03:4E20  E5                  	push	hl
    1887.  03:4E21  2E 08               	ld	l,8	
    1888.  03:4E23  39                  	add	hl,sp
    1889.  03:4E24  CD DE 54            	call	l_glong
    1890.  03:4E27  D5                  	push	de
    1891.  03:4E28  E5                  	push	hl
    1892.  03:4E29  CD F2 45            	call	_send_cmd
    1893.  03:4E2C  C1                  	pop	bc
    1894.  03:4E2D  C1                  	pop	bc
    1895.  03:4E2E  C1                  	pop	bc
    1896.  03:4E2F  7C                  	ld	a,h
    1897.  03:4E30  B5                  	or	l
    1898.  03:4E31  20 01               	jr	nz,$+3
    1899.  03:4E33  37                  	scf
    1900.  03:4E34  D2 97 4E            	jp	nc,i_127	;
    1901.  03:4E37                      i_130
    1902.  03:4E37  21 00 00            	ld	hl,0	;const
    1903.  03:4E3A  39                  	add	hl,sp
    1904.  03:4E3B  E5                  	push	hl
    1905.  03:4E3C  21 0C 00            	ld	hl,12	;const
    1906.  03:4E3F  39                  	add	hl,sp	;l_gintspsp
    1907.  03:4E40  7E                  	ld	a,(hl)
    1908.  03:4E41  23                  	inc	hl
    1909.  03:4E42  66                  	ld	h,(hl)
    1910.  03:4E43  6F                  	ld	l,a
    1911.  03:4E44  E5                  	push	hl
    1912.  03:4E45  21 FC 00            	ld	hl,252	;const
    1913.  03:4E48  E5                  	push	hl
    1914.  03:4E49  CD A1 45            	call	_write_sector
    1915.  03:4E4C  C1                  	pop	bc
    1916.  03:4E4D  C1                  	pop	bc
    1917.  03:4E4E  D1                  	pop	de
    1918.  03:4E4F  7D                  	ld	a,l
    1919.  03:4E50  12                  	ld	(de),a
    1920.  03:4E51  FE 05               	cp	5
    1921.  03:4E53  C2 79 4E            	jp	nz,i_129	;EOS
    1922.  03:4E56                      i_131
    1923.  03:4E56  21 0A 00            	ld	hl,10	;const
    1924.  03:4E59  39                  	add	hl,sp
    1925.  03:4E5A  E5                  	push	hl
    1926.  03:4E5B  7E                  	ld	a,(hl)	;l_gint
    1927.  03:4E5C  23                  	inc	hl
    1928.  03:4E5D  66                  	ld	h,(hl)
    1929.  03:4E5E  6F                  	ld	l,a
    1930.  03:4E5F  24                  	inc	h
    1931.  03:4E60  24                  	inc	h
    1932.  03:4E61  D1                  	pop	de
    1933.  03:4E62  EB                  	ex	de,hl	;l_pint
    1934.  03:4E63  73                  	ld	(hl),e
    1935.  03:4E64  23                  	inc	hl
    1936.  03:4E65  72                  	ld	(hl),d
    1937.  03:4E66  EB                   	ex	de,hl
    1938.  03:4E67                      i_128
    1939.  03:4E67  21 04 00            	ld	hl,4	;const
    1940.  03:4E6A  39                  	add	hl,sp
    1941.  03:4E6B  35                  	dec	(hl)
    1942.  03:4E6C  7E                  	ld	a,(hl)
    1943.  03:4E6D  23                  	inc	hl
    1944.  03:4E6E  FE FF               	cp	255
    1945.  03:4E70  20 01               	jr	nz,$+3
    1946.  03:4E72  35                  	dec	(hl)
    1947.  03:4E73  66                  	ld	h,(hl)
    1948.  03:4E74  6F                  	ld	l,a
    1949.  03:4E75  B4                  	or	h
    1950.  03:4E76  C2 37 4E            	jp	nz,i_130	;EOS
    1951.  03:4E79                      i_129
    1952.  03:4E79  3A 3E 54            	ld	a,(_CardType)
    1953.  03:4E7C  E6 06               	and	6
    1954.  03:4E7E  CA 97 4E            	jp	z,i_133	;
    1955.  03:4E81  21 00 00            	ld	hl,0	;const
    1956.  03:4E84  39                  	add	hl,sp
    1957.  03:4E85  7E                  	ld	a,(hl)
    1958.  03:4E86  FE 05               	cp	5
    1959.  03:4E88  C2 97 4E            	jp	nz,i_133	;
    1960.  03:4E8B                      i_134_i_133
    1961.  03:4E8B  21 00 00            	ld	hl,0	;const
    1962.  03:4E8E  E5                  	push	hl
    1963.  03:4E8F  2E FD               	ld	l,253	
    1964.  03:4E91  E5                  	push	hl
    1965.  03:4E92  CD A1 45            	call	_write_sector
    1966.  03:4E95  C1                  	pop	bc
    1967.  03:4E96  C1                  	pop	bc
    1968.  03:4E97                      i_125
    1969.  03:4E97  CD 9C 44            	call	_deselect
    1970.  03:4E9A                      i_119
    1971.  03:4E9A  21 01 00            	ld	hl,1	;const
    1972.  03:4E9D  39                  	add	hl,sp
    1973.  03:4E9E  35                  	dec	(hl)
    1974.  03:4E9F  7E                  	ld	a,(hl)
    1975.  03:4EA0  A7                  	and	a
    1976.  03:4EA1  CA B1 4E            	jp	z,i_135	;
    1977.  03:4EA4  21 00 00            	ld	hl,0	;const
    1978.  03:4EA7  39                  	add	hl,sp
    1979.  03:4EA8  7E                  	ld	a,(hl)
    1980.  03:4EA9  FE 05               	cp	5
    1981.  03:4EAB  CA B1 4E            	jp	z,i_135	;
    1982.  03:4EAE  C3 82 4D            	jp	i_121	;EOS
    1983.  03:4EB1                      i_120
    1984.  03:4EB1  21 04 00            	ld	hl,4	;const
    1985.  03:4EB4  39                  	add	hl,sp
    1986.  03:4EB5  7E                  	ld	a,(hl)	;l_gint
    1987.  03:4EB6  23                  	inc	hl
    1988.  03:4EB7  66                  	ld	h,(hl)
    1989.  03:4EB8  6F                  	ld	l,a
    1990.  03:4EB9  B4                  	or	h
    1991.  03:4EBA  CA C3 4E            	jp	z,i_137	;
    1992.  03:4EBD  21 01 00            	ld	hl,1	;const
    1993.  03:4EC0  C3 C6 4E            	jp	i_138	;
    1994.  03:4EC3                      i_137
    1995.  03:4EC3  21 00 00            	ld	hl,0	;const
    1996.  03:4EC6                      i_138
    1997.  03:4EC6  C1                  	pop	bc
    1998.  03:4EC7  C9                  	ret
    1999.  03:4EC8                      
    2000.  03:4EC8                      
    2001.  03:4EC8                      	C_LINE	600,"./diskio_sd.c::disk_write::0::47"
    2002.  03:4EC8                      
    2003.  03:4EC8                      ; Function disk_ioctl flags 0x00000280 __smallc 
    2004.  03:4EC8                      ; const int DRESULTdisk_ioctl(unsigned char pdrv, unsigned char cmd, void * buff)
    2005.  03:4EC8                      ; parameter 'void * buff' at sp+2 size(2)
    2006.  03:4EC8                      ; parameter 'unsigned char cmd' at sp+4 size(1)
    2007.  03:4EC8                      ; parameter 'unsigned char pdrv' at sp+6 size(1)
    2008.  03:4EC8                      	C_LINE	606,"./diskio_sd.c::disk_ioctl::0::47"
    2009.  03:4EC8                      @disk_ioctl
    2010.  03:4EC8                      	GLOBAL	_disk_ioctl
    2011.  03:4EC8                      _disk_ioctl
    2012.  03:4EC8  21 DB FF            	ld	hl,65499	;const
    2013.  03:4ECB  39                  	add	hl,sp
    2014.  03:4ECC  F9                  	ld	sp,hl
    2015.  03:4ECD  21 27 00            	ld	hl,39	;const
    2016.  03:4ED0  39                  	add	hl,sp
    2017.  03:4ED1  7E                  	ld	a,(hl)	;l_gint
    2018.  03:4ED2  23                  	inc	hl
    2019.  03:4ED3  66                  	ld	h,(hl)
    2020.  03:4ED4  6F                  	ld	l,a
    2021.  03:4ED5  D1                  	pop	de
    2022.  03:4ED6  C1                  	pop	bc
    2023.  03:4ED7  E5                  	push	hl
    2024.  03:4ED8  D5                  	push	de
    2025.  03:4ED9  21 27 00            	ld	hl,39	;const
    2026.  03:4EDC  39                  	add	hl,sp
    2027.  03:4EDD  7E                  	ld	a,(hl)	;l_gint
    2028.  03:4EDE  23                  	inc	hl
    2029.  03:4EDF  66                  	ld	h,(hl)
    2030.  03:4EE0  6F                  	ld	l,a
    2031.  03:4EE1  C1                  	pop	bc
    2032.  03:4EE2  E5                  	push	hl
    2033.  03:4EE3  21 2B 00            	ld	hl,43	;const
    2034.  03:4EE6  39                  	add	hl,sp
    2035.  03:4EE7  6E                  	ld	l,(hl)
    2036.  03:4EE8  26 00               	ld	h,0
    2037.  03:4EEA  CD 04 4C            	call	disk_status
    2038.  03:4EED  7D                  	ld	a,l
    2039.  03:4EEE  E6 01               	and	1
    2040.  03:4EF0  CA FC 4E            	jp	z,i_139	;
    2041.  03:4EF3  21 25 00            	ld	hl,37	;const
    2042.  03:4EF6  39                  	add	hl,sp
    2043.  03:4EF7  F9                  	ld	sp,hl
    2044.  03:4EF8  21 03 00            	ld	hl,3	;const
    2045.  03:4EFB  C9                  	ret
    2046.  03:4EFC                      
    2047.  03:4EFC                      
    2048.  03:4EFC                      i_139
    2049.  03:4EFC  21 2B 00            	ld	hl,43	;const
    2050.  03:4EFF  39                  	add	hl,sp
    2051.  03:4F00  6E                  	ld	l,(hl)
    2052.  03:4F01  26 00               	ld	h,0
    2053.  03:4F03  E5                  	push	hl
    2054.  03:4F04  CD A8 44            	call	_select
    2055.  03:4F07  C1                  	pop	bc
    2056.  03:4F08  21 23 00            	ld	hl,35	;const
    2057.  03:4F0B  39                  	add	hl,sp
    2058.  03:4F0C  36 01               	ld	(hl),1
    2059.  03:4F0E  23                  	inc	hl
    2060.  03:4F0F  36 00               	ld	(hl),0
    2061.  03:4F11  21 29 00            	ld	hl,41	;const
    2062.  03:4F14  39                  	add	hl,sp
    2063.  03:4F15  6E                  	ld	l,(hl)
    2064.  03:4F16  26 00               	ld	h,0
    2065.  03:4F18                      i_142
    2066.  03:4F18  7D                  	ld	a,l
    2067.  03:4F19  A7                  	and	a
    2068.  03:4F1A  CA 4D 4F            	jp	z,i_143	;
    2069.  03:4F1D  FE 01               	cp	+(1% 256)
    2070.  03:4F1F  CA 58 4F            	jp	z,i_144	;
    2071.  03:4F22  FE 02               	cp	+(2% 256)
    2072.  03:4F24  CA 90 50            	jp	z,i_150	;
    2073.  03:4F27  FE 03               	cp	+(3% 256)
    2074.  03:4F29  CA A8 50            	jp	z,i_151	;
    2075.  03:4F2C  FE 04               	cp	+(4% 256)
    2076.  03:4F2E  CA F9 51            	jp	z,i_165	;
    2077.  03:4F31  FE 0A               	cp	+(10% 256)
    2078.  03:4F33  CA 13 53            	jp	z,i_175	;
    2079.  03:4F36  FE 0B               	cp	+(11% 256)
    2080.  03:4F38  CA 29 53            	jp	z,i_176	;
    2081.  03:4F3B  FE 0C               	cp	+(12% 256)
    2082.  03:4F3D  CA 63 53            	jp	z,i_180	;
    2083.  03:4F40  FE 0D               	cp	+(13% 256)
    2084.  03:4F42  CA 9D 53            	jp	z,i_184	;
    2085.  03:4F45  FE 0E               	cp	+(14% 256)
    2086.  03:4F47  CA E7 53            	jp	z,i_189	;
    2087.  03:4F4A  C3 21 54            	jp	i_193	;EOS
    2088.  03:4F4D                      i_143
    2089.  03:4F4D  21 23 00            	ld	hl,35	;const
    2090.  03:4F50  39                  	add	hl,sp
    2091.  03:4F51  AF                  	xor	a
    2092.  03:4F52  77                  	ld	(hl),a
    2093.  03:4F53  23                  	inc	hl
    2094.  03:4F54  77                  	ld	(hl),a
    2095.  03:4F55  C3 2A 54            	jp	i_141	;EOS
    2096.  03:4F58                      i_144
    2097.  03:4F58  21 09 00            	ld	hl,9	;const
    2098.  03:4F5B  E5                  	push	hl
    2099.  03:4F5C  2E 00               	ld	l,0	
    2100.  03:4F5E  54                  	ld	d,h
    2101.  03:4F5F  5D                  	ld	e,l
    2102.  03:4F60  D5                  	push	de
    2103.  03:4F61  E5                  	push	hl
    2104.  03:4F62  CD F2 45            	call	_send_cmd
    2105.  03:4F65  C1                  	pop	bc
    2106.  03:4F66  C1                  	pop	bc
    2107.  03:4F67  C1                  	pop	bc
    2108.  03:4F68  7C                  	ld	a,h
    2109.  03:4F69  B5                  	or	l
    2110.  03:4F6A  20 01               	jr	nz,$+3
    2111.  03:4F6C  37                  	scf
    2112.  03:4F6D  D2 2A 54            	jp	nc,i_146	;
    2113.  03:4F70  21 04 00            	ld	hl,4	;const
    2114.  03:4F73  39                  	add	hl,sp
    2115.  03:4F74  E5                  	push	hl
    2116.  03:4F75  21 10 00            	ld	hl,16	;const
    2117.  03:4F78  E5                  	push	hl
    2118.  03:4F79  CD E7 44            	call	_read_data
    2119.  03:4F7C  C1                  	pop	bc
    2120.  03:4F7D  C1                  	pop	bc
    2121.  03:4F7E  7C                  	ld	a,h
    2122.  03:4F7F  B5                  	or	l
    2123.  03:4F80  CA 2A 54            	jp	z,i_146	;
    2124.  03:4F83                      i_147_i_146
    2125.  03:4F83  21 04 00            	ld	hl,4	;const
    2126.  03:4F86  39                  	add	hl,sp
    2127.  03:4F87  6E                  	ld	l,(hl)
    2128.  03:4F88  26 00               	ld	h,0
    2129.  03:4F8A  7D                  	ld	a,l
    2130.  03:4F8B  07                  	rlca
    2131.  03:4F8C  07                  	rlca
    2132.  03:4F8D  E6 03               	and	3
    2133.  03:4F8F  6F                  	ld	l,a
    2134.  03:4F90  FE 01               	cp	1
    2135.  03:4F92  C2 F3 4F            	jp	nz,i_148	;
    2136.  03:4F95  21 15 00            	ld	hl,21	;const
    2137.  03:4F98  39                  	add	hl,sp
    2138.  03:4F99  E5                  	push	hl
    2139.  03:4F9A  21 0F 00            	ld	hl,15	;const
    2140.  03:4F9D  39                  	add	hl,sp
    2141.  03:4F9E  6E                  	ld	l,(hl)
    2142.  03:4F9F  26 00               	ld	h,0
    2143.  03:4FA1  E5                  	push	hl
    2144.  03:4FA2  21 10 00            	ld	hl,16	;const
    2145.  03:4FA5  39                  	add	hl,sp
    2146.  03:4FA6  66                  	ld	h,(hl)
    2147.  03:4FA7  2E 00               	ld	l,0
    2148.  03:4FA9  D1                  	pop	de
    2149.  03:4FAA  19                  	add	hl,de
    2150.  03:4FAB  E5                  	push	hl
    2151.  03:4FAC  21 0F 00            	ld	hl,15	;const
    2152.  03:4FAF  39                  	add	hl,sp
    2153.  03:4FB0  7E                  	ld	a,(hl)
    2154.  03:4FB1  E6 3F               	and	63
    2155.  03:4FB3  5F                  	ld	e,a
    2156.  03:4FB4  16 00               	ld	d,0
    2157.  03:4FB6  21 00 00            	ld	hl,0	;const
    2158.  03:4FB9  D9                  	exx
    2159.  03:4FBA  E1                  	pop	hl
    2160.  03:4FBB  11 00 00            	ld	de,0
    2161.  03:4FBE  D5                  	push	de
    2162.  03:4FBF  E5                  	push	hl
    2163.  03:4FC0  D9                  	exx
    2164.  03:4FC1  C1                  	pop	bc
    2165.  03:4FC2  09                  	add	hl,bc
    2166.  03:4FC3  EB                  	ex	de,hl
    2167.  03:4FC4  C1                  	pop	bc
    2168.  03:4FC5  ED 4A               	adc	hl,bc
    2169.  03:4FC7  EB                  	ex	de,hl
    2170.  03:4FC8  23                  	inc	hl
    2171.  03:4FC9  7C                  	ld	a,h
    2172.  03:4FCA  B5                  	or	l
    2173.  03:4FCB  20 01               	jr	nz,$+3
    2174.  03:4FCD  13                  	inc	de
    2175.  03:4FCE  C1                  	pop	bc
    2176.  03:4FCF  CD C3 54            	call	l_plong
    2177.  03:4FD2  21 27 00            	ld	hl,39	;const
    2178.  03:4FD5  39                  	add	hl,sp	;l_gintspsp
    2179.  03:4FD6  7E                  	ld	a,(hl)
    2180.  03:4FD7  23                  	inc	hl
    2181.  03:4FD8  66                  	ld	h,(hl)
    2182.  03:4FD9  6F                  	ld	l,a
    2183.  03:4FDA  E5                  	push	hl
    2184.  03:4FDB  21 17 00            	ld	hl,23	;const
    2185.  03:4FDE  39                  	add	hl,sp
    2186.  03:4FDF  7E                  	ld	a,(hl)
    2187.  03:4FE0  23                  	inc	hl
    2188.  03:4FE1  5E                  	ld	e,(hl)
    2189.  03:4FE2  23                  	inc	hl
    2190.  03:4FE3  56                  	ld	d,(hl)
    2191.  03:4FE4  67                  	ld	h,a
    2192.  03:4FE5  2E 00               	ld	l,0
    2193.  03:4FE7  3E 02               	ld	a,2
    2194.  03:4FE9  CD 16 55            	call	l_long_aslo
    2195.  03:4FEC  C1                  	pop	bc
    2196.  03:4FED  CD C3 54            	call	l_plong
    2197.  03:4FF0  C3 85 50            	jp	i_149	;EOS
    2198.  03:4FF3                      i_148
    2199.  03:4FF3  21 14 00            	ld	hl,20	;const
    2200.  03:4FF6  39                  	add	hl,sp
    2201.  03:4FF7  E5                  	push	hl
    2202.  03:4FF8  21 0B 00            	ld	hl,11	;const
    2203.  03:4FFB  39                  	add	hl,sp
    2204.  03:4FFC  7E                  	ld	a,(hl)
    2205.  03:4FFD  E6 0F               	and	15
    2206.  03:4FFF  6F                  	ld	l,a
    2207.  03:5000  26 00               	ld	h,0
    2208.  03:5002  E5                  	push	hl
    2209.  03:5003  21 12 00            	ld	hl,18	;const
    2210.  03:5006  39                  	add	hl,sp
    2211.  03:5007  7E                  	ld	a,(hl)
    2212.  03:5008  E6 80               	and	128
    2213.  03:500A  6F                  	ld	l,a
    2214.  03:500B  26 00               	ld	h,0
    2215.  03:500D  07                  	rlca
    2216.  03:500E  E6 01               	and	1
    2217.  03:5010  6F                  	ld	l,a
    2218.  03:5011  D1                  	pop	de
    2219.  03:5012  19                  	add	hl,de
    2220.  03:5013  E5                  	push	hl
    2221.  03:5014  21 11 00            	ld	hl,17	;const
    2222.  03:5017  39                  	add	hl,sp
    2223.  03:5018  7E                  	ld	a,(hl)
    2224.  03:5019  E6 03               	and	3
    2225.  03:501B  6F                  	ld	l,a
    2226.  03:501C  26 00               	ld	h,0
    2227.  03:501E  29                  	add	hl,hl
    2228.  03:501F  D1                  	pop	de
    2229.  03:5020  19                  	add	hl,de
    2230.  03:5021  23                  	inc	hl
    2231.  03:5022  23                  	inc	hl
    2232.  03:5023  D1                  	pop	de
    2233.  03:5024  7D                  	ld	a,l
    2234.  03:5025  12                  	ld	(de),a
    2235.  03:5026  21 15 00            	ld	hl,21	;const
    2236.  03:5029  39                  	add	hl,sp
    2237.  03:502A  E5                  	push	hl
    2238.  03:502B  21 0E 00            	ld	hl,14	;const
    2239.  03:502E  39                  	add	hl,sp
    2240.  03:502F  6E                  	ld	l,(hl)
    2241.  03:5030  26 00               	ld	h,0
    2242.  03:5032  7D                  	ld	a,l
    2243.  03:5033  07                  	rlca
    2244.  03:5034  07                  	rlca
    2245.  03:5035  E6 03               	and	3
    2246.  03:5037  6F                  	ld	l,a
    2247.  03:5038  E5                  	push	hl
    2248.  03:5039  21 0F 00            	ld	hl,15	;const
    2249.  03:503C  39                  	add	hl,sp
    2250.  03:503D  6E                  	ld	l,(hl)
    2251.  03:503E  26 00               	ld	h,0
    2252.  03:5040  29                  	add	hl,hl
    2253.  03:5041  29                  	add	hl,hl
    2254.  03:5042  D1                  	pop	de
    2255.  03:5043  19                  	add	hl,de
    2256.  03:5044  E5                  	push	hl
    2257.  03:5045  21 0E 00            	ld	hl,14	;const
    2258.  03:5048  39                  	add	hl,sp
    2259.  03:5049  7E                  	ld	a,(hl)
    2260.  03:504A  E6 03               	and	3
    2261.  03:504C  6F                  	ld	l,a
    2262.  03:504D  26 00               	ld	h,0
    2263.  03:504F  CB 25               	sla	l
    2264.  03:5051  CB 25               	sla	l
    2265.  03:5053  65                  	ld	h,l
    2266.  03:5054  2E 00               	ld	l,0
    2267.  03:5056  D1                  	pop	de
    2268.  03:5057  19                  	add	hl,de
    2269.  03:5058  23                  	inc	hl
    2270.  03:5059  11 00 00            	ld	de,0
    2271.  03:505C  C1                  	pop	bc
    2272.  03:505D  CD C3 54            	call	l_plong
    2273.  03:5060  21 27 00            	ld	hl,39	;const
    2274.  03:5063  39                  	add	hl,sp	;l_gintspsp
    2275.  03:5064  7E                  	ld	a,(hl)
    2276.  03:5065  23                  	inc	hl
    2277.  03:5066  66                  	ld	h,(hl)
    2278.  03:5067  6F                  	ld	l,a
    2279.  03:5068  E5                  	push	hl
    2280.  03:5069  21 17 00            	ld	hl,23	;const
    2281.  03:506C  39                  	add	hl,sp
    2282.  03:506D  CD CF 54            	call	l_glong2sp
    2283.  03:5070  21 1A 00            	ld	hl,26	;const
    2284.  03:5073  39                  	add	hl,sp
    2285.  03:5074  6E                  	ld	l,(hl)
    2286.  03:5075  26 00               	ld	h,0
    2287.  03:5077  01 F7 FF            	ld	bc,-9
    2288.  03:507A  09                  	add	hl,bc
    2289.  03:507B  11 00 00            	ld	de,0
    2290.  03:507E  CD 27 55            	call	l_long_asl
    2291.  03:5081  C1                  	pop	bc
    2292.  03:5082  CD C3 54            	call	l_plong
    2293.  03:5085                      i_149
    2294.  03:5085  21 23 00            	ld	hl,35	;const
    2295.  03:5088  39                  	add	hl,sp
    2296.  03:5089  AF                  	xor	a
    2297.  03:508A  77                  	ld	(hl),a
    2298.  03:508B  23                  	inc	hl
    2299.  03:508C  77                  	ld	(hl),a
    2300.  03:508D  C3 2A 54            	jp	i_141	;EOS
    2301.  03:5090                      i_150
    2302.  03:5090  21 27 00            	ld	hl,39	;const
    2303.  03:5093  39                  	add	hl,sp
    2304.  03:5094  7E                  	ld	a,(hl)
    2305.  03:5095  23                  	inc	hl
    2306.  03:5096  66                  	ld	h,(hl)
    2307.  03:5097  6F                  	ld	l,a
    2308.  03:5098  36 00               	ld	(hl),0
    2309.  03:509A  23                  	inc	hl
    2310.  03:509B  36 02               	ld	(hl),2
    2311.  03:509D  21 23 00            	ld	hl,35	;const
    2312.  03:50A0  39                  	add	hl,sp
    2313.  03:50A1  AF                  	xor	a
    2314.  03:50A2  77                  	ld	(hl),a
    2315.  03:50A3  23                  	inc	hl
    2316.  03:50A4  77                  	ld	(hl),a
    2317.  03:50A5  C3 2A 54            	jp	i_141	;EOS
    2318.  03:50A8                      i_151
    2319.  03:50A8  3A 3E 54            	ld	a,(_CardType)
    2320.  03:50AB  E6 04               	and	4
    2321.  03:50AD  CA 30 51            	jp	z,i_152	;
    2322.  03:50B0  21 8D 00            	ld	hl,141	;const
    2323.  03:50B3  E5                  	push	hl
    2324.  03:50B4  2E 00               	ld	l,0	
    2325.  03:50B6  54                  	ld	d,h
    2326.  03:50B7  5D                  	ld	e,l
    2327.  03:50B8  D5                  	push	de
    2328.  03:50B9  E5                  	push	hl
    2329.  03:50BA  CD F2 45            	call	_send_cmd
    2330.  03:50BD  C1                  	pop	bc
    2331.  03:50BE  C1                  	pop	bc
    2332.  03:50BF  C1                  	pop	bc
    2333.  03:50C0  7C                  	ld	a,h
    2334.  03:50C1  B5                  	or	l
    2335.  03:50C2  20 01               	jr	nz,$+3
    2336.  03:50C4  37                  	scf
    2337.  03:50C5  D2 2A 54            	jp	nc,i_154	;
    2338.  03:50C8  21 04 00            	ld	hl,4	;const
    2339.  03:50CB  39                  	add	hl,sp
    2340.  03:50CC  E5                  	push	hl
    2341.  03:50CD  21 10 00            	ld	hl,16	;const
    2342.  03:50D0  E5                  	push	hl
    2343.  03:50D1  CD E7 44            	call	_read_data
    2344.  03:50D4  C1                  	pop	bc
    2345.  03:50D5  C1                  	pop	bc
    2346.  03:50D6  7C                  	ld	a,h
    2347.  03:50D7  B5                  	or	l
    2348.  03:50D8  CA 2A 54            	jp	z,i_154	;
    2349.  03:50DB                      i_155_i_154
    2350.  03:50DB  21 14 00            	ld	hl,20	;const
    2351.  03:50DE  39                  	add	hl,sp
    2352.  03:50DF  36 30               	ld	(hl),48
    2353.  03:50E1  C3 E9 50            	jp	i_158	;EOS
    2354.  03:50E4                      i_156
    2355.  03:50E4  21 14 00            	ld	hl,20	;const
    2356.  03:50E7  39                  	add	hl,sp
    2357.  03:50E8  35                  	dec	(hl)
    2358.  03:50E9                      i_158
    2359.  03:50E9  21 14 00            	ld	hl,20	;const
    2360.  03:50EC  39                  	add	hl,sp
    2361.  03:50ED  6E                  	ld	l,(hl)
    2362.  03:50EE  26 00               	ld	h,0
    2363.  03:50F0  7C                  	ld	a,h
    2364.  03:50F1  B5                  	or	l
    2365.  03:50F2  CA FB 50            	jp	z,i_157	;
    2366.  03:50F5  CD 1C 44            	call	_sd_read_byte
    2367.  03:50F8  C3 E4 50            	jp	i_156	;EOS
    2368.  03:50FB                      i_157
    2369.  03:50FB  21 27 00            	ld	hl,39	;const
    2370.  03:50FE  39                  	add	hl,sp	;l_gintspsp
    2371.  03:50FF  7E                  	ld	a,(hl)
    2372.  03:5100  23                  	inc	hl
    2373.  03:5101  66                  	ld	h,(hl)
    2374.  03:5102  6F                  	ld	l,a
    2375.  03:5103  E5                  	push	hl
    2376.  03:5104  21 10 00            	ld	hl,16	;const
    2377.  03:5107  39                  	add	hl,sp
    2378.  03:5108  6E                  	ld	l,(hl)
    2379.  03:5109  26 00               	ld	h,0
    2380.  03:510B  7D                  	ld	a,l
    2381.  03:510C  0F                  	rrca
    2382.  03:510D  0F                  	rrca
    2383.  03:510E  0F                  	rrca
    2384.  03:510F  0F                  	rrca
    2385.  03:5110  E6 0F               	and	15
    2386.  03:5112  6F                  	ld	l,a
    2387.  03:5113  11 00 00            	ld	de,0
    2388.  03:5116  01 00 00            	ld	bc,0
    2389.  03:5119  C5                  	push	bc
    2390.  03:511A  01 10 00            	ld	bc,16
    2391.  03:511D  C5                  	push	bc
    2392.  03:511E  CD 27 55            	call	l_long_asl
    2393.  03:5121  C1                  	pop	bc
    2394.  03:5122  CD C3 54            	call	l_plong
    2395.  03:5125  21 23 00            	ld	hl,35	;const
    2396.  03:5128  39                  	add	hl,sp
    2397.  03:5129  AF                  	xor	a
    2398.  03:512A  77                  	ld	(hl),a
    2399.  03:512B  23                  	inc	hl
    2400.  03:512C  77                  	ld	(hl),a
    2401.  03:512D  C3 2A 54            	jp	i_159	;EOS
    2402.  03:5130                      i_152
    2403.  03:5130  21 09 00            	ld	hl,9	;const
    2404.  03:5133  E5                  	push	hl
    2405.  03:5134  2E 00               	ld	l,0	
    2406.  03:5136  54                  	ld	d,h
    2407.  03:5137  5D                  	ld	e,l
    2408.  03:5138  D5                  	push	de
    2409.  03:5139  E5                  	push	hl
    2410.  03:513A  CD F2 45            	call	_send_cmd
    2411.  03:513D  C1                  	pop	bc
    2412.  03:513E  C1                  	pop	bc
    2413.  03:513F  C1                  	pop	bc
    2414.  03:5140  7C                  	ld	a,h
    2415.  03:5141  B5                  	or	l
    2416.  03:5142  20 01               	jr	nz,$+3
    2417.  03:5144  37                  	scf
    2418.  03:5145  D2 2A 54            	jp	nc,i_161	;
    2419.  03:5148  21 04 00            	ld	hl,4	;const
    2420.  03:514B  39                  	add	hl,sp
    2421.  03:514C  E5                  	push	hl
    2422.  03:514D  21 10 00            	ld	hl,16	;const
    2423.  03:5150  E5                  	push	hl
    2424.  03:5151  CD E7 44            	call	_read_data
    2425.  03:5154  C1                  	pop	bc
    2426.  03:5155  C1                  	pop	bc
    2427.  03:5156  7C                  	ld	a,h
    2428.  03:5157  B5                  	or	l
    2429.  03:5158  CA 2A 54            	jp	z,i_161	;
    2430.  03:515B                      i_162_i_161
    2431.  03:515B  3A 3E 54            	ld	a,(_CardType)
    2432.  03:515E  E6 02               	and	2
    2433.  03:5160  CA A8 51            	jp	z,i_163	;
    2434.  03:5163  21 27 00            	ld	hl,39	;const
    2435.  03:5166  39                  	add	hl,sp	;l_gintspsp
    2436.  03:5167  7E                  	ld	a,(hl)
    2437.  03:5168  23                  	inc	hl
    2438.  03:5169  66                  	ld	h,(hl)
    2439.  03:516A  6F                  	ld	l,a
    2440.  03:516B  E5                  	push	hl
    2441.  03:516C  21 10 00            	ld	hl,16	;const
    2442.  03:516F  39                  	add	hl,sp
    2443.  03:5170  7E                  	ld	a,(hl)
    2444.  03:5171  E6 3F               	and	63
    2445.  03:5173  6F                  	ld	l,a
    2446.  03:5174  26 00               	ld	h,0
    2447.  03:5176  29                  	add	hl,hl
    2448.  03:5177  E5                  	push	hl
    2449.  03:5178  21 13 00            	ld	hl,19	;const
    2450.  03:517B  39                  	add	hl,sp
    2451.  03:517C  7E                  	ld	a,(hl)
    2452.  03:517D  E6 80               	and	128
    2453.  03:517F  6F                  	ld	l,a
    2454.  03:5180  26 00               	ld	h,0
    2455.  03:5182  11 07 00            	ld	de,7
    2456.  03:5185  CD EF 56            	call	l_asr_u_hl_by_e
    2457.  03:5188  D1                  	pop	de
    2458.  03:5189  19                  	add	hl,de
    2459.  03:518A  23                  	inc	hl
    2460.  03:518B  E5                  	push	hl
    2461.  03:518C  21 15 00            	ld	hl,21	;const
    2462.  03:518F  39                  	add	hl,sp
    2463.  03:5190  6E                  	ld	l,(hl)
    2464.  03:5191  26 00               	ld	h,0
    2465.  03:5193  7D                  	ld	a,l
    2466.  03:5194  07                  	rlca
    2467.  03:5195  07                  	rlca
    2468.  03:5196  E6 03               	and	3
    2469.  03:5198  6F                  	ld	l,a
    2470.  03:5199  2B                  	dec	hl
    2471.  03:519A  D1                  	pop	de
    2472.  03:519B  CD 56 54            	call	l_asl
    2473.  03:519E  11 00 00            	ld	de,0
    2474.  03:51A1  C1                  	pop	bc
    2475.  03:51A2  CD C3 54            	call	l_plong
    2476.  03:51A5  C3 EE 51            	jp	i_164	;EOS
    2477.  03:51A8                      i_163
    2478.  03:51A8  21 27 00            	ld	hl,39	;const
    2479.  03:51AB  39                  	add	hl,sp	;l_gintspsp
    2480.  03:51AC  7E                  	ld	a,(hl)
    2481.  03:51AD  23                  	inc	hl
    2482.  03:51AE  66                  	ld	h,(hl)
    2483.  03:51AF  6F                  	ld	l,a
    2484.  03:51B0  E5                  	push	hl
    2485.  03:51B1  21 10 00            	ld	hl,16	;const
    2486.  03:51B4  39                  	add	hl,sp
    2487.  03:51B5  7E                  	ld	a,(hl)
    2488.  03:51B6  E6 7C               	and	124
    2489.  03:51B8  6F                  	ld	l,a
    2490.  03:51B9  26 00               	ld	h,0
    2491.  03:51BB  0F                  	rrca
    2492.  03:51BC  0F                  	rrca
    2493.  03:51BD  E6 3F               	and	63
    2494.  03:51BF  6F                  	ld	l,a
    2495.  03:51C0  23                  	inc	hl
    2496.  03:51C1  E5                  	push	hl
    2497.  03:51C2  21 13 00            	ld	hl,19	;const
    2498.  03:51C5  39                  	add	hl,sp
    2499.  03:51C6  7E                  	ld	a,(hl)
    2500.  03:51C7  E6 03               	and	3
    2501.  03:51C9  6F                  	ld	l,a
    2502.  03:51CA  26 00               	ld	h,0
    2503.  03:51CC  29                  	add	hl,hl
    2504.  03:51CD  29                  	add	hl,hl
    2505.  03:51CE  29                  	add	hl,hl
    2506.  03:51CF  E5                  	push	hl
    2507.  03:51D0  21 15 00            	ld	hl,21	;const
    2508.  03:51D3  39                  	add	hl,sp
    2509.  03:51D4  7E                  	ld	a,(hl)
    2510.  03:51D5  E6 E0               	and	224
    2511.  03:51D7  6F                  	ld	l,a
    2512.  03:51D8  26 00               	ld	h,0
    2513.  03:51DA  07                  	rlca
    2514.  03:51DB  07                  	rlca
    2515.  03:51DC  07                  	rlca
    2516.  03:51DD  E6 07               	and	7
    2517.  03:51DF  6F                  	ld	l,a
    2518.  03:51E0  D1                  	pop	de
    2519.  03:51E1  19                  	add	hl,de
    2520.  03:51E2  23                  	inc	hl
    2521.  03:51E3  D1                  	pop	de
    2522.  03:51E4  CD 64 54            	call	l_mult_u
    2523.  03:51E7  11 00 00            	ld	de,0
    2524.  03:51EA  C1                  	pop	bc
    2525.  03:51EB  CD C3 54            	call	l_plong
    2526.  03:51EE                      i_164
    2527.  03:51EE  21 23 00            	ld	hl,35	;const
    2528.  03:51F1  39                  	add	hl,sp
    2529.  03:51F2  AF                  	xor	a
    2530.  03:51F3  77                  	ld	(hl),a
    2531.  03:51F4  23                  	inc	hl
    2532.  03:51F5  77                  	ld	(hl),a
    2533.  03:51F6  C3 2A 54            	jp	i_141	;EOS
    2534.  03:51F9                      i_165
    2535.  03:51F9  2A 3E 54            	ld	hl,(_CardType)
    2536.  03:51FC  26 00               	ld	h,0
    2537.  03:51FE  3E 06               	ld	a,6
    2538.  03:5200  A5                  	and	l
    2539.  03:5201  6F                  	ld	l,a
    2540.  03:5202  CD 3F 54            	call	l_lneg
    2541.  03:5205  DA 2A 54            	jp	c,i_141	;EOS
    2542.  03:5208                      i_166
    2543.  03:5208  21 2B 00            	ld	hl,43	;const
    2544.  03:520B  39                  	add	hl,sp
    2545.  03:520C  6E                  	ld	l,(hl)
    2546.  03:520D  26 00               	ld	h,0
    2547.  03:520F  E5                  	push	hl
    2548.  03:5210  21 0B 00            	ld	hl,11	;const
    2549.  03:5213  E5                  	push	hl
    2550.  03:5214  2E 08               	ld	l,8	
    2551.  03:5216  39                  	add	hl,sp
    2552.  03:5217  E5                  	push	hl
    2553.  03:5218  CD C8 4E            	call	disk_ioctl
    2554.  03:521B  C1                  	pop	bc
    2555.  03:521C  C1                  	pop	bc
    2556.  03:521D  C1                  	pop	bc
    2557.  03:521E  7C                  	ld	a,h
    2558.  03:521F  B5                  	or	l
    2559.  03:5220  C2 2A 54            	jp	nz,i_141	;EOS
    2560.  03:5223                      i_167
    2561.  03:5223  21 04 00            	ld	hl,4	;const
    2562.  03:5226  39                  	add	hl,sp
    2563.  03:5227  6E                  	ld	l,(hl)
    2564.  03:5228  26 00               	ld	h,0
    2565.  03:522A  7D                  	ld	a,l
    2566.  03:522B  07                  	rlca
    2567.  03:522C  07                  	rlca
    2568.  03:522D  E6 03               	and	3
    2569.  03:522F  6F                  	ld	l,a
    2570.  03:5230  CD 3F 54            	call	l_lneg
    2571.  03:5233  D2 42 52            	jp	nc,i_169	;
    2572.  03:5236  21 0E 00            	ld	hl,14	;const
    2573.  03:5239  39                  	add	hl,sp
    2574.  03:523A  CB 76               	bit	6,(hl)
    2575.  03:523C  C2 42 52            	jp	nz,i_169	;
    2576.  03:523F  C3 2A 54            	jp	i_141	;EOS
    2577.  03:5242                      i_168
    2578.  03:5242  21 21 00            	ld	hl,33	;const
    2579.  03:5245  39                  	add	hl,sp
    2580.  03:5246  EB                  	ex	de,hl
    2581.  03:5247  21 27 00            	ld	hl,39	;const
    2582.  03:524A  39                  	add	hl,sp
    2583.  03:524B  ED A0               	ldi
    2584.  03:524D  ED A0               	ldi
    2585.  03:524F  21 1D 00            	ld	hl,29	;const
    2586.  03:5252  39                  	add	hl,sp
    2587.  03:5253  E5                  	push	hl
    2588.  03:5254  21 23 00            	ld	hl,35	;const
    2589.  03:5257  39                  	add	hl,sp
    2590.  03:5258  CD DA 54            	call	l_glonghlp
    2591.  03:525B  C1                  	pop	bc
    2592.  03:525C  CD C3 54            	call	l_plong
    2593.  03:525F  21 19 00            	ld	hl,25	;const
    2594.  03:5262  39                  	add	hl,sp
    2595.  03:5263  E5                  	push	hl
    2596.  03:5264  21 23 00            	ld	hl,35	;const
    2597.  03:5267  39                  	add	hl,sp
    2598.  03:5268  4E                  	ld	c,(hl)
    2599.  03:5269  23                  	inc	hl
    2600.  03:526A  46                  	ld	b,(hl)
    2601.  03:526B  21 04 00            	ld	hl,4
    2602.  03:526E  09                  	add	hl,bc
    2603.  03:526F  CD DE 54            	call	l_glong
    2604.  03:5272  C1                  	pop	bc
    2605.  03:5273  CD C3 54            	call	l_plong
    2606.  03:5276  2A 3E 54            	ld	hl,(_CardType)
    2607.  03:5279  26 00               	ld	h,0
    2608.  03:527B  3E 08               	ld	a,8
    2609.  03:527D  A5                  	and	l
    2610.  03:527E  6F                  	ld	l,a
    2611.  03:527F  CD 3F 54            	call	l_lneg
    2612.  03:5282  D2 AF 52            	jp	nc,i_171	;
    2613.  03:5285  21 1D 00            	ld	hl,29	;const
    2614.  03:5288  39                  	add	hl,sp
    2615.  03:5289  E5                  	push	hl
    2616.  03:528A  CD CF 54            	call	l_glong2sp
    2617.  03:528D  21 00 02            	ld	hl,512	;const
    2618.  03:5290  11 00 00            	ld	de,0
    2619.  03:5293  CD 38 55            	call	l_long_mult
    2620.  03:5296  C1                  	pop	bc
    2621.  03:5297  CD C3 54            	call	l_plong
    2622.  03:529A  21 19 00            	ld	hl,25	;const
    2623.  03:529D  39                  	add	hl,sp
    2624.  03:529E  E5                  	push	hl
    2625.  03:529F  CD CF 54            	call	l_glong2sp
    2626.  03:52A2  21 00 02            	ld	hl,512	;const
    2627.  03:52A5  11 00 00            	ld	de,0
    2628.  03:52A8  CD 38 55            	call	l_long_mult
    2629.  03:52AB  C1                  	pop	bc
    2630.  03:52AC  CD C3 54            	call	l_plong
    2631.  03:52AF                      i_171
    2632.  03:52AF  21 20 00            	ld	hl,32	;const
    2633.  03:52B2  E5                  	push	hl
    2634.  03:52B3  2E 1F               	ld	l,31	
    2635.  03:52B5  39                  	add	hl,sp
    2636.  03:52B6  CD DE 54            	call	l_glong
    2637.  03:52B9  D5                  	push	de
    2638.  03:52BA  E5                  	push	hl
    2639.  03:52BB  CD F2 45            	call	_send_cmd
    2640.  03:52BE  C1                  	pop	bc
    2641.  03:52BF  C1                  	pop	bc
    2642.  03:52C0  C1                  	pop	bc
    2643.  03:52C1  7C                  	ld	a,h
    2644.  03:52C2  B5                  	or	l
    2645.  03:52C3  20 01               	jr	nz,$+3
    2646.  03:52C5  37                  	scf
    2647.  03:52C6  D2 2A 54            	jp	nc,i_173	;
    2648.  03:52C9  21 21 00            	ld	hl,33	;const
    2649.  03:52CC  E5                  	push	hl
    2650.  03:52CD  2E 1B               	ld	l,27	
    2651.  03:52CF  39                  	add	hl,sp
    2652.  03:52D0  CD DE 54            	call	l_glong
    2653.  03:52D3  D5                  	push	de
    2654.  03:52D4  E5                  	push	hl
    2655.  03:52D5  CD F2 45            	call	_send_cmd
    2656.  03:52D8  C1                  	pop	bc
    2657.  03:52D9  C1                  	pop	bc
    2658.  03:52DA  C1                  	pop	bc
    2659.  03:52DB  7C                  	ld	a,h
    2660.  03:52DC  B5                  	or	l
    2661.  03:52DD  20 01               	jr	nz,$+3
    2662.  03:52DF  37                  	scf
    2663.  03:52E0  D2 2A 54            	jp	nc,i_173	;
    2664.  03:52E3  21 26 00            	ld	hl,38	;const
    2665.  03:52E6  E5                  	push	hl
    2666.  03:52E7  2E 00               	ld	l,0	
    2667.  03:52E9  54                  	ld	d,h
    2668.  03:52EA  5D                  	ld	e,l
    2669.  03:52EB  D5                  	push	de
    2670.  03:52EC  E5                  	push	hl
    2671.  03:52ED  CD F2 45            	call	_send_cmd
    2672.  03:52F0  C1                  	pop	bc
    2673.  03:52F1  C1                  	pop	bc
    2674.  03:52F2  C1                  	pop	bc
    2675.  03:52F3  7C                  	ld	a,h
    2676.  03:52F4  B5                  	or	l
    2677.  03:52F5  20 01               	jr	nz,$+3
    2678.  03:52F7  37                  	scf
    2679.  03:52F8  D2 2A 54            	jp	nc,i_173	;
    2680.  03:52FB  21 01 00            	ld	hl,1	;const
    2681.  03:52FE  E5                  	push	hl
    2682.  03:52FF  CD B5 44            	call	_wait_ready
    2683.  03:5302  C1                  	pop	bc
    2684.  03:5303  7C                  	ld	a,h
    2685.  03:5304  B5                  	or	l
    2686.  03:5305  CA 2A 54            	jp	z,i_173	;
    2687.  03:5308                      i_174_i_173
    2688.  03:5308  21 23 00            	ld	hl,35	;const
    2689.  03:530B  39                  	add	hl,sp
    2690.  03:530C  AF                  	xor	a
    2691.  03:530D  77                  	ld	(hl),a
    2692.  03:530E  23                  	inc	hl
    2693.  03:530F  77                  	ld	(hl),a
    2694.  03:5310  C3 2A 54            	jp	i_141	;EOS
    2695.  03:5313                      i_175
    2696.  03:5313  C1                  	pop	bc
    2697.  03:5314  E1                  	pop	hl
    2698.  03:5315  E5                  	push	hl
    2699.  03:5316  C5                  	push	bc
    2700.  03:5317  E5                  	push	hl
    2701.  03:5318  21 3E 54            	ld	hl,_CardType
    2702.  03:531B  7E                  	ld	a,(hl)
    2703.  03:531C  D1                  	pop	de
    2704.  03:531D  12                  	ld	(de),a
    2705.  03:531E  21 23 00            	ld	hl,35	;const
    2706.  03:5321  39                  	add	hl,sp
    2707.  03:5322  AF                  	xor	a
    2708.  03:5323  77                  	ld	(hl),a
    2709.  03:5324  23                  	inc	hl
    2710.  03:5325  77                  	ld	(hl),a
    2711.  03:5326  C3 2A 54            	jp	i_141	;EOS
    2712.  03:5329                      i_176
    2713.  03:5329  21 09 00            	ld	hl,9	;const
    2714.  03:532C  E5                  	push	hl
    2715.  03:532D  2E 00               	ld	l,0	
    2716.  03:532F  54                  	ld	d,h
    2717.  03:5330  5D                  	ld	e,l
    2718.  03:5331  D5                  	push	de
    2719.  03:5332  E5                  	push	hl
    2720.  03:5333  CD F2 45            	call	_send_cmd
    2721.  03:5336  C1                  	pop	bc
    2722.  03:5337  C1                  	pop	bc
    2723.  03:5338  C1                  	pop	bc
    2724.  03:5339  7C                  	ld	a,h
    2725.  03:533A  B5                  	or	l
    2726.  03:533B  20 01               	jr	nz,$+3
    2727.  03:533D  37                  	scf
    2728.  03:533E  D2 2A 54            	jp	nc,i_178	;
    2729.  03:5341  21 02 00            	ld	hl,2	;const
    2730.  03:5344  39                  	add	hl,sp	;l_gintspsp
    2731.  03:5345  7E                  	ld	a,(hl)
    2732.  03:5346  23                  	inc	hl
    2733.  03:5347  66                  	ld	h,(hl)
    2734.  03:5348  6F                  	ld	l,a
    2735.  03:5349  E5                  	push	hl
    2736.  03:534A  21 10 00            	ld	hl,16	;const
    2737.  03:534D  E5                  	push	hl
    2738.  03:534E  CD E7 44            	call	_read_data
    2739.  03:5351  C1                  	pop	bc
    2740.  03:5352  C1                  	pop	bc
    2741.  03:5353  7C                  	ld	a,h
    2742.  03:5354  B5                  	or	l
    2743.  03:5355  CA 2A 54            	jp	z,i_178	;
    2744.  03:5358                      i_179_i_178
    2745.  03:5358  21 23 00            	ld	hl,35	;const
    2746.  03:535B  39                  	add	hl,sp
    2747.  03:535C  AF                  	xor	a
    2748.  03:535D  77                  	ld	(hl),a
    2749.  03:535E  23                  	inc	hl
    2750.  03:535F  77                  	ld	(hl),a
    2751.  03:5360  C3 2A 54            	jp	i_141	;EOS
    2752.  03:5363                      i_180
    2753.  03:5363  21 0A 00            	ld	hl,10	;const
    2754.  03:5366  E5                  	push	hl
    2755.  03:5367  2E 00               	ld	l,0	
    2756.  03:5369  54                  	ld	d,h
    2757.  03:536A  5D                  	ld	e,l
    2758.  03:536B  D5                  	push	de
    2759.  03:536C  E5                  	push	hl
    2760.  03:536D  CD F2 45            	call	_send_cmd
    2761.  03:5370  C1                  	pop	bc
    2762.  03:5371  C1                  	pop	bc
    2763.  03:5372  C1                  	pop	bc
    2764.  03:5373  7C                  	ld	a,h
    2765.  03:5374  B5                  	or	l
    2766.  03:5375  20 01               	jr	nz,$+3
    2767.  03:5377  37                  	scf
    2768.  03:5378  D2 2A 54            	jp	nc,i_182	;
    2769.  03:537B  21 02 00            	ld	hl,2	;const
    2770.  03:537E  39                  	add	hl,sp	;l_gintspsp
    2771.  03:537F  7E                  	ld	a,(hl)
    2772.  03:5380  23                  	inc	hl
    2773.  03:5381  66                  	ld	h,(hl)
    2774.  03:5382  6F                  	ld	l,a
    2775.  03:5383  E5                  	push	hl
    2776.  03:5384  21 10 00            	ld	hl,16	;const
    2777.  03:5387  E5                  	push	hl
    2778.  03:5388  CD E7 44            	call	_read_data
    2779.  03:538B  C1                  	pop	bc
    2780.  03:538C  C1                  	pop	bc
    2781.  03:538D  7C                  	ld	a,h
    2782.  03:538E  B5                  	or	l
    2783.  03:538F  CA 2A 54            	jp	z,i_182	;
    2784.  03:5392                      i_183_i_182
    2785.  03:5392  21 23 00            	ld	hl,35	;const
    2786.  03:5395  39                  	add	hl,sp
    2787.  03:5396  AF                  	xor	a
    2788.  03:5397  77                  	ld	(hl),a
    2789.  03:5398  23                  	inc	hl
    2790.  03:5399  77                  	ld	(hl),a
    2791.  03:539A  C3 2A 54            	jp	i_141	;EOS
    2792.  03:539D                      i_184
    2793.  03:539D  21 3A 00            	ld	hl,58	;const
    2794.  03:53A0  E5                  	push	hl
    2795.  03:53A1  2E 00               	ld	l,0	
    2796.  03:53A3  54                  	ld	d,h
    2797.  03:53A4  5D                  	ld	e,l
    2798.  03:53A5  D5                  	push	de
    2799.  03:53A6  E5                  	push	hl
    2800.  03:53A7  CD F2 45            	call	_send_cmd
    2801.  03:53AA  C1                  	pop	bc
    2802.  03:53AB  C1                  	pop	bc
    2803.  03:53AC  C1                  	pop	bc
    2804.  03:53AD  7C                  	ld	a,h
    2805.  03:53AE  B5                  	or	l
    2806.  03:53AF  20 01               	jr	nz,$+3
    2807.  03:53B1  37                  	scf
    2808.  03:53B2  D2 2A 54            	jp	nc,i_185	;
    2809.  03:53B5  21 14 00            	ld	hl,20	;const
    2810.  03:53B8  39                  	add	hl,sp
    2811.  03:53B9  36 04               	ld	(hl),4
    2812.  03:53BB  C3 C3 53            	jp	i_188	;EOS
    2813.  03:53BE                      i_186
    2814.  03:53BE  21 14 00            	ld	hl,20	;const
    2815.  03:53C1  39                  	add	hl,sp
    2816.  03:53C2  35                  	dec	(hl)
    2817.  03:53C3                      i_188
    2818.  03:53C3  21 14 00            	ld	hl,20	;const
    2819.  03:53C6  39                  	add	hl,sp
    2820.  03:53C7  7E                  	ld	a,(hl)
    2821.  03:53C8  A7                  	and	a
    2822.  03:53C9  CA DC 53            	jp	z,i_187	;
    2823.  03:53CC  D1                  	pop	de
    2824.  03:53CD  E1                  	pop	hl
    2825.  03:53CE  23                  	inc	hl
    2826.  03:53CF  E5                  	push	hl
    2827.  03:53D0  D5                  	push	de
    2828.  03:53D1  2B                  	dec	hl
    2829.  03:53D2  E5                  	push	hl
    2830.  03:53D3  CD 1C 44            	call	_sd_read_byte
    2831.  03:53D6  D1                  	pop	de
    2832.  03:53D7  7D                  	ld	a,l
    2833.  03:53D8  12                  	ld	(de),a
    2834.  03:53D9  C3 BE 53            	jp	i_186	;EOS
    2835.  03:53DC                      i_187
    2836.  03:53DC  21 23 00            	ld	hl,35	;const
    2837.  03:53DF  39                  	add	hl,sp
    2838.  03:53E0  AF                  	xor	a
    2839.  03:53E1  77                  	ld	(hl),a
    2840.  03:53E2  23                  	inc	hl
    2841.  03:53E3  77                  	ld	(hl),a
    2842.  03:53E4  C3 2A 54            	jp	i_141	;EOS
    2843.  03:53E7                      i_189
    2844.  03:53E7  21 8D 00            	ld	hl,141	;const
    2845.  03:53EA  E5                  	push	hl
    2846.  03:53EB  2E 00               	ld	l,0	
    2847.  03:53ED  54                  	ld	d,h
    2848.  03:53EE  5D                  	ld	e,l
    2849.  03:53EF  D5                  	push	de
    2850.  03:53F0  E5                  	push	hl
    2851.  03:53F1  CD F2 45            	call	_send_cmd
    2852.  03:53F4  C1                  	pop	bc
    2853.  03:53F5  C1                  	pop	bc
    2854.  03:53F6  C1                  	pop	bc
    2855.  03:53F7  7C                  	ld	a,h
    2856.  03:53F8  B5                  	or	l
    2857.  03:53F9  20 01               	jr	nz,$+3
    2858.  03:53FB  37                  	scf
    2859.  03:53FC  D2 2A 54            	jp	nc,i_191	;
    2860.  03:53FF  21 02 00            	ld	hl,2	;const
    2861.  03:5402  39                  	add	hl,sp	;l_gintspsp
    2862.  03:5403  7E                  	ld	a,(hl)
    2863.  03:5404  23                  	inc	hl
    2864.  03:5405  66                  	ld	h,(hl)
    2865.  03:5406  6F                  	ld	l,a
    2866.  03:5407  E5                  	push	hl
    2867.  03:5408  21 40 00            	ld	hl,64	;const
    2868.  03:540B  E5                  	push	hl
    2869.  03:540C  CD E7 44            	call	_read_data
    2870.  03:540F  C1                  	pop	bc
    2871.  03:5410  C1                  	pop	bc
    2872.  03:5411  7C                  	ld	a,h
    2873.  03:5412  B5                  	or	l
    2874.  03:5413  CA 2A 54            	jp	z,i_191	;
    2875.  03:5416                      i_192_i_191
    2876.  03:5416  21 23 00            	ld	hl,35	;const
    2877.  03:5419  39                  	add	hl,sp
    2878.  03:541A  AF                  	xor	a
    2879.  03:541B  77                  	ld	(hl),a
    2880.  03:541C  23                  	inc	hl
    2881.  03:541D  77                  	ld	(hl),a
    2882.  03:541E  C3 2A 54            	jp	i_141	;EOS
    2883.  03:5421                      i_193
    2884.  03:5421  21 23 00            	ld	hl,35	;const
    2885.  03:5424  39                  	add	hl,sp
    2886.  03:5425  36 04               	ld	(hl),4
    2887.  03:5427  23                  	inc	hl
    2888.  03:5428  36 00               	ld	(hl),0
    2889.  03:542A                      i_141
    2890.  03:542A  CD 9C 44            	call	_deselect
    2891.  03:542D  21 23 00            	ld	hl,35	;const
    2892.  03:5430  39                  	add	hl,sp
    2893.  03:5431  7E                  	ld	a,(hl)	;l_gint
    2894.  03:5432  23                  	inc	hl
    2895.  03:5433  66                  	ld	h,(hl)
    2896.  03:5434  6F                  	ld	l,a
    2897.  03:5435  D9                  	exx
    2898.  03:5436  21 25 00            	ld	hl,37	;const
    2899.  03:5439  39                  	add	hl,sp
    2900.  03:543A  F9                  	ld	sp,hl
    2901.  03:543B  D9                  	exx
    2902.  03:543C  C9                  	ret
    2903.  03:543D                      
    2904.  03:543D                      
    2905.  03:543D                      ; --- Start of Optimiser additions ---
    2906.  03:543D  (03:44B6)           i_7 = i_6
    2907.  03:543D  (03:4522)           i_12 = i_15
    2908.  03:543D  (03:4BA4)           i_67 = i_66
    2909.  03:543D  (03:4BA4)           i_66 = i_59
    2910.  03:543D  (03:4BA4)           i_83 = i_77
    2911.  03:543D  (03:4BA4)           i_84 = i_70
    2912.  03:543D  (03:4BD8)           i_88 = i_85
    2913.  03:543D  (03:4BD8)           i_85 = i_57
    2914.  03:543D  (03:4C53)           i_97 = i_100
    2915.  03:543D  (03:4D17)           i_109 = i_104
    2916.  03:543D  (03:4D82)           i_118 = i_121
    2917.  03:543D  (03:4E97)           i_132 = i_127
    2918.  03:543D  (03:4E97)           i_127 = i_125
    2919.  03:543D  (03:542A)           i_160 = i_159
    2920.  03:543D  (03:44B6)           i_5 = i_6
    2921.  03:543D  (03:44B6)           i_6 = i_2
    2922.  03:543D  (03:44F1)           i_11 = i_8
    2923.  03:543D  (03:4558)           i_19 = i_16
    2924.  03:543D  (03:467B)           i_30 = i_28
    2925.  03:543D  (03:4656)           i_31_i_30 = i_27
    2926.  03:543D  (03:477F)           i_38 = i_36
    2927.  03:543D  (03:475A)           i_39_i_38 = i_35
    2928.  03:543D  (03:4BA4)           i_60 = i_59
    2929.  03:543D  (03:4BA4)           i_59 = i_70
    2930.  03:543D  (03:4BA4)           i_77 = i_84
    2931.  03:543D  (03:4BD8)           i_86 = i_85
    2932.  03:543D  (03:4D31)           i_110 = i_99
    2933.  03:543D  (03:4C53)           i_111_i_110 = i_100
    2934.  03:543D  (03:4E97)           i_124 = i_125
    2935.  03:543D  (03:4E97)           i_133 = i_132
    2936.  03:543D  (03:4EB1)           i_135 = i_120
    2937.  03:543D  (03:4D82)           i_136_i_135 = i_121
    2938.  03:543D  (03:542A)           i_146 = i_145
    2939.  03:543D  (03:542A)           i_145 = i_141
    2940.  03:543D  (03:542A)           i_154 = i_153
    2941.  03:543D  (03:542A)           i_153 = i_159
    2942.  03:543D  (03:542A)           i_161 = i_160
    2943.  03:543D  (03:542A)           i_159 = i_141
    2944.  03:543D  (03:5242)           i_169 = i_168
    2945.  03:543D  (03:542A)           i_170_i_169 = i_141
    2946.  03:543D  (03:542A)           i_173 = i_172
    2947.  03:543D  (03:542A)           i_172 = i_141
    2948.  03:543D  (03:542A)           i_178 = i_177
    2949.  03:543D  (03:542A)           i_177 = i_141
    2950.  03:543D  (03:542A)           i_182 = i_181
    2951.  03:543D  (03:542A)           i_181 = i_141
    2952.  03:543D  (03:542A)           i_185 = i_141
    2953.  03:543D  (03:542A)           i_191 = i_190
    2954.  03:543D  (03:542A)           i_190 = i_141
    2955.  03:543D                      
    2956.  03:543D                      
    2957.  03:543D                      ; --- Start of Static Variables ---
    2958.  03:543D                      
    2959.  03:543D                      	SECTION	bss_compiler
    2960.  03:543D  00 (1)              _Stat	defs	1
    2961.  03:543E  00 (1)              _CardType	defs	1
    2962.  03:543F                      	SECTION	code_compiler
    2963.  03:543F                      	
    2964.  03:543F                      
    2965.  03:543F                      
    2966.  03:543F                      ; --- Start of Scope Defns ---
    2967.  03:543F                      
    2968.  03:543F                      	GLOBAL	disk_initialize
    2969.  03:543F                      	GLOBAL	disk_status
    2970.  03:543F                      	GLOBAL	disk_read
    2971.  03:543F                      	GLOBAL	disk_write
    2972.  03:543F                      	GLOBAL	disk_ioctl
    2973.  03:543F                      	GLOBAL	_sd_cs_raise
    2974.  03:543F                      	GLOBAL	_sd_cs_lower
    2975.  03:543F                      	GLOBAL	_sd_read_byte
    2976.  03:543F                      	GLOBAL	_sd_write_byte
    2977.  03:543F                      	GLOBAL	_sd_clock
    2978.  03:543F                      	GLOBAL	_hbios
    2979.  03:543F                      	GLOBAL	_sd_read_block
    2980.  03:543F                      	GLOBAL	_sd_write_block
    2981.  03:543F                      
    2982.  03:543F                      
    2983.  03:543F                      ; --- End of Scope Defns ---
    2984.  03:543F                      
    2985.  03:543F                      
    2986.  03:543F                      ; --- End of Compilation ---
     258   03:543F                        ENDMODULE		; FF
     259   03:543F                        INCLUDE "c.asm"
       1.  03:543F                      @l_lneg
       2.  03:543F                         ; HL = !HL
       3.  03:543F                         ; set carry if result is zero
       4.  03:543F                      
       5.  03:543F  7C                     ld a,h
       6.  03:5440  B5                     or l
       7.  03:5441  21 00 00               ld hl,0
       8.  03:5444  C0                     ret nz
       9.  03:5445  37                     scf
      10.  03:5446  2C                     inc l
      11.  03:5447  C9                     ret 
      12.  03:5448                        
      13.  03:5448                      @l_or
      14.  03:5448                         ; "or" HL and DE into HL
      15.  03:5448  7D                     ld a,l
      16.  03:5449  B3                     or e
      17.  03:544A  6F                     ld l,a
      18.  03:544B                      
      19.  03:544B  7C                     ld a,h
      20.  03:544C  B2                     or d
      21.  03:544D  67                     ld h,a
      22.  03:544E                      
      23.  03:544E  C9                     ret 
      24.  03:544F                      
      25.  03:544F                      @l_and
      26.  03:544F                         ; "and" HL and DE into HL
      27.  03:544F  7D                     ld a,l
      28.  03:5450  A3                     and e
      29.  03:5451  6F                     ld l,a
      30.  03:5452                      
      31.  03:5452  7C                     ld a,h
      32.  03:5453  A2                     and d
      33.  03:5454  67                     ld h,a
      34.  03:5455                      
      35.  03:5455  C9                     ret  
      36.  03:5456                      
      37.  03:5456                      @l_asl
      38.  03:5456                         ; shift DE left arithmetically by HL, move to HL
      39.  03:5456                      
      40.  03:5456  7D                     ld a,l
      41.  03:5457  EB                     ex de,hl
      42.  03:5458                         
      43.  03:5458                      l_lsl_hl:
      44.  03:5458                      l_small_lsl_hl:
      45.  03:5458                         ; logical shift left 16-bit number
      46.  03:5458                         ;
      47.  03:5458                         ; enter : hl = 16-bit number
      48.  03:5458                         ;          a = shift amount
      49.  03:5458                         ;
      50.  03:5458                         ; exit  : hl = hl << a
      51.  03:5458                         ;
      52.  03:5458                         ; uses  : af, b, hl
      53.  03:5458  B7                     or a
      54.  03:5459  C8                     ret z
      55.  03:545A                      
      56.  03:545A  FE 10                  cp 16
      57.  03:545C  D2 32 55               jp nc, error_znc
      58.  03:545F                      
      59.  03:545F  47                     ld b,a
      60.  03:5460                      .shift_loop:
      61.  03:5460  29                     add hl,hl
      62.  03:5461  10 FD                  djnz .shift_loop
      63.  03:5463                      
      64.  03:5463  C9                     ret 
      65.  03:5464                      
      66.  03:5464                      @l_mult_u
      67.  03:5464                      l_small_mul_16_16x16:
      68.  03:5464                         ; multiplication of two 16-bit numbers into a 16-bit product
      69.  03:5464                         ;
      70.  03:5464                         ; enter : de = 16-bit multiplicand
      71.  03:5464                         ;         hl = 16-bit multiplicand
      72.  03:5464                         ;
      73.  03:5464                         ; exit  : hl = 16-bit product
      74.  03:5464                         ;         carry reset
      75.  03:5464                         ;
      76.  03:5464                         ; uses  : af, bc, de, hl
      77.  03:5464                      
      78.  03:5464  24                     inc h
      79.  03:5465  25                     dec h
      80.  03:5466  28 0B                  jr z, .eight_bit_1
      81.  03:5468                         
      82.  03:5468  14                     inc d
      83.  03:5469  15                     dec d
      84.  03:546A  28 06                  jr z, .eight_bit_0
      85.  03:546C                         
      86.  03:546C  4D                     ld c,l
      87.  03:546D  7C                     ld a,h
      88.  03:546E  06 10                  ld b,16
      89.  03:5470                         
      90.  03:5470  18 04                  jr rejoin
      91.  03:5472                      
      92.  03:5472                      .eight_bit_0:
      93.  03:5472  EB                     ex de,hl
      94.  03:5473                      
      95.  03:5473                      .eight_bit_1:
      96.  03:5473                      
      97.  03:5473                      l_small_mul_16_16x8
      98.  03:5473                         ; multiplication of a 16-bit number by an 8-bit number into 16-bit product
      99.  03:5473                         ;
     100.  03:5473                         ; enter :  l = 8-bit multiplicand
     101.  03:5473                         ;         de = 16-bit multiplicand
     102.  03:5473                         ;
     103.  03:5473                         ; exit  : hl = 16-bit product
     104.  03:5473                         ;         carry reset
     105.  03:5473                         ;
     106.  03:5473                         ; uses  : af, bc, hl
     107.  03:5473                      
     108.  03:5473  7D                     ld a,l
     109.  03:5474  06 08                  ld b,8
     110.  03:5476                      rejoin:
     111.  03:5476  21 00 00               ld hl,0
     112.  03:5479                      .loop_0:
     113.  03:5479                         ; ac = 16-bit multiplicand
     114.  03:5479                         ; de = 16-bit multiplicand
     115.  03:5479                         ;  b = iterations
     116.  03:5479  29                     add hl,hl
     117.  03:547A  CB 11                  rl c
     118.  03:547C  17                     rla
     119.  03:547D  30 01                  jr nc, .loop_1
     120.  03:547F  19                     add hl,de
     121.  03:5480                      .loop_1:
     122.  03:5480  10 F7                  djnz .loop_0
     123.  03:5482  B7                     or a
     124.  03:5483  C9                     ret 
     125.  03:5484                      
     126.  03:5484                      @l_div_u
     127.  03:5484                      ; unsigned division
     128.  03:5484                      ; hl = de/hl, de = de%hl
     129.  03:5484                      
     130.  03:5484                      ; defc l_div_u = l_divu_16_16x16 - 1 
     131.  03:5484                         ; entry point to swap dividend / divisor
     132.  03:5484                      
     133.  03:5484  EB                     ex de,hl
     134.  03:5485                      l_divu_16_16x16:
     135.  03:5485                      l_small_divu_16_16x16:
     136.  03:5485                      
     137.  03:5485                         ; unsigned division of 16-bit numbers
     138.  03:5485                         ;
     139.  03:5485                         ; enter : hl = 16-bit dividend
     140.  03:5485                         ;         de = 16-bit divisor
     141.  03:5485                         ;
     142.  03:5485                         ; exit  : success
     143.  03:5485                         ;
     144.  03:5485                         ;            hl = quotient
     145.  03:5485                         ;            de = remainder
     146.  03:5485                         ;            carry reset
     147.  03:5485                         ;
     148.  03:5485                         ;         divide by zero
     149.  03:5485                         ;
     150.  03:5485                         ;            hl = $ffff = UINT_MAX
     151.  03:5485                         ;            de = dividend
     152.  03:5485                         ;            carry set, errno = EDOM
     153.  03:5485                         ;
     154.  03:5485                         ; uses  : af, bc, de, hl
     155.  03:5485                      
     156.  03:5485  7A                     ld a,d
     157.  03:5486  B3                     or e
     158.  03:5487  28 32                  jr z, divide_zero
     159.  03:5489                      
     160.  03:5489                      l0_small_divu_16_16x16:
     161.  03:5489                      
     162.  03:5489                         ; skip divide by zero check
     163.  03:5489                      
     164.  03:5489  14                     inc d
     165.  03:548A  15                     dec d
     166.  03:548B  28 1C                  jr z, l0_small_divu_16_16x8
     167.  03:548D                      
     168.  03:548D                      divisor_sixteen_bit:
     169.  03:548D                      
     170.  03:548D                         ; result of the first eight iterations are known
     171.  03:548D                         ; so let's initialize as if that already happened
     172.  03:548D                      
     173.  03:548D  7D                     ld a,l
     174.  03:548E  6C                     ld l,h
     175.  03:548F  26 00                  ld h,0
     176.  03:5491  06 08                  ld b,8
     177.  03:5493                      
     178.  03:5493                      .loop_16_0:
     179.  03:5493                      
     180.  03:5493  17                     rla
     181.  03:5494  ED 6A                  adc hl,hl
     182.  03:5496                         
     183.  03:5496  ED 52                  sbc hl,de
     184.  03:5498  30 01                  jr nc, .loop_16_1
     185.  03:549A  19                     add hl,de
     186.  03:549B                      
     187.  03:549B                      .loop_16_1:
     188.  03:549B                      
     189.  03:549B  3F                     ccf
     190.  03:549C  10 F5                  djnz .loop_16_0
     191.  03:549E                      
     192.  03:549E  17                     rla
     193.  03:549F                         
     194.  03:549F  50                     ld d,b
     195.  03:54A0  5F                     ld e,a
     196.  03:54A1  EB                     ex de,hl
     197.  03:54A2                      
     198.  03:54A2  B7                     or a
     199.  03:54A3  C9                     ret
     200.  03:54A4                      
     201.  03:54A4                         ; entry point to swap dividend / divisor
     202.  03:54A4                         
     203.  03:54A4  EB                     ex de,hl
     204.  03:54A5                      
     205.  03:54A5                      l_small_divu_16_16x8:
     206.  03:54A5                      
     207.  03:54A5                         ; unsigned division of 16-bit by 8-bit
     208.  03:54A5                         ;
     209.  03:54A5                         ; enter : hl = 16-bit dividend
     210.  03:54A5                         ;          e = 8-bit divisor
     211.  03:54A5                         ;
     212.  03:54A5                         ; exit  : success
     213.  03:54A5                         ;
     214.  03:54A5                         ;            hl = quotient
     215.  03:54A5                         ;            de = remainder
     216.  03:54A5                         ;            carry reset
     217.  03:54A5                         ;
     218.  03:54A5                         ;         divide by zero
     219.  03:54A5                         ;
     220.  03:54A5                         ;            hl = $ffff = UINT_MAX
     221.  03:54A5                         ;            de = dividend
     222.  03:54A5                         ;            carry set, errno = EDOM
     223.  03:54A5                         ;
     224.  03:54A5                         ; uses  : af, bc, de, hl
     225.  03:54A5                      
     226.  03:54A5  1C                     inc e
     227.  03:54A6  1D                     dec e
     228.  03:54A7  28 12                  jr z, divide_zero
     229.  03:54A9                      
     230.  03:54A9                      l0_small_divu_16_16x8:
     231.  03:54A9                      
     232.  03:54A9  AF                     xor a
     233.  03:54AA  57                     ld d,a
     234.  03:54AB  06 10                  ld b,16
     235.  03:54AD                      
     236.  03:54AD                      .loop_8_0:
     237.  03:54AD                      
     238.  03:54AD  29                     add hl,hl
     239.  03:54AE  17                     rla
     240.  03:54AF  38 03                  jr c, .loop_8_2
     241.  03:54B1                         
     242.  03:54B1  BB                     cp e
     243.  03:54B2  38 02                  jr c, .loop_8_1
     244.  03:54B4                      
     245.  03:54B4                      .loop_8_2:
     246.  03:54B4                      
     247.  03:54B4  93                     sub e
     248.  03:54B5  2C                     inc l
     249.  03:54B6                      
     250.  03:54B6                      .loop_8_1:
     251.  03:54B6                      
     252.  03:54B6  10 F5                  djnz .loop_8_0
     253.  03:54B8                      
     254.  03:54B8  5F                     ld e,a
     255.  03:54B9                         
     256.  03:54B9  B7                     or a
     257.  03:54BA  C9                     ret
     258.  03:54BB                      
     259.  03:54BB                      divide_zero:
     260.  03:54BB                      
     261.  03:54BB  EB                     ex de,hl
     262.  03:54BC  2E FF                  ld l,$ff                    ; unspecified error
     263.  03:54BE                      
     264.  03:54BE                      errno_mc:
     265.  03:54BE                         ; set errno = l
     266.  03:54BE                         ; set hl = -1
     267.  03:54BE                         ; set carry flag
     268.  03:54BE                            
     269.  03:54BE                      ;   ld h,0
     270.  03:54BE                      ;   ld (_errno),hl
     271.  03:54BE                      error_mc:
     272.  03:54BE                         ; set hl = -1
     273.  03:54BE                         ; set carry flag
     274.  03:54BE  21 FF FF               ld hl,-1
     275.  03:54C1  37                     scf
     276.  03:54C2  C9                     ret 
     277.  03:54C3                      
     278.  03:54C3                      @l_plong
     279.  03:54C3  7D                     ld a,l
     280.  03:54C4                         
     281.  03:54C4  02                     ld (bc),a
     282.  03:54C5  03                     inc bc
     283.  03:54C6                         
     284.  03:54C6  7C                     ld a,h
     285.  03:54C7                         
     286.  03:54C7  02                     ld (bc),a
     287.  03:54C8  03                     inc bc
     288.  03:54C9                         
     289.  03:54C9  7B                     ld a,e
     290.  03:54CA                         
     291.  03:54CA  02                     ld (bc),a
     292.  03:54CB  03                     inc bc
     293.  03:54CC                         
     294.  03:54CC  7A                     ld a,d
     295.  03:54CD                         
     296.  03:54CD  02                     ld (bc),a
     297.  03:54CE  C9                     ret 
     298.  03:54CF                         
     299.  03:54CF                      @l_glong2sp
     300.  03:54CF                      ; Fetch long from hl and push to stack
     301.  03:54CF  5E                      ld      e,(hl)
     302.  03:54D0  23                      inc     hl
     303.  03:54D1  56                      ld      d,(hl)
     304.  03:54D2  23                      inc     hl
     305.  03:54D3  7E                      ld      a,(hl)
     306.  03:54D4  23                      inc     hl
     307.  03:54D5  66                      ld      h,(hl)
     308.  03:54D6  6F                      ld      l,a
     309.  03:54D7  E3                      ex      (sp),hl
     310.  03:54D8  D5                      push    de
     311.  03:54D9  E9                      jp      (hl)
     312.  03:54DA                       
     313.  03:54DA                      @l_glonghlp
     314.  03:54DA                      ;Fetch long dehl from (hl)
     315.  03:54DA  7E                      ld a,(hl)
     316.  03:54DB  23                      inc hl
     317.  03:54DC  66                      ld h,(hl)
     318.  03:54DD  6F                      ld l,a
     319.  03:54DE                      
     320.  03:54DE                      @l_glong
     321.  03:54DE  5E                      ld e,(hl)
     322.  03:54DF  23                      inc hl
     323.  03:54E0  56                      ld d,(hl)
     324.  03:54E1  23                      inc hl
     325.  03:54E2  7E                      ld a,(hl)
     326.  03:54E3  23                      inc hl
     327.  03:54E4  66                      ld h,(hl)
     328.  03:54E5  6F                      ld l,a
     329.  03:54E6  EB                      ex de,hl
     330.  03:54E7  C9                      ret 
     331.  03:54E8                      
     332.  03:54E8                      @l_long_ugt
     333.  03:54E8                      
     334.  03:54E8                         ; PRIMARY > SECONDARY, carry set if true
     335.  03:54E8                         ; HL set to 0 (false) or 1 (true)
     336.  03:54E8                      
     337.  03:54E8                         ; dehl  = secondary
     338.  03:54E8                         ; stack = primary, ret
     339.  03:54E8                         
     340.  03:54E8  CD F1 54               call l_long_ucmp
     341.  03:54EB  28 02                  jr z, .false
     342.  03:54ED                         
     343.  03:54ED  3F                     ccf
     344.  03:54EE  D8                     ret c
     345.  03:54EF                      .false:
     346.  03:54EF  2D                     dec l
     347.  03:54F0  C9                     ret 
     348.  03:54F1                      l_long_ucmp:
     349.  03:54F1                         ; computes (primary - secondary)
     350.  03:54F1                         ;
     351.  03:54F1                         ; dehl  = secondary
     352.  03:54F1                         ; stack = primary, return address 1, return address 2
     353.  03:54F1                      
     354.  03:54F1  C1                     pop bc                      ; bc = return address 2
     355.  03:54F2                      
     356.  03:54F2  D9                     exx
     357.  03:54F3                      
     358.  03:54F3  C1                     pop bc                      ; bc = return address 1
     359.  03:54F4                      
     360.  03:54F4  E1                     pop hl
     361.  03:54F5  D1                     pop de                      ; dehl = primary
     362.  03:54F6                      
     363.  03:54F6  C5                     push bc                     ; save return address 1
     364.  03:54F7  7D                     ld a,l
     365.  03:54F8                      
     366.  03:54F8  D9                     exx
     367.  03:54F9                      
     368.  03:54F9  C5                     push bc                     ; save return address 2
     369.  03:54FA                      
     370.  03:54FA  95                     sub l
     371.  03:54FB  6F                     ld l,a
     372.  03:54FC                      
     373.  03:54FC  D9                     exx
     374.  03:54FD  7C                     ld a,h
     375.  03:54FE  D9                     exx
     376.  03:54FF                      
     377.  03:54FF  9C                     sbc a,h
     378.  03:5500  67                     ld h,a
     379.  03:5501                      
     380.  03:5501  D9                     exx
     381.  03:5502  7B                     ld a,e
     382.  03:5503  D9                     exx
     383.  03:5504                      
     384.  03:5504  9B                     sbc a,e
     385.  03:5505  5F                     ld e,a
     386.  03:5506                      
     387.  03:5506  D9                     exx
     388.  03:5507  7A                     ld a,d
     389.  03:5508  D9                     exx
     390.  03:5509                      
     391.  03:5509  9A                     sbc a,d
     392.  03:550A  57                     ld d,a
     393.  03:550B                      
     394.  03:550B                         ; dehl = result, a = d
     395.  03:550B                      
     396.  03:550B  DA 12 55               jp C, .negative
     397.  03:550E                      
     398.  03:550E                      .positive:
     399.  03:550E                      
     400.  03:550E  7A                     ld a,d
     401.  03:550F  B3                     or e
     402.  03:5510  B4                     or h
     403.  03:5511  B5                     or l
     404.  03:5512                      
     405.  03:5512                      .negative:
     406.  03:5512                      
     407.  03:5512  21 01 00               ld hl,1
     408.  03:5515  C9                     ret 
     409.  03:5516                      
     410.  03:5516                      @l_long_aslo
     411.  03:5516                      l_lsl_dehl:
     412.  03:5516                      l_small_lsl_dehl:
     413.  03:5516                      
     414.  03:5516                         ; logical shift left 32-bit number
     415.  03:5516                         ;
     416.  03:5516                         ; enter : dehl = 32-bit number
     417.  03:5516                         ;            a = shift amount
     418.  03:5516                         ;
     419.  03:5516                         ; exit  : dehl = dehl << a
     420.  03:5516                         ;
     421.  03:5516                         ; uses  : af, b, de, hl
     422.  03:5516                      
     423.  03:5516  B7                     or a
     424.  03:5517  C8                     ret z
     425.  03:5518                      
     426.  03:5518  FE 20                  cp 32
     427.  03:551A  D2 2F 55               jp nc, error_lznc
     428.  03:551D                         
     429.  03:551D  47                     ld b,a
     430.  03:551E  7B                     ld a,e
     431.  03:551F                      
     432.  03:551F                      .shift_loop:
     433.  03:551F                      
     434.  03:551F  29                     add hl,hl
     435.  03:5520  17                     rla
     436.  03:5521  CB 12                  rl d
     437.  03:5523                         
     438.  03:5523  10 FA                  djnz .shift_loop
     439.  03:5525                         
     440.  03:5525  5F                     ld e,a
     441.  03:5526  C9                     ret 
     442.  03:5527                         
     443.  03:5527                      @l_long_asl
     444.  03:5527                         ; Shift primary left by secondary
     445.  03:5527                         ;
     446.  03:5527                         ; Primary is on the stack, and is 32 bits long therefore we need only
     447.  03:5527                         ; concern ourselves with l (secondary) as our counter
     448.  03:5527                      
     449.  03:5527  7D                     ld a,l                      ; a = shift amount
     450.  03:5528                         
     451.  03:5528  E1                     pop hl                      ; hl = return address
     452.  03:5529  D1                     pop de                      ; de = primary.LSW
     453.  03:552A  E3                     ex (sp),hl                  ; hl = primary.MSW
     454.  03:552B                         
     455.  03:552B  EB                     ex de,hl                    ; dehl = primary
     456.  03:552C  C3 16 55               jp l_lsl_dehl
     457.  03:552F                      
     458.  03:552F                      error_lznc:
     459.  03:552F                         ; set dehl = 0
     460.  03:552F                         ; reset carry flag
     461.  03:552F  11 00 00               ld de,0
     462.  03:5532                      error_znc:
     463.  03:5532                         ; set hl = 0
     464.  03:5532                         ; reset carry flag
     465.  03:5532  21 00 00               ld hl,0
     466.  03:5535  37                     scf
     467.  03:5536  3F                     ccf
     468.  03:5537                         
     469.  03:5537  C9                     ret 
     470.  03:5538                      
     471.  03:5538                      
     472.  03:5538                      @l_long_mult
     473.  03:5538                      ;       Multiply 32 bit numbers
     474.  03:5538                      ;
     475.  03:5538                      ;       Entry: dehl=arg1
     476.  03:5538                      ;       Stack: return address, arg2
     477.  03:5538                      ;
     478.  03:5538                      ;       Exit:  dehl=result
     479.  03:5538                         ; dehl = arg1
     480.  03:5538                         ; stack = arg2, ret
     481.  03:5538                      
     482.  03:5538  D9                     exx
     483.  03:5539  C1                     pop bc
     484.  03:553A                         
     485.  03:553A  E1                     pop hl
     486.  03:553B  D1                     pop de
     487.  03:553C                         
     488.  03:553C  C5                     push bc
     489.  03:553D                      l_muls_32_32x32 
     490.  03:553D                      l_small_muls_32_32x32:
     491.  03:553D                         ; signed multiplication of two 32-bit signed numbers
     492.  03:553D                         ;
     493.  03:553D                         ; error reported on overflow
     494.  03:553D                         ;
     495.  03:553D                         ; enter : dehl = signed 32-bit number
     496.  03:553D                         ;         dehl'= signed 32-bit number
     497.  03:553D                         ;
     498.  03:553D                         ; exit  : success
     499.  03:553D                         ;
     500.  03:553D                         ;            dehl = signed 32-bit product
     501.  03:553D                         ;            carry reset
     502.  03:553D                         ;
     503.  03:553D                         ;         signed overflow (LIA-1 enabled only)
     504.  03:553D                         ;
     505.  03:553D                         ;            dehl = LONG_MAX or LONG_MIN
     506.  03:553D                         ;            carry set, errno = ERANGE
     507.  03:553D                         ;
     508.  03:553D                         ; uses  : af, bc. de, hl, bc', de', hl'
     509.  03:553D                      
     510.  03:553D                         ; determine sign of result
     511.  03:553D                         
     512.  03:553D  7A                     ld a,d
     513.  03:553E  D9                     exx
     514.  03:553F  AA                     xor d
     515.  03:5540                      
     516.  03:5540  F5                     push af
     517.  03:5541                      
     518.  03:5541                         ; make multiplicands positive
     519.  03:5541                      
     520.  03:5541  CB 7A                  bit 7,d
     521.  03:5543  C4 8B 55               call NZ,l_neg_dehl
     522.  03:5546                      
     523.  03:5546  D9                     exx
     524.  03:5547                      
     525.  03:5547  CB 7A                  bit 7,d
     526.  03:5549  C4 8B 55               call NZ,l_neg_dehl
     527.  03:554C                      
     528.  03:554C                         ; multiply & check for overflow
     529.  03:554C                      
     530.  03:554C  CD 54 55               call l_small_mul_32_32x32
     531.  03:554F                      
     532.  03:554F  F1                     pop af
     533.  03:5550  F0                     ret P
     534.  03:5551                      
     535.  03:5551                         ; correct sign of result
     536.  03:5551                      
     537.  03:5551  C3 8B 55               jp l_neg_dehl
     538.  03:5554                      
     539.  03:5554                      l_mulu_32_32x32:
     540.  03:5554                      l_small_mul_32_32x32:
     541.  03:5554                      
     542.  03:5554                          ; multiplication of two 32-bit numbers into a 32-bit product
     543.  03:5554                          ;
     544.  03:5554                          ; enter : dehl = 32-bit multiplicand (more leading zeroes = better performance)
     545.  03:5554                          ;         dehl'= 32-bit multiplicand
     546.  03:5554                          ;
     547.  03:5554                          ; exit  : dehl = 32-bit product
     548.  03:5554                          ;         carry reset
     549.  03:5554                          ;
     550.  03:5554                          ; uses  : af, bc, de, hl, bc', de', hl'
     551.  03:5554                      
     552.  03:5554  7B                      ld a,e
     553.  03:5555  B2                      or d
     554.  03:5556  D9                      exx
     555.  03:5557                      
     556.  03:5557  B3                      or e
     557.  03:5558  B2                      or d
     558.  03:5559  28 42                   jr Z,l0_small_mul_32_16x16  ; demote if both are uint16_t
     559.  03:555B                      
     560.  03:555B  AF                      xor a
     561.  03:555C  E5                      push hl
     562.  03:555D  D9                      exx
     563.  03:555E  4D                      ld c,l
     564.  03:555F  44                      ld b,h
     565.  03:5560  E1                      pop hl
     566.  03:5561  D5                      push de
     567.  03:5562  EB                      ex de,hl
     568.  03:5563  6F                      ld l,a
     569.  03:5564  67                      ld h,a
     570.  03:5565  D9                      exx
     571.  03:5566  C1                      pop bc
     572.  03:5567  6F                      ld l,a
     573.  03:5568  67                      ld h,a
     574.  03:5569                      
     575.  03:5569                      l0_small_mul_32_32x32:
     576.  03:5569                      
     577.  03:5569                          ; dede' = 32-bit multiplicand
     578.  03:5569                          ; bcbc' = 32-bit multiplicand
     579.  03:5569                          ; hlhl' = 0
     580.  03:5569                      
     581.  03:5569  78                      ld a,b
     582.  03:556A  06 20                   ld b,32
     583.  03:556C                      
     584.  03:556C                      .loop_0:
     585.  03:556C                      
     586.  03:556C  1F                      rra
     587.  03:556D  CB 19                   rr c
     588.  03:556F  D9                      exx
     589.  03:5570  CB 18                   rr b
     590.  03:5572  CB 19                   rr c
     591.  03:5574  30 05                   jr nc, .loop_1
     592.  03:5576                      
     593.  03:5576  19                      add hl,de
     594.  03:5577  D9                      exx
     595.  03:5578  ED 5A                   adc hl,de
     596.  03:557A  D9                      exx
     597.  03:557B                      
     598.  03:557B                      .loop_1:
     599.  03:557B                      
     600.  03:557B  CB 23                   sla e
     601.  03:557D  CB 12                   rl d
     602.  03:557F  D9                      exx
     603.  03:5580  CB 13                   rl e
     604.  03:5582  CB 12                   rl d
     605.  03:5584                      
     606.  03:5584  10 E6                   djnz .loop_0
     607.  03:5586                      
     608.  03:5586  E5                      push hl
     609.  03:5587  D9                      exx
     610.  03:5588  D1                      pop de
     611.  03:5589                      
     612.  03:5589  B7                      or a
     613.  03:558A  C9                      ret 
     614.  03:558B                      
     615.  03:558B                      l_neg_dehl:
     616.  03:558B                      
     617.  03:558B                         ; negate dehl
     618.  03:558B                         ;
     619.  03:558B                         ; enter : dehl = long
     620.  03:558B                         ;
     621.  03:558B                         ; exit  : dehl = -long
     622.  03:558B                         ;
     623.  03:558B                         ; uses  : af, de, hl, carry unaffected
     624.  03:558B                         
     625.  03:558B  7D                     ld a,l
     626.  03:558C  2F                     cpl
     627.  03:558D  6F                     ld l,a
     628.  03:558E                         
     629.  03:558E  7C                     ld a,h
     630.  03:558F  2F                     cpl
     631.  03:5590  67                     ld h,a
     632.  03:5591                         
     633.  03:5591  7B                     ld a,e
     634.  03:5592  2F                     cpl
     635.  03:5593  5F                     ld e,a
     636.  03:5594                         
     637.  03:5594  7A                     ld a,d
     638.  03:5595  2F                     cpl
     639.  03:5596  57                     ld d,a
     640.  03:5597                         
     641.  03:5597  2C                     inc l
     642.  03:5598  C0                     ret nz
     643.  03:5599                         
     644.  03:5599  24                     inc h
     645.  03:559A  C0                     ret nz
     646.  03:559B                         
     647.  03:559B  13                     inc de
     648.  03:559C  C9                     ret 
     649.  03:559D                         
     650.  03:559D                      l0_small_mul_32_16x16:
     651.  03:559D                      
     652.  03:559D                          ; multiplication of two 16-bit numbers into a 32-bit product
     653.  03:559D                          ;
     654.  03:559D                          ; enter : hl'= 16-bit multiplier   = y
     655.  03:559D                          ;         hl = 16-bit multiplicand = x
     656.  03:559D                          ;
     657.  03:559D                          ; exit  : dehl = 32-bit product
     658.  03:559D                          ;         carry reset
     659.  03:559D                          ;
     660.  03:559D                          ; uses  : af, bc, de, hl, bc', de', hl'
     661.  03:559D                      
     662.  03:559D  E5                      push hl
     663.  03:559E  D9                      exx
     664.  03:559F  D1                      pop de
     665.  03:55A0                      
     666.  03:55A0                      l_small_mul_32_16x16 
     667.  03:55A0                          ; multiplication of two 16-bit numbers into a 32-bit product
     668.  03:55A0                          ;
     669.  03:55A0                          ; enter : de = 16-bit multiplicand
     670.  03:55A0                          ;         hl = 16-bit multiplicand
     671.  03:55A0                          ;
     672.  03:55A0                          ; exit  : dehl = 32-bit product
     673.  03:55A0                          ;         carry reset
     674.  03:55A0                          ;
     675.  03:55A0                          ; uses  : af, bc, de, hl
     676.  03:55A0                      
     677.  03:55A0                      ;    ld bc,hl
     678.  03:55A0  44                  	ld b,h
     679.  03:55A1  4D                  	ld c,l
     680.  03:55A2                      
     681.  03:55A2  3E 10                   ld a,16
     682.  03:55A4  21 00 00                ld hl,0
     683.  03:55A7                      
     684.  03:55A7                      .loop_0:
     685.  03:55A7                          ; bc = 16-bit multiplicand
     686.  03:55A7                          ; de = 16-bit multiplicand
     687.  03:55A7                          ;  a = iterations
     688.  03:55A7                      
     689.  03:55A7  29                      add hl,hl
     690.  03:55A8  CB 13                   rl e
     691.  03:55AA  CB 12                   rl d
     692.  03:55AC                      
     693.  03:55AC  D2 B4 55                jp NC,.loop_1
     694.  03:55AF  09                      add hl,bc
     695.  03:55B0  D2 B4 55                jp NC,.loop_1
     696.  03:55B3  13                      inc de
     697.  03:55B4                      
     698.  03:55B4                      .loop_1:
     699.  03:55B4  3D                      dec a
     700.  03:55B5  C2 A7 55                jp NZ,.loop_0
     701.  03:55B8                      
     702.  03:55B8  B7                      or a
     703.  03:55B9  C9                      ret 
     704.  03:55BA                      	
     705.  03:55BA                      @l_long_ne
     706.  03:55BA                      
     707.  03:55BA                         ; DEHL != secondary, carry set if true
     708.  03:55BA                         ; stack = secondary, ret
     709.  03:55BA                      
     710.  03:55BA  C1                     pop bc	; bloody IX is used by the ZX81 std ROM. IY too. HL is an in- and an out-parameter
     711.  03:55BB  79                     ld a,c
     712.  03:55BC  32 DF 55               ld (.IX1 + 1), a
     713.  03:55BF  32 E7 55               ld (.IX2 + 1), a
     714.  03:55C2  78                     ld a,b
     715.  03:55C3  32 E0 55               ld (.IX1 + 2), a
     716.  03:55C6  32 E8 55               ld (.IX2 + 2), a
     717.  03:55C9                         
     718.  03:55C9  C1                     pop bc
     719.  03:55CA                         
     720.  03:55CA  79                     ld a,c
     721.  03:55CB  BD                     cp l
     722.  03:55CC  20 13                  jr nz, .notequal_0
     723.  03:55CE                         
     724.  03:55CE  78                     ld a,b
     725.  03:55CF  BC                     cp h
     726.  03:55D0  20 0F                  jr nz, .notequal_0
     727.  03:55D2                         
     728.  03:55D2  C1                     pop bc
     729.  03:55D3                         
     730.  03:55D3  79                     ld a,c
     731.  03:55D4  BB                     cp e
     732.  03:55D5  20 0B                  jr nz, .notequal_1
     733.  03:55D7                         
     734.  03:55D7  78                     ld a,b
     735.  03:55D8  BA                     cp d
     736.  03:55D9  20 07                  jr nz, .notequal_1
     737.  03:55DB                      .equal:
     738.  03:55DB                      
     739.  03:55DB  21 00 00               ld hl,0
     740.  03:55DE                      .IX1
     741.  03:55DE  C3 75 19               jp ($1975)
     742.  03:55E1                      
     743.  03:55E1                      .notequal_0:
     744.  03:55E1                      
     745.  03:55E1  C1                     pop bc
     746.  03:55E2                      
     747.  03:55E2                      .notequal_1:
     748.  03:55E2                      
     749.  03:55E2  37                     scf
     750.  03:55E3  21 01 00               ld hl,1
     751.  03:55E6                      .IX2
     752.  03:55E6  C3 75 19               jp ($1975) 
     753.  03:55E9                         
     754.  03:55E9                      @l_long_uge
     755.  03:55E9                         ; PRIMARY >= SECONDARY, carry set if true
     756.  03:55E9                         ; HL set to 0 (false) or 1 (true)
     757.  03:55E9                         
     758.  03:55E9                         ; dehl  = secondary
     759.  03:55E9                         ; stack = primary, ret
     760.  03:55E9                         
     761.  03:55E9  CD F1 54               call l_long_ucmp
     762.  03:55EC                         
     763.  03:55EC  3F                     ccf
     764.  03:55ED  D8                     ret c
     765.  03:55EE                         
     766.  03:55EE  2D                     dec l
     767.  03:55EF  C9                     ret 
     768.  03:55F0                         
     769.  03:55F0                      @l_long_mult_u
     770.  03:55F0                         ; dehl = arg1
     771.  03:55F0                         ; stack = arg2, ret
     772.  03:55F0                      
     773.  03:55F0  D9                     exx
     774.  03:55F1  C1                     pop bc
     775.  03:55F2                         
     776.  03:55F2  E1                     pop hl
     777.  03:55F3  D1                     pop de
     778.  03:55F4                         
     779.  03:55F4  C5                     push bc
     780.  03:55F5  C3 54 55               jp l_mulu_32_32x32 
     781.  03:55F8                         
     782.  03:55F8                      @l_long_mod_u
     783.  03:55F8  A7                     and a
     784.  03:55F9  18 01                  jr  common
     785.  03:55FB                      @l_long_div_u
     786.  03:55FB  37                     scf
     787.  03:55FC                      common:
     788.  03:55FC                      
     789.  03:55FC                         ; dehl  = divisor
     790.  03:55FC                         ; stack = dividend, ret
     791.  03:55FC                         
     792.  03:55FC  D9                     exx
     793.  03:55FD  C1                     pop bc
     794.  03:55FE                         
     795.  03:55FE  E1                     pop hl
     796.  03:55FF  D1                     pop de
     797.  03:5600                         
     798.  03:5600  C5                     push bc
     799.  03:5601  DA 09 56               jp c,l_divu_32_32x32 - 1
     800.  03:5604  CD 09 56               call l_divu_32_32x32 - 1
     801.  03:5607  D9                     exx
     802.  03:5608  C9                     ret 
     803.  03:5609                         
     804.  03:5609  D9                     exx
     805.  03:560A                      l_divu_32_32x32:
     806.  03:560A                      l_small_divu_32_32x32:
     807.  03:560A                      
     808.  03:560A                         ; unsigned division of 32-bit numbers
     809.  03:560A                         ;
     810.  03:560A                         ; enter : dehl = 32-bit divisor
     811.  03:560A                         ;         dehl'= 32-bit dividend
     812.  03:560A                         ;
     813.  03:560A                         ; exit  : success
     814.  03:560A                         ;
     815.  03:560A                         ;            dehl = 32-bit quotient
     816.  03:560A                         ;            dehl'= 32-bit remainder
     817.  03:560A                         ;            carry reset
     818.  03:560A                         ;
     819.  03:560A                         ;         divide by zero
     820.  03:560A                         ;
     821.  03:560A                         ;            dehl = $ffffffff = ULONG_MAX
     822.  03:560A                         ;            dehl'= dividend
     823.  03:560A                         ;            carry set, errno = EDOM
     824.  03:560A                         ;
     825.  03:560A                         ; uses  : af, bc, de, hl, bc', de', hl'
     826.  03:560A                      
     827.  03:560A  7A                     ld a,d
     828.  03:560B  B3                     or e
     829.  03:560C  B4                     or h
     830.  03:560D  B5                     or l
     831.  03:560E  28 42                  jr z, divide_zero_32x32  
     832.  03:5610                      
     833.  03:5610                      l0_small_divu_32_32x32:
     834.  03:5610                      
     835.  03:5610  AF                     xor a
     836.  03:5611  E5                     push hl
     837.  03:5612  D9                     exx
     838.  03:5613  4D                     ld c,l
     839.  03:5614  44                     ld b,h
     840.  03:5615  E1                     pop hl
     841.  03:5616  D5                     push de
     842.  03:5617  EB                     ex de,hl
     843.  03:5618  6F                     ld l,a
     844.  03:5619  67                     ld h,a
     845.  03:561A  D9                     exx
     846.  03:561B  C1                     pop bc
     847.  03:561C  6F                     ld l,a
     848.  03:561D  67                     ld h,a
     849.  03:561E                      
     850.  03:561E                      l1_small_divu_32_32x32:
     851.  03:561E                         
     852.  03:561E                         ; dede' = 32-bit divisor
     853.  03:561E                         ; bcbc' = 32-bit dividend
     854.  03:561E                         ; hlhl' = 0
     855.  03:561E                      
     856.  03:561E  78                     ld a,b
     857.  03:561F  06 20                  ld b,32
     858.  03:5621                      
     859.  03:5621                      .loop_0:
     860.  03:5621                      
     861.  03:5621  D9                     exx
     862.  03:5622  CB 11                  rl c
     863.  03:5624  CB 10                  rl b
     864.  03:5626  D9                     exx
     865.  03:5627  CB 11                  rl c
     866.  03:5629  17                     rla
     867.  03:562A                         
     868.  03:562A  D9                     exx
     869.  03:562B  ED 6A                  adc hl,hl
     870.  03:562D  D9                     exx
     871.  03:562E  ED 6A                  adc hl,hl
     872.  03:5630                         
     873.  03:5630  D9                     exx
     874.  03:5631  ED 52                  sbc hl,de
     875.  03:5633  D9                     exx
     876.  03:5634  ED 52                  sbc hl,de
     877.  03:5636  30 05                  jr nc, .loop_1
     878.  03:5638                      
     879.  03:5638  D9                     exx
     880.  03:5639  19                     add hl,de
     881.  03:563A  D9                     exx
     882.  03:563B  ED 5A                  adc hl,de
     883.  03:563D                      
     884.  03:563D                      .loop_1:
     885.  03:563D                      
     886.  03:563D  3F                     ccf
     887.  03:563E  10 E1                  djnz .loop_0
     888.  03:5640                      
     889.  03:5640  D9                     exx
     890.  03:5641  CB 11                  rl c
     891.  03:5643  CB 10                  rl b
     892.  03:5645  D9                     exx
     893.  03:5646  CB 11                  rl c
     894.  03:5648  17                     rla
     895.  03:5649                      
     896.  03:5649                         ; quotient  = acbc'
     897.  03:5649                         ; remainder = hlhl'
     898.  03:5649                         
     899.  03:5649  E5                     push hl
     900.  03:564A  D9                     exx
     901.  03:564B  D1                     pop de
     902.  03:564C  C5                     push bc
     903.  03:564D  D9                     exx
     904.  03:564E  E1                     pop hl
     905.  03:564F  59                     ld e,c
     906.  03:5650  57                     ld d,a
     907.  03:5651                         
     908.  03:5651  C9                     ret
     909.  03:5652                      
     910.  03:5652                      divide_zero_32x32:
     911.  03:5652                         
     912.  03:5652  1B                     dec de
     913.  03:5653                      ;   jp error_divide_by_zero_mc 
     914.  03:5653  C3 BC 54               jp errno_mc - 2 
     915.  03:5656                      
     916.  03:5656                      @l_long_asr_u
     917.  03:5656                         ; Shift primary (on stack) right by secondary, 
     918.  03:5656                      
     919.  03:5656  7D                     ld a,l                      ; a = shift amount
     920.  03:5657                         
     921.  03:5657  E1                     pop hl                      ; hl = return address
     922.  03:5658  D1                     pop de                      ; de = primary.LSW
     923.  03:5659  E3                     ex (sp),hl                  ; hl = primary.MSW
     924.  03:565A                         
     925.  03:565A  EB                     ex de,hl
     926.  03:565B                      l_lsr_dehl:
     927.  03:565B                      l_small_lsr_dehl:
     928.  03:565B                      
     929.  03:565B                         ; logical shift right 32-bit unsigned long
     930.  03:565B                         ;
     931.  03:565B                         ; enter : dehl = 32-bit number
     932.  03:565B                         ;            a = shift amount
     933.  03:565B                         ;
     934.  03:565B                         ; exit  : dehl = dehl >> a
     935.  03:565B                         ;
     936.  03:565B                         ; uses  : af, b, de, hl
     937.  03:565B                      
     938.  03:565B  B7                     or a
     939.  03:565C  C8                     ret z
     940.  03:565D                         
     941.  03:565D  FE 20                  cp 32
     942.  03:565F  D2 2F 55               jp nc, error_lznc
     943.  03:5662                         
     944.  03:5662  47                     ld b,a
     945.  03:5663  7B                     ld a,e
     946.  03:5664                      
     947.  03:5664                      .shift_loop:
     948.  03:5664                      
     949.  03:5664  CB 3A                  srl d
     950.  03:5666  1F                     rra
     951.  03:5667  CB 1C                  rr h
     952.  03:5669  CB 1D                  rr l
     953.  03:566B                         
     954.  03:566B  10 F7                  djnz .shift_loop
     955.  03:566D                         
     956.  03:566D  5F                     ld e,a
     957.  03:566E  C9                     ret 
     958.  03:566F                      
     959.  03:566F                         
     960.  03:566F                      @l_long_eq
     961.  03:566F                         ; dehl == secondary?  carry if true
     962.  03:566F                         ;
     963.  03:566F                         ; dehl  = primary
     964.  03:566F                         ; stack = secondary, ret
     965.  03:566F                         
     966.  03:566F  C1                     pop bc	; bloody IX is used by the ZX81 std ROM. IY too. HL is an in- and an out-parameter
     967.  03:5670  79                     ld a,c
     968.  03:5671  32 95 56               ld (.IX1 + 1), a
     969.  03:5674  32 9C 56               ld (.IX2 + 1), a
     970.  03:5677  78                     ld a,b
     971.  03:5678  32 96 56               ld (.IX1 + 2), a
     972.  03:567B  32 9D 56               ld (.IX2 + 2), a
     973.  03:567E                         
     974.  03:567E  C1                     pop bc
     975.  03:567F                         
     976.  03:567F  79                     ld a,c
     977.  03:5680  BD                     cp l
     978.  03:5681  20 14                  jr nz, .notequal_0
     979.  03:5683                         
     980.  03:5683  78                     ld a,b
     981.  03:5684  BC                     cp h
     982.  03:5685  20 10                  jr nz, .notequal_0
     983.  03:5687                         
     984.  03:5687  C1                     pop bc
     985.  03:5688                         
     986.  03:5688  79                     ld a,c
     987.  03:5689  BB                     cp e
     988.  03:568A  20 0C                  jr nz, .notequal_1
     989.  03:568C                         
     990.  03:568C  78                     ld a,b
     991.  03:568D  BA                     cp d
     992.  03:568E  20 08                  jr nz, .notequal_1
     993.  03:5690                      
     994.  03:5690                      .equal:
     995.  03:5690  37                     scf
     996.  03:5691  21 01 00               ld hl,1
     997.  03:5694                      .IX1:
     998.  03:5694  C3 75 19               jp ($1975)
     999.  03:5697                      
    1000.  03:5697                      .notequal_0:
    1001.  03:5697  C1                     pop bc
    1002.  03:5698                      
    1003.  03:5698                      .notequal_1:
    1004.  03:5698  AF                     xor a
    1005.  03:5699  6F                  	ld l,a
    1006.  03:569A  67                  	ld h,a
    1007.  03:569B                      .IX2:
    1008.  03:569B  C3 75 19               jp ($1975) 
    1009.  03:569E                         
    1010.  03:569E                      @l_long_and
    1011.  03:569E                      
    1012.  03:569E                         ; primary = dehl
    1013.  03:569E                         ; stack = secondary, ret
    1014.  03:569E                         ; 90 cycles
    1015.  03:569E                      
    1016.  03:569E  C1                     pop bc	; bloody IX is used by the ZX81 std ROM. IY too. HL is an in- and an out-parameter
    1017.  03:569F  79                     ld a,c
    1018.  03:56A0  32 B6 56               ld (.IX1 + 1), a
    1019.  03:56A3  78                     ld a,b
    1020.  03:56A4  32 B7 56               ld (.IX1 + 2), a
    1021.  03:56A7                      
    1022.  03:56A7  C1                     pop bc
    1023.  03:56A8  79                     ld a,c
    1024.  03:56A9  A5                     and l
    1025.  03:56AA  6F                     ld l,a
    1026.  03:56AB  78                     ld a,b
    1027.  03:56AC  A4                     and h
    1028.  03:56AD  67                     ld h,a
    1029.  03:56AE  C1                     pop bc
    1030.  03:56AF  79                     ld a,c
    1031.  03:56B0  A3                     and e
    1032.  03:56B1  5F                     ld e,a
    1033.  03:56B2  78                     ld a,b
    1034.  03:56B3  A2                     and d
    1035.  03:56B4  57                     ld d,a
    1036.  03:56B5                      .IX1
    1037.  03:56B5  C3 75 19               jp ($1975) 
    1038.  03:56B8                         
    1039.  03:56B8                      @l_long_or
    1040.  03:56B8                      
    1041.  03:56B8                         ; dehl = primary
    1042.  03:56B8                         ; stack = secondary, ret
    1043.  03:56B8                      
    1044.  03:56B8  C1                     pop bc	; bloody IX is used by the ZX81 std ROM. IY too. HL is an in- and an out-parameter
    1045.  03:56B9  79                     ld a,c
    1046.  03:56BA  32 D0 56               ld (.IX1 + 1), a
    1047.  03:56BD  78                     ld a,b
    1048.  03:56BE  32 D1 56               ld (.IX1 + 2), a
    1049.  03:56C1                      
    1050.  03:56C1                         
    1051.  03:56C1  C1                     pop bc
    1052.  03:56C2                         
    1053.  03:56C2  79                     ld a,c
    1054.  03:56C3  B5                     or l
    1055.  03:56C4  6F                     ld l,a
    1056.  03:56C5                         
    1057.  03:56C5  78                     ld a,b
    1058.  03:56C6  B4                     or h
    1059.  03:56C7  67                     ld h,a
    1060.  03:56C8                         
    1061.  03:56C8  C1                     pop bc
    1062.  03:56C9                         
    1063.  03:56C9  79                     ld a,c
    1064.  03:56CA  B3                     or e
    1065.  03:56CB  5F                     ld e,a
    1066.  03:56CC                         
    1067.  03:56CC  78                     ld a,b
    1068.  03:56CD  B2                     or d
    1069.  03:56CE  57                     ld d,a
    1070.  03:56CF                      .IX1   
    1071.  03:56CF  C3 75 19               jp ($1975) 
    1072.  03:56D2                         
    1073.  03:56D2                      @l_long_com
    1074.  03:56D2                      l_cpl_dehl:
    1075.  03:56D2                         ; uses : af, de, hl
    1076.  03:56D2                         
    1077.  03:56D2  7A                     ld a,d
    1078.  03:56D3  2F                     cpl
    1079.  03:56D4  57                     ld d,a
    1080.  03:56D5                         
    1081.  03:56D5  7B                     ld a,e
    1082.  03:56D6  2F                     cpl
    1083.  03:56D7  5F                     ld e,a
    1084.  03:56D8                      
    1085.  03:56D8                      l_cpl_dehl_hl:
    1086.  03:56D8                      
    1087.  03:56D8  7C                     ld a,h
    1088.  03:56D9  2F                     cpl
    1089.  03:56DA  67                     ld h,a
    1090.  03:56DB                         
    1091.  03:56DB  7D                     ld a,l
    1092.  03:56DC  2F                     cpl
    1093.  03:56DD  6F                     ld l,a
    1094.  03:56DE                         
    1095.  03:56DE  C9                     ret 
    1096.  03:56DF                      
    1097.  03:56DF                      @l_long_ule
    1098.  03:56DF                      
    1099.  03:56DF                         ; PRIMARY <= SECONDARY, carry set if true
    1100.  03:56DF                         ; HL set to 0 (false) or 1 (true)
    1101.  03:56DF                      
    1102.  03:56DF                         ; dehl  = secondary
    1103.  03:56DF                         ; stack = primary, ret
    1104.  03:56DF                      
    1105.  03:56DF  CD F1 54               call l_long_ucmp
    1106.  03:56E2  D8                     ret c
    1107.  03:56E3                         
    1108.  03:56E3  37                     scf
    1109.  03:56E4  C8                     ret z
    1110.  03:56E5                         
    1111.  03:56E5  2D                     dec l
    1112.  03:56E6                         
    1113.  03:56E6  B7                     or a
    1114.  03:56E7  C9                     ret 
    1115.  03:56E8                         
    1116.  03:56E8                      @l_long_ult
    1117.  03:56E8                      
    1118.  03:56E8                         ; PRIMARY < SECONDARY, carry set if true
    1119.  03:56E8                         ;  HL set to 0 (false) or 1 (true)
    1120.  03:56E8                         
    1121.  03:56E8                         ; dehl  = secondary
    1122.  03:56E8                         ; stack = primary, ret
    1123.  03:56E8                         
    1124.  03:56E8  CD F1 54               call l_long_ucmp
    1125.  03:56EB  D8                     ret c
    1126.  03:56EC                         
    1127.  03:56EC  2D                     dec l
    1128.  03:56ED  C9                     ret 
    1129.  03:56EE                      
    1130.  03:56EE                      @l_asr_u
    1131.  03:56EE  EB                          ex      de,hl
    1132.  03:56EF                      @l_asr_u_hl_by_e
    1133.  03:56EF                      @l_asr_u_1
    1134.  03:56EF  1D                      dec     e
    1135.  03:56F0  F8                      ret     m
    1136.  03:56F1  CB 3C               	srl	h
    1137.  03:56F3  CB 1D                   rr      l
    1138.  03:56F5  C3 EF 56                jp      l_asr_u_1 
    1139.  03:56F8                      
    1140.  03:56F8                      @l_inclong
    1141.  03:56F8                      l_inc_dehl
    1142.  03:56F8                      
    1143.  03:56F8                         ; increment 32-bit value
    1144.  03:56F8                         ;
    1145.  03:56F8                         ; enter : dehl = 32 bit number
    1146.  03:56F8                         ;
    1147.  03:56F8                         ; exit  : dehl = dehl + 1
    1148.  03:56F8                         ;
    1149.  03:56F8                         ; uses  : f, de, hl
    1150.  03:56F8                      
    1151.  03:56F8  2C                     inc l
    1152.  03:56F9  C0                     ret nz
    1153.  03:56FA                         
    1154.  03:56FA  24                     inc h
    1155.  03:56FB  C0                     ret nz
    1156.  03:56FC                         
    1157.  03:56FC  13                     inc de
    1158.  03:56FD  C9                     ret 
    1159.  03:56FE                      
    1160.  03:56FE                      @l_eq
    1161.  03:56FE                         ; de == hl
    1162.  03:56FE                         ; carry set if true
    1163.  03:56FE                         
    1164.  03:56FE  B7                     or a
    1165.  03:56FF  ED 52                  sbc hl,de
    1166.  03:5701                         
    1167.  03:5701  37                     scf
    1168.  03:5702  23                  	inc hl
    1169.  03:5703  C8                     ret z
    1170.  03:5704                      	
    1171.  03:5704  AF                     xor a
    1172.  03:5705  6F                     ld l,a
    1173.  03:5706  67                     ld h,a
    1174.  03:5707  C9                     ret 
    1175.  03:5708                      
    1176.  03:5708                      @l_ge
    1177.  03:5708                         ; DE >= HL [signed
    1178.  03:5708                      
    1179.  03:5708                         ; set carry if true
    1180.  03:5708                      
    1181.  03:5708  7C                     ld a,h
    1182.  03:5709  C6 80                  add a,$80
    1183.  03:570B  47                     ld b,a
    1184.  03:570C                         
    1185.  03:570C  7A                     ld a,d
    1186.  03:570D  C6 80                  add a,$80
    1187.  03:570F                         
    1188.  03:570F  B8                     cp b
    1189.  03:5710  3F                     ccf
    1190.  03:5711  C2 6D 57               jp nz, l_compare_result
    1191.  03:5714                         
    1192.  03:5714  7B                     ld a,e
    1193.  03:5715  BD                     cp l
    1194.  03:5716  3F                     ccf
    1195.  03:5717                         
    1196.  03:5717  C3 6D 57               jp l_compare_result 
    1197.  03:571A                      
    1198.  03:571A                      @l_uge
    1199.  03:571A                         ; DE >= HL [unsigned
    1200.  03:571A                      
    1201.  03:571A                         ; set carry if true
    1202.  03:571A                      
    1203.  03:571A  7A                     ld a,d
    1204.  03:571B  BC                     cp h
    1205.  03:571C                         
    1206.  03:571C  3F                     ccf
    1207.  03:571D  C2 6D 57               jp nz, l_compare_result
    1208.  03:5720                         
    1209.  03:5720  7B                     ld a,e
    1210.  03:5721  BD                     cp l
    1211.  03:5722                         
    1212.  03:5722  3F                     ccf
    1213.  03:5723  C3 6D 57               jp l_compare_result 
    1214.  03:5726                      
    1215.  03:5726                      @l_le
    1216.  03:5726                         ; DE <= HL [signed
    1217.  03:5726                      
    1218.  03:5726                         ; set carry if true
    1219.  03:5726                      
    1220.  03:5726  7A                     ld a,d
    1221.  03:5727  C6 80                  add a,$80
    1222.  03:5729  47                     ld b,a
    1223.  03:572A                         
    1224.  03:572A  7C                     ld a,h
    1225.  03:572B  C6 80                  add a,$80
    1226.  03:572D                         
    1227.  03:572D  B8                     cp b
    1228.  03:572E  3F                     ccf
    1229.  03:572F  C2 6D 57               jp nz, l_compare_result
    1230.  03:5732                         
    1231.  03:5732  7D                     ld a,l
    1232.  03:5733  BB                     cp e
    1233.  03:5734  3F                     ccf
    1234.  03:5735                         
    1235.  03:5735  C3 6D 57               jp l_compare_result 
    1236.  03:5738                      
    1237.  03:5738                      @l_gcharspsp
    1238.  03:5738  39                      add     hl,sp
    1239.  03:5739  23                      inc     hl
    1240.  03:573A  23                      inc     hl
    1241.  03:573B  7E                      ld      a,(hl)
    1242.  03:573C  6F                      ld      l,a
    1243.  03:573D  07                      rlca
    1244.  03:573E  9F                      sbc     a,a
    1245.  03:573F  67                      ld      h,a
    1246.  03:5740  E3                      ex      (sp),hl
    1247.  03:5741  E9                      jp      (hl)
    1248.  03:5742                       
    1249.  03:5742                      @memcmp_callee
    1250.  03:5742                      
    1251.  03:5742  E1                     pop hl
    1252.  03:5743  C1                     pop bc
    1253.  03:5744  D1                     pop de
    1254.  03:5745  E3                     ex (sp),hl
    1255.  03:5746  EB                     ex de,hl
    1256.  03:5747                      
    1257.  03:5747                      ;   jp asm_memcmp
    1258.  03:5747                      asm_memcmp:
    1259.  03:5747                      
    1260.  03:5747                         ; enter : bc = uint n
    1261.  03:5747                         ;         hl = void *s2
    1262.  03:5747                         ;         de = void *s1
    1263.  03:5747                         ;
    1264.  03:5747                         ; exit  :  a = h = *s1-*s2 of last char compared
    1265.  03:5747                         ;         de = ptr in s1 to first differing char
    1266.  03:5747                         ;
    1267.  03:5747                         ;         if s1==s2 : hl=0, bc=0,  nc+z flags set
    1268.  03:5747                         ;         if s1<<s2 : hl<0, c+nz flags set
    1269.  03:5747                         ;         if s1>>s2 : hl>0, nc+nz flags set
    1270.  03:5747                         ;
    1271.  03:5747                         ; uses  : af, bc, de, hl
    1272.  03:5747                      
    1273.  03:5747  78                     ld a,b
    1274.  03:5748  B1                     or c
    1275.  03:5749  28 09                  jr Z,equal
    1276.  03:574B                      
    1277.  03:574B                      asm0_memcmp:
    1278.  03:574B                      .loop:
    1279.  03:574B  1A                     ld a,(de)                   ; a = *s1
    1280.  03:574C                         
    1281.  03:574C  ED A1                  cpi                         ; *s1 - *s2
    1282.  03:574E                      
    1283.  03:574E  20 07                  jr nz,different
    1284.  03:5750                      
    1285.  03:5750  13                     inc de
    1286.  03:5751                         
    1287.  03:5751                      
    1288.  03:5751  EA 4B 57               jp PE,.loop
    1289.  03:5754                      
    1290.  03:5754                      equal:
    1291.  03:5754                      ;   ld hl,bc
    1292.  03:5754  60                     ld h,b
    1293.  03:5755  69                     ld l,c
    1294.  03:5756  C9                     ret
    1295.  03:5757                      
    1296.  03:5757                      different
    1297.  03:5757  2B                     dec hl
    1298.  03:5758  96                     sub (hl)
    1299.  03:5759  67                     ld h,a
    1300.  03:575A  C9                     ret 
    1301.  03:575B                      
    1302.  03:575B                      @memcpy_callee
    1303.  03:575B                      
    1304.  03:575B  E1                     pop hl
    1305.  03:575C  C1                     pop bc
    1306.  03:575D  D1                     pop de
    1307.  03:575E  E3                     ex (sp),hl
    1308.  03:575F  EB                     ex de,hl
    1309.  03:5760                      
    1310.  03:5760                      ;   jp asm_memccpy 
    1311.  03:5760                      asm_memcpy:
    1312.  03:5760                      
    1313.  03:5760                         ; enter : bc = size_t n
    1314.  03:5760                         ;         hl = void *s2 = src
    1315.  03:5760                         ;         de = void *s1 = dst
    1316.  03:5760                         ;
    1317.  03:5760                         ; exit  : hl = void *s1 = dst
    1318.  03:5760                         ;         de = ptr in s1 to one byte past last byte copied
    1319.  03:5760                         ;         bc = 0
    1320.  03:5760                         ;         carry reset
    1321.  03:5760                         ;
    1322.  03:5760                         ; uses  : af, bc, de, hl
    1323.  03:5760                      
    1324.  03:5760  78                     ld a,b
    1325.  03:5761  B1                     or c
    1326.  03:5762  28 06                  jr Z,zero_n
    1327.  03:5764                      
    1328.  03:5764                      asm0_memcpy:
    1329.  03:5764  D5                     push de
    1330.  03:5765                      
    1331.  03:5765  ED B0                  ldir
    1332.  03:5767                      
    1333.  03:5767  E1                     pop hl
    1334.  03:5768  B7                     or a
    1335.  03:5769  C9                     ret
    1336.  03:576A                      
    1337.  03:576A                      asm1_memcpy:
    1338.  03:576A                      zero_n:
    1339.  03:576A                      ;   ld hl,de
    1340.  03:576A  62                     ld h,d
    1341.  03:576B  6B                     ld l,e
    1342.  03:576C  C9                     ret 
    1343.  03:576D                      
    1344.  03:576D                      l_compare_result:
    1345.  03:576D                      
    1346.  03:576D                         ; return hl=1 if carry set, hl=0 otherwise
    1347.  03:576D                         
    1348.  03:576D  21 00 00               ld hl,0
    1349.  03:5770  D0                     ret nc
    1350.  03:5771  23                     inc hl    ; do not disturb z flag
    1351.  03:5772  C9                     ret 
     260   03:5773                        MODULE BANK3
     261   03:5773                        INCLUDE "cart-program-sd.asm"
       1.  03:5773                      ; 16 byte file entry
       2.  03:5773                      ;    2 bytes: size
       3.  03:5773                      ; 	 1 byte: type (00 - sub directory, 01 - file, 02 - parent directory, under 64k, 0x81 - file over 64k)
       4.  03:5773                      ;    13 bytes: filename (zero terminated, 8.3 format)
       5.  03:5773                      
       6.  03:5773                      START_SD:
       7.  03:5773  AF                    xor a
       8.  03:5774  21 39 5F              ld hl, __VARIABLES_START__
       9.  03:5777  77                    ld (hl), A
      10.  03:5778  11 3A 5F              ld de, __VARIABLES_START__ + 1
      11.  03:577B  01 A8 03              ld bc, __VARIABLES_END__ - __VARIABLES_START__ - 1
      12.  03:577E  ED B0                 ldir
      13.  03:5780  3E 2F                 ld a, '/'
      14.  03:5782  32 D6 61              ld (_current_path), a
      15.  03:5785  2A 0C 40              ld hl, (D_FILE)
      16.  03:5788  23                    inc hl
      17.  03:5789  22 CE 61              ld (_print_addr), hl
      18.  03:578C  21 C5 39              ld hl, BANK2.INIT_SD_STR
      19.  03:578F  01 15 17              ld bc, 23:21
      20.  03:5792  CD 0A 5B              call OWN_PRINT_AT
      21.  03:5795                        
      22.  03:5795                      ; f_mount
      23.  03:5795  21 3E 5F              ld	hl,_fatfs
      24.  03:5798  E5                    push	hl
      25.  03:5799  21 D6 61              ld	hl,_current_path
      26.  03:579C  E5                    push	hl
      27.  03:579D  21 01 00              ld	hl,1	;const, init now!
      28.  03:57A0  E5                    push	hl
      29.  03:57A1  CD E2 26              call	_f_mount
      30.  03:57A4  C1                    pop	bc
      31.  03:57A5  C1                    pop	bc
      32.  03:57A6  C1                    pop	bc
      33.  03:57A7  7C                    ld	a,h
      34.  03:57A8  B5                    or	l
      35.  03:57A9  28 0D                 jr z, MOUNT_OK
      36.  03:57AB  3A FF BF              ld a, (CTRL_SHADOW)
      37.  03:57AE  F6 08                 OR (1 << SD_SPI_CS)
      38.  03:57B0  32 FF BF              ld (CTRL_SHADOW), A
      39.  03:57B3  D3 3F                 OUT (CTRL_PORT), A
      40.  03:57B5  C3 EE 3F              jp BANK2.BACK_TO_FLASH
      41.  03:57B8                      
      42.  03:57B8                      MOUNT_OK:
      43.  03:57B8  01 12 17              ld bc, 23:18
      44.  03:57BB  21 D1 39              ld hl, BANK2.LOAD_DIR_STR
      45.  03:57BE  CD 0A 5B              call OWN_PRINT_AT
      46.  03:57C1  CD 1E 58              call INIT_VARIABLES
      47.  03:57C4  CD 37 58              call LOAD_DIRECTORY
      48.  03:57C7  01 12 17              ld bc, 23:18
      49.  03:57CA  21 E0 39              ld hl, BANK2.DIR_LOADED_STR
      50.  03:57CD  CD 0A 5B              call OWN_PRINT_AT
      51.  03:57D0                      REDRAW_LIST_BOX:
      52.  03:57D0  CD 2A 59              call DISPLAY_BOX
      53.  03:57D3  CD F7 58              call PRINT_PATH
      54.  03:57D6  C3 6E 5B              JP HANDLE_INPUT
      55.  03:57D9                        
      56.  03:57D9                      
      57.  03:57D9                      ; DEBUG!  =================================
      58.  03:57D9                      
      59.  03:57D9                      PRINT_DIRENTRIES_HEX
      60.  03:57D9  E5                    push hl
      61.  03:57DA  C5                    push bc
      62.  03:57DB  01 00 08              ld bc, 8:0
      63.  03:57DE  CD F1 5A              call OWN_SET_POS
      64.  03:57E1  21 00 80              ld hl, _directory_entries
      65.  03:57E4  06 15                 ld b, 21
      66.  03:57E6  18 0D                 jr PRINT_FINFO_HEX.print_finfo_loop
      67.  03:57E8                      PRINT_FINFO_HEX
      68.  03:57E8  E5                    push hl
      69.  03:57E9  C5                    push bc
      70.  03:57EA  01 00 05              ld bc, 5:0
      71.  03:57ED  CD F1 5A              call OWN_SET_POS
      72.  03:57F0  06 15                 ld b, 21
      73.  03:57F2  21 B6 61              ld hl, _finfo
      74.  03:57F5                      .print_finfo_loop
      75.  03:57F5  7E                    ld a,(hl)
      76.  03:57F6  CD 35 5B              call OWN_PRINT_HEX
      77.  03:57F9  AF                    xor a
      78.  03:57FA  CD 25 5B              call OWN_PRINT_CHAR
      79.  03:57FD  23                    inc hl
      80.  03:57FE  10 F5                 djnz .print_finfo_loop
      81.  03:5800  C1                    pop bc
      82.  03:5801  E1                    pop hl
      83.  03:5802  C9                    ret
      84.  03:5803                      
      85.  03:5803                      ; HL - address of 13 US-ASCII bytes to be converted  
      86.  03:5803                      PRINT_CONVERTED_ASCII_HEX
      87.  03:5803  E5                    push hl
      88.  03:5804  C5                    push bc
      89.  03:5805  D5                    push de
      90.  03:5806  06 0D                 ld b, 13
      91.  03:5808                      .print_finfo_loop
      92.  03:5808  7E                    ld a,(hl)
      93.  03:5809  CD 35 5B              call OWN_PRINT_HEX
      94.  03:580C  7E                    ld a,(hl)
      95.  03:580D  CD 34 5A              call CONVERT_ASCII_2_ZX81
      96.  03:5810  CD 35 5B              call OWN_PRINT_HEX
      97.  03:5813  AF                    xor a
      98.  03:5814  CD 25 5B              call OWN_PRINT_CHAR
      99.  03:5817  23                    inc hl
     100.  03:5818  10 EE                 djnz .print_finfo_loop
     101.  03:581A  D1                    pop de
     102.  03:581B  C1                    pop bc
     103.  03:581C  E1                    pop hl
     104.  03:581D  C9                    ret
     105.  03:581E                      ; DEBUG!  =================================
     106.  03:581E                      
     107.  03:581E                      INIT_VARIABLES:
     108.  03:581E  21 00 00              ld hl, 0
     109.  03:5821  22 D6 62              ld (_window_pos), hl
     110.  03:5824  AF                    xor a
     111.  03:5825  32 D8 62              ld (_selected_line), a
     112.  03:5828  32 8E 61              ld (_dir), a
     113.  03:582B  21 8E 61              ld hl, _dir
     114.  03:582E  11 8F 61              ld de, _dir+1
     115.  03:5831  01 27 00              ld bc, 39
     116.  03:5834  ED B0                 ldir
     117.  03:5836  C9                    ret
     118.  03:5837                         
     119.  03:5837                      LOAD_DIRECTORY:
     120.  03:5837                      ; f_opendir
     121.  03:5837  21 8E 61              ld hl, _dir
     122.  03:583A  E5                    push hl
     123.  03:583B  21 D6 61              ld hl, _current_path
     124.  03:583E  E5                    push hl
     125.  03:583F  CD 52 37              call _f_opendir
     126.  03:5842  C1                    pop bc
     127.  03:5843  C1                    pop bc
     128.  03:5844                      
     129.  03:5844  7C                    ld a, h
     130.  03:5845  B5                    or l
     131.  03:5846  C0                    ret nz
     132.  03:5847                        
     133.  03:5847  32 D5 61              ld (_reading_non_1st_entry), a ; 00 means reading first entry/false - 01 means reading non-first entry/true
     134.  03:584A  22 D2 61              ld (_num_of_entries), hl
     135.  03:584D  11 00 80              ld de,_directory_entries
     136.  03:5850                      
     137.  03:5850                      
     138.  03:5850                      ; reading the directory
     139.  03:5850                      ; In the root directory the first entry is the name of the volume (?) which is dropped
     140.  03:5850                      ; in the subdirectories first an artificial entry is created and stored and that is the parent directory (../)
     141.  03:5850                      READ_ONE_DIRENTRY:
     142.  03:5850                      ; f_readdir
     143.  03:5850  D5                    push de
     144.  03:5851  21 8E 61              ld hl, _dir
     145.  03:5854  E5                    push hl
     146.  03:5855  21 B6 61              ld hl, _finfo
     147.  03:5858  E5                    push hl
     148.  03:5859  CD BB 38              call _f_readdir
     149.  03:585C  C1                    pop bc
     150.  03:585D  C1                    pop bc
     151.  03:585E  D1                    pop de
     152.  03:585F                        
     153.  03:585F  7C                    ld a,h
     154.  03:5860  B5                    or l
     155.  03:5861  C2 EE 58              jp nz, .end_of_readdir
     156.  03:5864                      
     157.  03:5864  21 BF 61              ld hl, _finfo + 9
     158.  03:5867  7E                    ld a,(hl)
     159.  03:5868  B7                    or a
     160.  03:5869  CA EE 58              jp z, .end_of_readdir
     161.  03:586C                        
     162.  03:586C  3A D4 61              ld a, (_dir_depth)
     163.  03:586F  B7                    or a	; is it 0?
     164.  03:5870  20 0C                 jr nz, .not_root_directory
     165.  03:5872                        
     166.  03:5872  3A D5 61              ld a, (_reading_non_1st_entry)
     167.  03:5875  B7                    or a
     168.  03:5876  20 2E                 jr nz, .not_first_entry
     169.  03:5878                      ; root directory, first entry is the name of the volume - I don't want to show that
     170.  03:5878  3C                    inc a 
     171.  03:5879  32 D5 61              ld (_reading_non_1st_entry), a
     172.  03:587C  18 D2                 jr READ_ONE_DIRENTRY
     173.  03:587E                      .not_root_directory
     174.  03:587E  3A D5 61              ld a, (_reading_non_1st_entry)
     175.  03:5881  B7                    or a
     176.  03:5882  20 22                 jr nz, .not_first_entry
     177.  03:5884                        
     178.  03:5884                        ; inserting the ../ directory, A is zero!
     179.  03:5884  D5                    push de
     180.  03:5885  12                    ld (de), a	; size is 0
     181.  03:5886  13                    inc de
     182.  03:5887  12                    ld (de), a
     183.  03:5888  13                    inc de
     184.  03:5889  3E 02                 ld a, 2
     185.  03:588B  12                    ld (de), a	; type is 2, parent directory
     186.  03:588C  13                    inc de
     187.  03:588D  3E 2E                 ld a, '.'		; file name is ../ with the terminating zero
     188.  03:588F  12                    ld (de), a
     189.  03:5890  13                    inc de
     190.  03:5891  12                    ld (de), a
     191.  03:5892  13                    inc de
     192.  03:5893  3E 2F                 ld a, '/'
     193.  03:5895  12                    ld (de), a
     194.  03:5896  13                    inc de
     195.  03:5897  AF                    xor a
     196.  03:5898  12                    ld (de), a
     197.  03:5899  3C                    inc a
     198.  03:589A  32 D2 61              ld (_num_of_entries), a
     199.  03:589D  32 D5 61              ld (_reading_non_1st_entry), a
     200.  03:58A0  21 10 00              ld hl, $10
     201.  03:58A3  D1                    pop de
     202.  03:58A4  19                    add hl, de
     203.  03:58A5  EB                    ex de, hl
     204.  03:58A6                      .not_first_entry
     205.  03:58A6  3A BE 61              ld a,(_finfo + 8)
     206.  03:58A9  21 B6 61              ld hl, _finfo
     207.  03:58AC  E6 10                 and $10 ; AM_DIR
     208.  03:58AE  20 10                 jr nz, .parse_directory
     209.  03:58B0  ED A0                 ldi
     210.  03:58B2  ED A0                 ldi
     211.  03:58B4  7E                    ld a,(hl)
     212.  03:58B5  23                    inc hl
     213.  03:58B6  B6                    or (hl)
     214.  03:58B7  3E 01                 ld a, $01 ; file, loadable
     215.  03:58B9  28 02                 jr z, .file_type_set
     216.  03:58BB  3E 81                 ld a, $81 ; file, large
     217.  03:58BD                      .file_type_set:
     218.  03:58BD  12                    ld (de), a
     219.  03:58BE  18 04                 jr .copy_file_name
     220.  03:58C0                      .parse_directory:
     221.  03:58C0  13                    inc de
     222.  03:58C1  13                    inc de
     223.  03:58C2  AF                    xor a
     224.  03:58C3  12                    ld (de), a ; directory
     225.  03:58C4                      .copy_file_name:
     226.  03:58C4  13                    inc de
     227.  03:58C5  21 BF 61              ld hl, _finfo + 9
     228.  03:58C8  01 0D 00              ld bc, 13
     229.  03:58CB  ED B0                 ldir
     230.  03:58CD                      
     231.  03:58CD                      .not_directory:
     232.  03:58CD  2A D2 61              ld hl, (_num_of_entries)
     233.  03:58D0  23                    inc hl
     234.  03:58D1  22 D2 61              ld (_num_of_entries), hl
     235.  03:58D4  01 1C 17              ld bc, 23:28
     236.  03:58D7  CD F1 5A              call OWN_SET_POS
     237.  03:58DA  CD 7B 5A              call OWN_PRINT_DEC_3DIGITS
     238.  03:58DD                        
     239.  03:58DD  2A D2 61              ld hl, (_num_of_entries)	; $03e7=999
     240.  03:58E0  7C                    ld a, h
     241.  03:58E1  FE 03                 cp $03
     242.  03:58E3  C2 50 58              jp nz, READ_ONE_DIRENTRY
     243.  03:58E6  7D                    ld a, l
     244.  03:58E7  FE F0                 cp $F0
     245.  03:58E9  28 03                 jr z, .end_of_readdir ; reached $1008 entries, the remainig is stack (BF01-BFFE, BFFF is CTRL_SHADOW)
     246.  03:58EB                      .one_more_round
     247.  03:58EB  C3 50 58              jp READ_ONE_DIRENTRY
     248.  03:58EE                        
     249.  03:58EE                      .end_of_readdir
     250.  03:58EE  21 8E 61              ld hl, _dir
     251.  03:58F1  E5                    push hl
     252.  03:58F2  CD 88 38              call _f_closedir
     253.  03:58F5  C1                    pop bc
     254.  03:58F6  C9                    ret
     255.  03:58F7                        
     256.  03:58F7                      PRINT_PATH:
     257.  03:58F7  21 D6 61              ld hl, _current_path ; path is a non-empty string, first character check can be skipped
     258.  03:58FA                      .find_end_of_path
     259.  03:58FA  23                    inc hl
     260.  03:58FB  7E                    ld a,(hl)
     261.  03:58FC  B7                    or a
     262.  03:58FD  20 FB                 jr nz, .find_end_of_path
     263.  03:58FF  2B                    dec hl
     264.  03:5900  E5                    push hl
     265.  03:5901                        
     266.  03:5901  2A 0C 40              ld hl, (D_FILE)
     267.  03:5904  11 17 03              ld de, 23*33 + 1 + 31
     268.  03:5907  19                    add hl, de
     269.  03:5908  EB                    ex de, hl
     270.  03:5909  E1                    pop hl
     271.  03:590A                        
     272.  03:590A  06 0E                 ld b, 14
     273.  03:590C                      .path_to_screen_loop
     274.  03:590C  7E                    ld a, (hl)
     275.  03:590D  CD 34 5A              call CONVERT_ASCII_2_ZX81
     276.  03:5910  12                    ld (de), a
     277.  03:5911  2B                    dec hl
     278.  03:5912  1B                    dec de
     279.  03:5913                        
     280.  03:5913  E5                    push hl
     281.  03:5914  D5                    push de
     282.  03:5915  11 D6 61              ld de, _current_path
     283.  03:5918  B7                    or a
     284.  03:5919  ED 52                 sbc hl, de
     285.  03:591B  D1                    pop de
     286.  03:591C  E1                    pop hl
     287.  03:591D  38 02                 jr c, .path_print_finished
     288.  03:591F  10 EB                 djnz .path_to_screen_loop
     289.  03:5921                      .path_print_finished
     290.  03:5921  AF                    xor a
     291.  03:5922  B0                    or b
     292.  03:5923  C8                    ret z
     293.  03:5924  AF                    xor a
     294.  03:5925                      .clear_path_field
     295.  03:5925  12                    ld (de),a
     296.  03:5926  1B                    dec de
     297.  03:5927  10 FC                 djnz .clear_path_field
     298.  03:5929  C9                    ret
     299.  03:592A                        
     300.  03:592A                      DISPLAY_BOX:
     301.  03:592A  2A D2 61              ld hl, (_num_of_entries)
     302.  03:592D  7D                    ld a, l
     303.  03:592E  B4                    or h
     304.  03:592F  C8                    ret z
     305.  03:5930                        
     306.  03:5930  06 00                 ld b, 0
     307.  03:5932  0E 10                 ld c, 16
     308.  03:5934  CD 3B 59              call PRINT_ENTRIES
     309.  03:5937  CD 96 59              call CLEAR_REMAINING_LINES
     310.  03:593A  C9                    ret
     311.  03:593B                        
     312.  03:593B                      PRINT_ENTRIES:
     313.  03:593B  78                    ld a, b
     314.  03:593C  32 D9 62              ld (_current_line), A
     315.  03:593F  C5                    push bc
     316.  03:5940  C6 04                 add 4
     317.  03:5942  47                    ld b, A
     318.  03:5943  0E 00                 ld c, 0
     319.  03:5945  CD F1 5A              call OWN_SET_POS
     320.  03:5948  C1                    pop bc
     321.  03:5949                        
     322.  03:5949  2A CE 61              ld hl, (_print_addr)
     323.  03:594C  22 D0 61              ld (_current_screenline_addr), hl
     324.  03:594F                      
     325.  03:594F  2A D6 62              ld hl, (_window_pos)
     326.  03:5952  58                    ld e, b
     327.  03:5953  16 00                 ld d, 0
     328.  03:5955  19                    add hl, de
     329.  03:5956  06 04                 ld b, 4
     330.  03:5958                      .mul_16_loop
     331.  03:5958  CB 25                 sla l
     332.  03:595A  CB 14                 rl h
     333.  03:595C  10 FA                 djnz .mul_16_loop
     334.  03:595E  11 00 80              ld de, _directory_entries
     335.  03:5961  19                    add hl, de
     336.  03:5962                      .print_entries_loop
     337.  03:5962  E5                    push hl
     338.  03:5963  C5                    push bc
     339.  03:5964  CD B4 59              call DISPLAY_ONE_ENTRY
     340.  03:5967  C1                    pop bc
     341.  03:5968  2A D0 61              ld hl, (_current_screenline_addr)
     342.  03:596B  11 21 00              ld de, 33
     343.  03:596E  19                    add hl, de
     344.  03:596F  22 D0 61              ld (_current_screenline_addr), hl
     345.  03:5972  22 CE 61              ld (_print_addr), hl
     346.  03:5975  21 D9 62              ld hl, _current_line
     347.  03:5978  7E                    ld a,(hl)
     348.  03:5979  3C                    inc a
     349.  03:597A  77                    ld (hl), a
     350.  03:597B  2A D6 62              ld hl, (_window_pos)
     351.  03:597E  5F                    ld e,a
     352.  03:597F  16 00                 ld d,0
     353.  03:5981  19                    add hl, de
     354.  03:5982  ED 5B D2 61           ld de,(_num_of_entries)
     355.  03:5986  B7                    or a
     356.  03:5987  ED 52                 sbc hl, de
     357.  03:5989  E1                    pop hl
     358.  03:598A  28 08                 jr z, .end_of_entries
     359.  03:598C  11 10 00              ld de, 16
     360.  03:598F  19                    add hl, de
     361.  03:5990  0D                    dec c
     362.  03:5991  20 CF                 jr nz, .print_entries_loop
     363.  03:5993  C9                    ret
     364.  03:5994                      .end_of_entries
     365.  03:5994  0D                    dec c
     366.  03:5995  C9                    ret
     367.  03:5996                        
     368.  03:5996                      CLEAR_REMAINING_LINES
     369.  03:5996  AF                    xor a
     370.  03:5997  B9                    cp c
     371.  03:5998  C8                    ret z
     372.  03:5999  41                    ld b, c
     373.  03:599A  0E 20                 ld c, 32
     374.  03:599C  AF                    xor a
     375.  03:599D  2A CE 61              ld hl, (_print_addr)
     376.  03:59A0                      .loop_clear_one_line
     377.  03:59A0  77                    ld (hl), a
     378.  03:59A1  23                    inc hl
     379.  03:59A2  0D                    dec c
     380.  03:59A3  20 FB                 jr nz, .loop_clear_one_line
     381.  03:59A5  2A CE 61              ld hl, (_print_addr)
     382.  03:59A8  11 21 00              ld de, 33
     383.  03:59AB  19                    add hl, de
     384.  03:59AC  22 CE 61              ld (_print_addr), hl
     385.  03:59AF  0E 20                 ld c, 32
     386.  03:59B1  10 ED                 djnz .loop_clear_one_line
     387.  03:59B3  C9                    ret
     388.  03:59B4                      
     389.  03:59B4                        
     390.  03:59B4                      ; hl is set to the addr of the entry
     391.  03:59B4                      ; (_print_addr) is set to the start of the line to be used
     392.  03:59B4                      ; (_current_line) is set to the line to be printed
     393.  03:59B4                      ; (_selected_line) is set 
     394.  03:59B4                      DISPLAY_ONE_ENTRY:
     395.  03:59B4  EB                    ex de, hl
     396.  03:59B5  3A D9 62              ld a, (_current_line)
     397.  03:59B8  21 D8 62              ld hl, _selected_line
     398.  03:59BB  BE                    cp (hl)
     399.  03:59BC  3E 00                 ld a, __
     400.  03:59BE  20 02                 jr nz, $+4
     401.  03:59C0  3E 12                 ld a, _GT
     402.  03:59C2  CD 25 5B              call OWN_PRINT_CHAR
     403.  03:59C5  2A CE 61              ld hl, (_print_addr)
     404.  03:59C8  23                    inc hl
     405.  03:59C9  22 CE 61              ld (_print_addr), hl
     406.  03:59CC  EB                    ex de, hl
     407.  03:59CD  CD 0F 5A              call PRINT_FILENAME
     408.  03:59D0                      
     409.  03:59D0  E5                    push hl
     410.  03:59D1                      
     411.  03:59D1  23                    inc hl  
     412.  03:59D2  23                    inc hl
     413.  03:59D3  7E                    ld a, (hl)
     414.  03:59D4  B7                    or a
     415.  03:59D5  28 13                 jr z, .print_dir	; sub-dir
     416.  03:59D7  FE 02                 cp $02
     417.  03:59D9  28 0F                 jr z, .print_dir	; parent-dir
     418.  03:59DB  FE 81                 cp $81
     419.  03:59DD  28 10                 jr z, .print_gt64k
     420.  03:59DF  E1                    pop hl
     421.  03:59E0  E5                    push hl
     422.  03:59E1  5E                    ld e,(hl)
     423.  03:59E2  23                    inc hl
     424.  03:59E3  56                    ld d, (hl)
     425.  03:59E4  EB                    ex de, hl
     426.  03:59E5  CD 61 5A              call OWN_PRINT_DEC
     427.  03:59E8  18 0B                 jr .sel_end
     428.  03:59EA                      .print_dir
     429.  03:59EA  21 BF 39              ld hl, BANK2.DIR_STR
     430.  03:59ED  18 03                 jr .print_gt64k+3
     431.  03:59EF                      .print_gt64k
     432.  03:59EF  21 BA 39              ld hl, BANK2.GT64K_STR
     433.  03:59F2  CD 0D 5B              call OWN_PRINT_STR
     434.  03:59F5                      .sel_end
     435.  03:59F5  2A CE 61              ld hl, (_print_addr)
     436.  03:59F8  23                    inc hl
     437.  03:59F9  22 CE 61              ld (_print_addr), hl
     438.  03:59FC  3A D9 62              ld a, (_current_line)
     439.  03:59FF  21 D8 62              ld hl, _selected_line
     440.  03:5A02  BE                    cp (hl)
     441.  03:5A03  3E 00                 ld a, __
     442.  03:5A05  20 02                 jr nz, $+4
     443.  03:5A07  3E 13                 ld a, _LT
     444.  03:5A09  EB                    ex de, hl
     445.  03:5A0A  CD 25 5B              call OWN_PRINT_CHAR
     446.  03:5A0D  E1                    pop hl
     447.  03:5A0E  C9                    ret
     448.  03:5A0F                        
     449.  03:5A0F                      PRINT_FILENAME:
     450.  03:5A0F  E5                    push hl
     451.  03:5A10  23                    inc hl
     452.  03:5A11  23                    inc hl
     453.  03:5A12  23                    inc hl
     454.  03:5A13  06 0C                 ld b, 12
     455.  03:5A15  ED 5B CE 61           ld de, (_print_addr)
     456.  03:5A19                      .print_filename_loop
     457.  03:5A19  7E                    ld a, (hl)
     458.  03:5A1A  B7                    or a
     459.  03:5A1B  28 0A                 jr z, .end_of_filename
     460.  03:5A1D  CD 34 5A              call CONVERT_ASCII_2_ZX81
     461.  03:5A20  12                    ld (de), a
     462.  03:5A21  13                    inc de
     463.  03:5A22  23                    inc hl
     464.  03:5A23  10 F4                 djnz .print_filename_loop
     465.  03:5A25  18 04                 jr .filename_done
     466.  03:5A27                      .end_of_filename
     467.  03:5A27                      .pad_filename_loop
     468.  03:5A27  12                    ld (de), a
     469.  03:5A28  13                    inc de
     470.  03:5A29  10 FC                 djnz .pad_filename_loop
     471.  03:5A2B                      .filename_done
     472.  03:5A2B  21 0B 00              ld hl, 11
     473.  03:5A2E  19                    add hl, de
     474.  03:5A2F  22 CE 61              ld (_print_addr), hl
     475.  03:5A32  E1                    pop hl
     476.  03:5A33  C9                    ret
     477.  03:5A34                        
     478.  03:5A34                      CONVERT_ASCII_2_ZX81:
     479.  03:5A34  FE 20                 cp $20
     480.  03:5A36  38 26                 jr c, .non_printable	; <$20
     481.  03:5A38  FE 40                 cp $40
     482.  03:5A3A  38 13                 jr c, .transcodable
     483.  03:5A3C  28 20                 jr z, .non_printable	; =$40
     484.  03:5A3E  FE 5B                 cp $5B
     485.  03:5A40  38 0A                 jr c, .convertable	; <$5B 'z'
     486.  03:5A42  FE 61                 cp $61
     487.  03:5A44  38 18                 jr c, .non_printable	; <$61
     488.  03:5A46  FE 7B                 cp $7B
     489.  03:5A48  30 14                 jr nc, .non_printable	; >=$7B 'Z'+1
     490.  03:5A4A  D6 20                 sub $20
     491.  03:5A4C                      .convertable
     492.  03:5A4C  D6 1B                 sub ('A' - _A)
     493.  03:5A4E  C9                    ret
     494.  03:5A4F                      .transcodable
     495.  03:5A4F  E5                    push hl
     496.  03:5A50  D5                    push de
     497.  03:5A51  D6 20                 sub $20
     498.  03:5A53  21 9A 39              ld hl, BANK2.ASCII_CONVERT_TABLE
     499.  03:5A56  16 00                 ld d, 0
     500.  03:5A58  5F                    ld e, a
     501.  03:5A59  19                    add hl, de
     502.  03:5A5A  7E                    ld a, (hl)
     503.  03:5A5B  D1                    pop de
     504.  03:5A5C  E1                    pop hl
     505.  03:5A5D  C9                    ret
     506.  03:5A5E                      .non_printable
     507.  03:5A5E  3E 09                 ld a, 9
     508.  03:5A60  C9                    ret
     509.  03:5A61                        
     510.  03:5A61                      ;Number in hl to decimal ASCII
     511.  03:5A61                      ;Thanks to z80 Bits
     512.  03:5A61                      ;inputs:	hl = number to ASCII
     513.  03:5A61                      ;example: hl=300 outputs "00300"
     514.  03:5A61                      OWN_PRINT_DEC:
     515.  03:5A61  E5                              PUSH    hl 
     516.  03:5A62  AF                              XOR     a
     517.  03:5A63  01 10 27                        LD      bc,10000 
     518.  03:5A66  ED 42                           SBC     HL,BC 
     519.  03:5A68  E1                              POP     HL 
     520.  03:5A69  30 2C                           JR      nc,OWN_PRINT_DEC_3DIGITS.print_dec_5
     521.  03:5A6B  CD 25 5B            			call    OWN_PRINT_CHAR
     522.  03:5A6E                      OWN_PRINT_DEC_4DIGITS:
     523.  03:5A6E  E5                              PUSH    hl 
     524.  03:5A6F  AF                              XOR     a
     525.  03:5A70  01 E8 03                        LD      bc,1000 
     526.  03:5A73  ED 42                           SBC     HL,BC 
     527.  03:5A75  E1                              POP     HL 
     528.  03:5A76  30 25                           JR      nc,OWN_PRINT_DEC_3DIGITS.print_dec_4 
     529.  03:5A78  CD 25 5B            			call    OWN_PRINT_CHAR
     530.  03:5A7B                      OWN_PRINT_DEC_3DIGITS:
     531.  03:5A7B  E5                              PUSH    hl 
     532.  03:5A7C  AF                              XOR     a
     533.  03:5A7D  01 64 00                        LD      bc,100 
     534.  03:5A80  ED 42                           SBC     HL,BC 
     535.  03:5A82  E1                              POP     HL 
     536.  03:5A83  30 1E                           JR      nc,.print_dec_3
     537.  03:5A85  CD 25 5B            			call    OWN_PRINT_CHAR
     538.  03:5A88  E5                              PUSH    hl 
     539.  03:5A89  AF                              XOR     a
     540.  03:5A8A  01 0A 00                        LD      bc,10 
     541.  03:5A8D  ED 42                           SBC     HL,BC 
     542.  03:5A8F  E1                              POP     HL 
     543.  03:5A90  30 17                           JR      nc,.print_dec_2
     544.  03:5A92  CD 25 5B            			call    OWN_PRINT_CHAR
     545.  03:5A95  18 18                           JR      .print_dec_1 
     546.  03:5A97                      
     547.  03:5A97                      .print_dec_5:    
     548.  03:5A97  01 F0 D8                        LD      bc,$D8F0 ; -10000
     549.  03:5A9A  CD B2 5A                        CALL    .num1
     550.  03:5A9D                      .print_dec_4:    
     551.  03:5A9D  01 18 FC                        LD      bc,$FC18 ; -1000
     552.  03:5AA0  CD B2 5A                        CALL    .num1
     553.  03:5AA3                      .print_dec_3:    
     554.  03:5AA3  01 9C FF                        LD      bc,-100 
     555.  03:5AA6  CD B2 5A                        CALL    .num1
     556.  03:5AA9                      .print_dec_2:    
     557.  03:5AA9  01 F6 FF                        LD      bc,-10 
     558.  03:5AAC  CD B2 5A                        CALL    .num1 
     559.  03:5AAF                      .print_dec_1:    
     560.  03:5AAF  01 FF FF                        LD      bc,-1 
     561.  03:5AB2                      .num1:                
     562.  03:5AB2  3E 1B                           LD      a,_0 - 1
     563.  03:5AB4                      .num2:                
     564.  03:5AB4  3C                              INC     a 
     565.  03:5AB5  09                              ADD     hl,bc 
     566.  03:5AB6  38 FC                           JR      c,.num2
     567.  03:5AB8  ED 42                           SBC     hl,bc 
     568.  03:5ABA  CD 25 5B            			call 	OWN_PRINT_CHAR
     569.  03:5ABD  C9                              RET
     570.  03:5ABE                      
     571.  03:5ABE                      LOOP_KEY_NOT_PRESSED:
     572.  03:5ABE  3A 26 40              ld a,(LAST_K + 1)
     573.  03:5AC1  FE FF                 cp $FF
     574.  03:5AC3  28 F9                 jr z, LOOP_KEY_NOT_PRESSED
     575.  03:5AC5                      .loop_key_pressed
     576.  03:5AC5  3A 26 40              ld a,(LAST_K + 1)
     577.  03:5AC8  FE FF                 cp $FF
     578.  03:5ACA  20 F9                 jr nz, .loop_key_pressed
     579.  03:5ACC  C9                    ret
     580.  03:5ACD                        
     581.  03:5ACD                      @OWN_PRINT_HL_INPLACE
     582.  03:5ACD  E5                  	push hl
     583.  03:5ACE  2A CE 61            	ld hl,(_print_addr)
     584.  03:5AD1  2B                  	dec hl
     585.  03:5AD2  2B                  	dec hl
     586.  03:5AD3  2B                  	dec hl
     587.  03:5AD4  2B                  	dec hl
     588.  03:5AD5  22 CE 61            	ld (_print_addr), hl
     589.  03:5AD8  E1                  	pop hl
     590.  03:5AD9                      @OWN_PRINT_HL
     591.  03:5AD9  F5                  	push af
     592.  03:5ADA  7C                  	ld a,h
     593.  03:5ADB  CD 35 5B            	call OWN_PRINT_HEX
     594.  03:5ADE  7D                  	ld a,l
     595.  03:5ADF  CD 35 5B            	call OWN_PRINT_HEX
     596.  03:5AE2  F1                  	pop af
     597.  03:5AE3  C9                  	ret
     598.  03:5AE4                      	
     599.  03:5AE4                      @OWN_FIRST_INPLACE
     600.  03:5AE4  E5                    push hl
     601.  03:5AE5  2A CE 61              ld hl,(_print_addr)
     602.  03:5AE8  23                    inc hl
     603.  03:5AE9  23                    inc hl
     604.  03:5AEA  23                    inc hl
     605.  03:5AEB  23                    inc hl
     606.  03:5AEC  22 CE 61              ld (_print_addr), hl
     607.  03:5AEF  E1                    pop hl
     608.  03:5AF0  C9                    ret
     609.  03:5AF1                      
     610.  03:5AF1                      ; INPUT
     611.  03:5AF1                      ;  B - row (0..23)
     612.  03:5AF1                      ;  C - column (0..31)
     613.  03:5AF1                      OWN_SET_POS:
     614.  03:5AF1  E5                    push HL
     615.  03:5AF2  D5                    push DE
     616.  03:5AF3  2A 0C 40              ld hl,(D_FILE)
     617.  03:5AF6  16 00                 ld d,0
     618.  03:5AF8  23                    inc hl ; let's skip the first $76
     619.  03:5AF9  AF                    xor a
     620.  03:5AFA  B0                    or b
     621.  03:5AFB  28 05                 jr z,.LINE_ADDR_OK
     622.  03:5AFD  1E 21                 ld e,33 ; 32 chars + NL
     623.  03:5AFF                      .ADD_LINE_NUM
     624.  03:5AFF  19                    add hl,de
     625.  03:5B00  10 FD                 djnz .ADD_LINE_NUM
     626.  03:5B02                      .LINE_ADDR_OK:
     627.  03:5B02  59                    ld e,c
     628.  03:5B03  19                    add hl,de
     629.  03:5B04  22 CE 61              ld (_print_addr), HL
     630.  03:5B07  D1                    pop DE
     631.  03:5B08  E1                    pop HL
     632.  03:5B09  C9                    ret
     633.  03:5B0A                      
     634.  03:5B0A                      ; B - row pos, starting with 0
     635.  03:5B0A                      ; C - col pos, starting with 0
     636.  03:5B0A                      ; HL - pointer to $FF terminated string
     637.  03:5B0A                      
     638.  03:5B0A                      OWN_PRINT_AT:
     639.  03:5B0A  CD F1 5A              call OWN_SET_POS
     640.  03:5B0D                      OWN_PRINT_STR:
     641.  03:5B0D  ED 5B CE 61           ld DE, (_print_addr)
     642.  03:5B11                      .own_print_str_loop
     643.  03:5B11  7E                    ld a,(HL)
     644.  03:5B12  FE FF                 cp $FF
     645.  03:5B14  C8                    ret z
     646.  03:5B15  1A                    ld a,(de)
     647.  03:5B16  CB 77                 bit 6, a
     648.  03:5B18  28 01                 jr z, .hl_ok
     649.  03:5B1A  13                    inc de
     650.  03:5B1B                      .hl_ok
     651.  03:5B1B  7E                    ld a,(hl)
     652.  03:5B1C  12                    ld (de),a
     653.  03:5B1D  23                    inc hl
     654.  03:5B1E  13                    inc de
     655.  03:5B1F  ED 53 CE 61           ld (_print_addr), DE
     656.  03:5B23  18 EC                 jr .own_print_str_loop
     657.  03:5B25                      
     658.  03:5B25                      @OWN_PRINT_CHAR:
     659.  03:5B25  E5                    push HL
     660.  03:5B26  2A CE 61              ld hl, (_print_addr)
     661.  03:5B29  CB 76                 bit 6, (hl)
     662.  03:5B2B  28 01                 jr z, .hl_ok
     663.  03:5B2D  23                    inc hl
     664.  03:5B2E                      .hl_ok
     665.  03:5B2E  77                    ld (hl), A
     666.  03:5B2F  23                    inc hl
     667.  03:5B30  22 CE 61              ld (_print_addr), hl
     668.  03:5B33  E1                    pop HL
     669.  03:5B34  C9                    ret
     670.  03:5B35                        
     671.  03:5B35                      @OWN_PRINT_HEX
     672.  03:5B35  E5                    push HL
     673.  03:5B36  F5                    push AF
     674.  03:5B37  0F                    RRCA
     675.  03:5B38  0F                    RRCA
     676.  03:5B39  0F                    RRCA
     677.  03:5B3A  0F                    RRCA
     678.  03:5B3B  CD 44 5B              call OWN_PRINT_NIBBLE
     679.  03:5B3E  F1                    pop AF
     680.  03:5B3F  CD 44 5B              call OWN_PRINT_NIBBLE
     681.  03:5B42  E1                    pop HL
     682.  03:5B43  C9                    RET
     683.  03:5B44                        
     684.  03:5B44                      OWN_PRINT_NIBBLE
     685.  03:5B44  E6 0F                 AND $0F	
     686.  03:5B46  FE 09                 cp $09
     687.  03:5B48  38 04                 jr c,.hex_digit
     688.  03:5B4A  C6 1C                 add _0
     689.  03:5B4C  18 04                 jr .hex_nibble_ok
     690.  03:5B4E                      .hex_digit:
     691.  03:5B4E  D6 0A                 sub $0A
     692.  03:5B50  C6 26                 add _A
     693.  03:5B52                      .hex_nibble_ok:
     694.  03:5B52  2A CE 61              ld hl,(_print_addr)
     695.  03:5B55  CB 76                 bit 6, (hl)
     696.  03:5B57  28 01                 jr z, .hl_ok
     697.  03:5B59  23                    inc hl
     698.  03:5B5A                      .hl_ok
     699.  03:5B5A  77                    ld (hl),a
     700.  03:5B5B  23                    inc hl
     701.  03:5B5C  22 CE 61              ld (_print_addr), hl
     702.  03:5B5F  C9                    ret
     703.  03:5B60                        
     704.  03:5B60                      @OWN_WAIT_SOME:
     705.  03:5B60  C9                    ret
     706.  03:5B61  E5                    push HL
     707.  03:5B62  F5                    push AF
     708.  03:5B63  21 00 C0              ld hl, $C000
     709.  03:5B66                      .loop
     710.  03:5B66  23                    inc hl
     711.  03:5B67  7C                    ld a,h
     712.  03:5B68  B5                    or l
     713.  03:5B69  20 FB                 jr nz, .loop
     714.  03:5B6B  F1                    pop AF
     715.  03:5B6C  E1                    pop HL  
     716.  03:5B6D  C9                    ret
     717.  03:5B6E                      
     718.  03:5B6E                      
     719.  03:5B6E                      
     720.  03:5B6E                      HANDLE_INPUT:
     721.  03:5B6E  3A 34 40              ld a,(FRAMES)
     722.  03:5B71  21 DC 62              ld hl, _last_frame
     723.  03:5B74  BE                    cp (hl)
     724.  03:5B75  28 F7                 jr z,HANDLE_INPUT
     725.  03:5B77                        
     726.  03:5B77  32 DC 62              ld (_last_frame), A
     727.  03:5B7A  DB 3F                 IN A, (CTRL_PORT)
     728.  03:5B7C  CB 67                 BIT 4, A
     729.  03:5B7E  28 16                 jr z, .sd_card_in_socket
     730.  03:5B80  3A FF BF              ld A, (CTRL_SHADOW)
     731.  03:5B83  E6 F7                 AND ~(1<<SD_SPI_CS)
     732.  03:5B85  32 FF BF              ld (CTRL_SHADOW), A
     733.  03:5B88  D3 3F                 OUT (CTRL_PORT), A
     734.  03:5B8A                      .one_frame_loop
     735.  03:5B8A  3A 34 40              ld a,(FRAMES)
     736.  03:5B8D  21 DC 62              ld hl, _last_frame
     737.  03:5B90  BE                    cp (hl)
     738.  03:5B91  28 F7                 jr z,.one_frame_loop
     739.  03:5B93  C3 EE 3F              jp BANK2.BACK_TO_FLASH
     740.  03:5B96                      
     741.  03:5B96                      .sd_card_in_socket:
     742.  03:5B96  CD 87 5E              CALL CHECK_KEMPSTON
     743.  03:5B99  AF                    xor a
     744.  03:5B9A  B9                    cp c
     745.  03:5B9B  20 03                 jr nz,.skip_keyboard_check
     746.  03:5B9D  CD AE 5E              call CHECK_56780
     747.  03:5BA0                      .skip_keyboard_check:
     748.  03:5BA0  3A DA 62              ld a,(_last_pressed_key)
     749.  03:5BA3  B9                    cp C
     750.  03:5BA4  21 DB 62              ld hl,_pressed_key_cnt
     751.  03:5BA7  20 0B                 jr nz,.new_key_pressed
     752.  03:5BA9  35                    dec (hl)
     753.  03:5BAA  7E                    ld a,(hl)	; same key-press as before
     754.  03:5BAB  FE 0E                 cp REPEAT_KEY_COUNTER_FIRST - 2 ; first press should be detected fast
     755.  03:5BAD  28 11                 jr z,.key_pressed_first
     756.  03:5BAF  B7                    OR A
     757.  03:5BB0  28 0B                 jr z,.key_pressed
     758.  03:5BB2  18 BA                 jr HANDLE_INPUT
     759.  03:5BB4                      .new_key_pressed:
     760.  03:5BB4  79                    ld a,c
     761.  03:5BB5  32 DA 62              ld (_last_pressed_key), a
     762.  03:5BB8  3E 10                 ld a, REPEAT_KEY_COUNTER_FIRST
     763.  03:5BBA  77                    ld (hl), a
     764.  03:5BBB  18 B1                 jr HANDLE_INPUT
     765.  03:5BBD                      .key_pressed:
     766.  03:5BBD  3E 0A                 ld a,REPEAT_KEY_COUNTER_SECOND
     767.  03:5BBF  77                    ld (hl), a
     768.  03:5BC0                      .key_pressed_first:
     769.  03:5BC0  79                    ld a,c
     770.  03:5BC1  FE 02                 cp KEY_UP
     771.  03:5BC3  28 21                 jr z,PROCESS_KEY_UP
     772.  03:5BC5  FE 03                 cp KEY_DOWN
     773.  03:5BC7  CA 4F 5C              jp z,PROCESS_KEY_DOWN
     774.  03:5BCA  FE 04                 cp KEY_LEFT
     775.  03:5BCC  CA CB 5C              jp z,PROCESS_KEY_LEFT
     776.  03:5BCF  FE 05                 cp KEY_RIGHT
     777.  03:5BD1  CA 14 5D              jp z,PROCESS_KEY_RIGHT
     778.  03:5BD4  FE 06                 cp KEY_SELECT
     779.  03:5BD6  CA A4 5D              jp z,PROCESS_KEY_SELECT
     780.  03:5BD9  FE 01                 cp KEY_1
     781.  03:5BDB  CA 84 5E              jp z,PROCESS_EXIT
     782.  03:5BDE  FE 07                 cp KEY_C
     783.  03:5BE0  CA F1 5E              jp z,PROCESS_CREDITS
     784.  03:5BE3  C3 6E 5B              jp HANDLE_INPUT
     785.  03:5BE6                      
     786.  03:5BE6                      PROCESS_KEY_UP:
     787.  03:5BE6  3A D8 62              ld a,(_selected_line)
     788.  03:5BE9  B7                    or a
     789.  03:5BEA  28 28                 jr z, .on_top_of_box
     790.  03:5BEC  C6 04                 add 4
     791.  03:5BEE  47                    ld b, a
     792.  03:5BEF  0E 00                 ld c, 0
     793.  03:5BF1  CD F1 5A              call OWN_SET_POS
     794.  03:5BF4  3E 00                 ld a, __
     795.  03:5BF6  2A CE 61              ld hl, (_print_addr)
     796.  03:5BF9  77                    ld (hl), a
     797.  03:5BFA  11 1F 00              ld de, 31
     798.  03:5BFD  19                    add hl, de
     799.  03:5BFE  77                    ld (hl), a
     800.  03:5BFF  11 C0 FF              ld de, -31-33
     801.  03:5C02  19                    add hl, de
     802.  03:5C03  3E 12                 ld a, _GT
     803.  03:5C05  77                    ld (hl), a
     804.  03:5C06  11 1F 00              ld de, 31
     805.  03:5C09  19                    add hl, de
     806.  03:5C0A  3E 13                 ld a, _LT
     807.  03:5C0C  77                    ld (hl), a
     808.  03:5C0D  21 D8 62              ld hl, _selected_line
     809.  03:5C10  35                    dec (hl)
     810.  03:5C11  C3 6E 5B              jp HANDLE_INPUT
     811.  03:5C14                      .on_top_of_box
     812.  03:5C14  2A D6 62              ld hl,(_window_pos)
     813.  03:5C17  7D                    ld a,l
     814.  03:5C18  B4                    or h
     815.  03:5C19  CA 6E 5B              jp z, HANDLE_INPUT ; we are at the top of the window (pos: 0)
     816.  03:5C1C                        
     817.  03:5C1C  2B                    dec hl
     818.  03:5C1D  22 D6 62              ld (_window_pos), hl
     819.  03:5C20                        
     820.  03:5C20  06 04                 ld b, 4
     821.  03:5C22  0E 00                 ld c, 0
     822.  03:5C24  CD F1 5A              call OWN_SET_POS
     823.  03:5C27  3E 00                 ld a, __
     824.  03:5C29  2A CE 61              ld hl, (_print_addr)
     825.  03:5C2C  77                    ld (hl), a
     826.  03:5C2D  11 1F 00              ld de, 31
     827.  03:5C30  19                    add hl, de
     828.  03:5C31  77                    ld (hl), a
     829.  03:5C32                        
     830.  03:5C32  2A 0C 40              ld hl, (D_FILE)
     831.  03:5C35  11 72 02              ld de, 1+(4 + WINDOW_HEIGHT - 2)*33 + 31
     832.  03:5C38  19                    add hl, de
     833.  03:5C39  E5                    push hl
     834.  03:5C3A  11 21 00              ld de, 33
     835.  03:5C3D  19                    add hl, de
     836.  03:5C3E  EB                    ex de, hl
     837.  03:5C3F  E1                    pop hl
     838.  03:5C40  01 EF 01              ld bc, (WINDOW_HEIGHT - 1)*33
     839.  03:5C43  ED B8                 lddr
     840.  03:5C45                      
     841.  03:5C45  06 00                 ld b,0
     842.  03:5C47  0E 01                 ld c,1
     843.  03:5C49  CD 3B 59              call PRINT_ENTRIES
     844.  03:5C4C                      
     845.  03:5C4C  C3 6E 5B              jp HANDLE_INPUT
     846.  03:5C4F                        
     847.  03:5C4F                      PROCESS_KEY_DOWN:
     848.  03:5C4F  2A D6 62              ld hl,(_window_pos)
     849.  03:5C52  3A D8 62              ld a,(_selected_line)
     850.  03:5C55  5F                    ld e,a
     851.  03:5C56  16 00                 ld d,0
     852.  03:5C58  19                    add hl,de
     853.  03:5C59  23                    inc hl
     854.  03:5C5A  EB                    ex de, hl
     855.  03:5C5B  2A D2 61              ld hl, (_num_of_entries)
     856.  03:5C5E  AF                    xor a
     857.  03:5C5F  ED 52                 sbc hl,de
     858.  03:5C61  DA 6E 5B              jp c, HANDLE_INPUT
     859.  03:5C64  7C                    ld a,h
     860.  03:5C65  B5                    or l
     861.  03:5C66  CA 6E 5B              jp z, HANDLE_INPUT
     862.  03:5C69  3A D8 62              ld a,(_selected_line)
     863.  03:5C6C  FE 0F                 cp (WINDOW_HEIGHT - 1)
     864.  03:5C6E  28 2D                 jr z,.on_botton_of_box
     865.  03:5C70  3A D8 62              ld a,(_selected_line)
     866.  03:5C73  32 D9 62              ld (_current_line), a
     867.  03:5C76  C6 04                 add 4
     868.  03:5C78  47                    ld b, a
     869.  03:5C79  0E 00                 ld c, 0
     870.  03:5C7B  CD F1 5A              call OWN_SET_POS
     871.  03:5C7E  2A CE 61              ld hl, (_print_addr)
     872.  03:5C81  AF                    xor a
     873.  03:5C82  77                    ld (hl),a
     874.  03:5C83  11 1F 00              ld de,31
     875.  03:5C86  19                    add hl,de
     876.  03:5C87  77                    ld (hl),a
     877.  03:5C88  11 02 00              ld de,2
     878.  03:5C8B  19                    add hl,de
     879.  03:5C8C  3E 12                 ld a,_GT
     880.  03:5C8E  77                    ld (hl), a
     881.  03:5C8F  11 1F 00              ld de,31
     882.  03:5C92  19                    add hl,de
     883.  03:5C93  3E 13                 ld a,_LT
     884.  03:5C95  77                    ld (hl), a
     885.  03:5C96  21 D8 62              ld hl, _selected_line
     886.  03:5C99  34                    inc (hl)
     887.  03:5C9A  C3 6E 5B              jp HANDLE_INPUT
     888.  03:5C9D                      .on_botton_of_box:
     889.  03:5C9D  21 D6 62              ld hl, _window_pos
     890.  03:5CA0  34                    inc (hl)
     891.  03:5CA1  2A 0C 40              ld hl, (D_FILE)
     892.  03:5CA4  11 74 02              ld de, 19*33 + 1
     893.  03:5CA7  19                    add hl, de
     894.  03:5CA8  AF                    xor a
     895.  03:5CA9  77                    ld (hl), a
     896.  03:5CAA  11 1F 00              ld de, 31
     897.  03:5CAD  19                    add hl, de
     898.  03:5CAE  77                    ld (hl), a
     899.  03:5CAF                        
     900.  03:5CAF                      ; moving the screen 
     901.  03:5CAF  2A 0C 40              ld hl, (D_FILE)
     902.  03:5CB2  11 85 00              ld de, 1+4*33
     903.  03:5CB5  19                    add hl, de
     904.  03:5CB6  E5                    push hl
     905.  03:5CB7  11 21 00              ld de, 33
     906.  03:5CBA  19                    add hl, de
     907.  03:5CBB  D1                    pop de
     908.  03:5CBC  01 EF 01              ld bc, (WINDOW_HEIGHT - 1) * 33
     909.  03:5CBF  ED B0                 ldir
     910.  03:5CC1                        
     911.  03:5CC1  06 0F                 ld b,(WINDOW_HEIGHT - 1)
     912.  03:5CC3  0E 01                 ld c,1
     913.  03:5CC5  CD 3B 59              call PRINT_ENTRIES
     914.  03:5CC8                        
     915.  03:5CC8  C3 6E 5B              jp HANDLE_INPUT
     916.  03:5CCB                        
     917.  03:5CCB                      PROCESS_KEY_LEFT:
     918.  03:5CCB  2A D6 62              ld hl, (_window_pos)
     919.  03:5CCE  11 10 00              ld de, WINDOW_HEIGHT
     920.  03:5CD1  AF                    xor a
     921.  03:5CD2  ED 52                 sbc hl, de
     922.  03:5CD4  38 0D                 jr c, .less_than_a_page
     923.  03:5CD6                      .print_full_screen
     924.  03:5CD6  22 D6 62              ld (_window_pos), hl
     925.  03:5CD9  06 00                 ld b, 0
     926.  03:5CDB  0E 10                 ld c, 16
     927.  03:5CDD  CD 3B 59              call PRINT_ENTRIES
     928.  03:5CE0  C3 6E 5B              JP HANDLE_INPUT
     929.  03:5CE3                      .less_than_a_page
     930.  03:5CE3  2A D6 62              ld hl, (_window_pos)
     931.  03:5CE6  7D                    ld a,l
     932.  03:5CE7  B4                    or h
     933.  03:5CE8  28 05                 jr z, .page_up_on_first_page
     934.  03:5CEA  21 00 00              ld hl, 0
     935.  03:5CED  18 E7                 jr .print_full_screen
     936.  03:5CEF                      .page_up_on_first_page:
     937.  03:5CEF  3A D8 62              ld a, (_selected_line)
     938.  03:5CF2  32 D9 62              ld (_current_line), a
     939.  03:5CF5  C6 04                 add 4
     940.  03:5CF7  47                    ld b, a
     941.  03:5CF8  0E 00                 ld c, 0
     942.  03:5CFA  CD F1 5A              call OWN_SET_POS
     943.  03:5CFD  2A CE 61              ld hl, (_print_addr)
     944.  03:5D00  AF                    xor a
     945.  03:5D01  77                    ld (hl), a
     946.  03:5D02  11 1F 00              ld de,31
     947.  03:5D05  19                    add hl,de
     948.  03:5D06  77                    ld (hl), a
     949.  03:5D07  32 D8 62              ld (_selected_line), a
     950.  03:5D0A  06 00                 ld b, 0
     951.  03:5D0C  0E 01                 ld c, 1
     952.  03:5D0E  CD 3B 59              call PRINT_ENTRIES
     953.  03:5D11  C3 6E 5B              jp HANDLE_INPUT
     954.  03:5D14                      
     955.  03:5D14                      PROCESS_KEY_RIGHT:
     956.  03:5D14  21 10 00              ld hl, WINDOW_HEIGHT
     957.  03:5D17  ED 5B D2 61           ld de, (_num_of_entries)
     958.  03:5D1B  AF                    xor a
     959.  03:5D1C  ED 52                 sbc hl,de
     960.  03:5D1E  30 2C                 jr nc,.page_down_one_page_only
     961.  03:5D20  2A D6 62              ld hl, (_window_pos)
     962.  03:5D23  11 10 00              ld de, WINDOW_HEIGHT
     963.  03:5D26  19                    add hl, de
     964.  03:5D27  ED 5B D2 61           ld de, (_num_of_entries)
     965.  03:5D2B  AF                    xor a
     966.  03:5D2C  ED 52                 sbc hl, de
     967.  03:5D2E  28 44                 jr z, .page_down_this_is_the_last_page
     968.  03:5D30  2A D6 62              ld hl, (_window_pos)
     969.  03:5D33  11 20 00              ld de, WINDOW_HEIGHT + WINDOW_HEIGHT
     970.  03:5D36  19                    add  hl, de
     971.  03:5D37  ED 5B D2 61           ld de, (_num_of_entries)
     972.  03:5D3B  AF                    xor a
     973.  03:5D3C  ED 52                 sbc hl, de
     974.  03:5D3E  30 4E                 jr nc, .page_down_is_almost_ok
     975.  03:5D40  2A D6 62              ld hl,(_window_pos)
     976.  03:5D43  11 10 00              ld de, WINDOW_HEIGHT
     977.  03:5D46  19                    add hl, de
     978.  03:5D47  22 D6 62              ld (_window_pos), hl
     979.  03:5D4A  18 4E                 jr .full_box_vars_set
     980.  03:5D4C                      .page_down_one_page_only
     981.  03:5D4C  0E 00                 ld c, 0
     982.  03:5D4E  3A D8 62              ld a, (_selected_line)
     983.  03:5D51  C6 04                 add 4
     984.  03:5D53  47                    ld b,a
     985.  03:5D54  CD F1 5A              call OWN_SET_POS
     986.  03:5D57  2A CE 61              ld hl, (_print_addr)
     987.  03:5D5A  AF                    xor A
     988.  03:5D5B  77                    ld (hl), a
     989.  03:5D5C  11 1F 00              ld de,31
     990.  03:5D5F  19                    add hl,de
     991.  03:5D60  77                    ld (hl), a
     992.  03:5D61  3A D2 61              ld a,(_num_of_entries)
     993.  03:5D64  3D                    dec a
     994.  03:5D65  32 D8 62              ld (_selected_line), a
     995.  03:5D68  32 D9 62              ld (_current_line), a
     996.  03:5D6B  47                    ld b, a
     997.  03:5D6C  0E 01                 ld c, 1
     998.  03:5D6E  CD 3B 59              call PRINT_ENTRIES
     999.  03:5D71  C3 6E 5B              jp HANDLE_INPUT
    1000.  03:5D74                      .page_down_this_is_the_last_page
    1001.  03:5D74  3A D8 62              ld a,(_selected_line)
    1002.  03:5D77  47                    ld b, a
    1003.  03:5D78  3E 0F                 ld a, WINDOW_HEIGHT - 1
    1004.  03:5D7A  32 D8 62              ld (_selected_line), a
    1005.  03:5D7D  0E 01                 ld c, 1
    1006.  03:5D7F  CD 3B 59              call PRINT_ENTRIES
    1007.  03:5D82  3A D8 62              ld a,(_selected_line)
    1008.  03:5D85  47                    ld b,a
    1009.  03:5D86  0E 01                 ld c,1
    1010.  03:5D88  CD 3B 59              call PRINT_ENTRIES
    1011.  03:5D8B  C3 6E 5B              jp HANDLE_INPUT
    1012.  03:5D8E                      .page_down_is_almost_ok
    1013.  03:5D8E  2A D2 61              ld hl, (_num_of_entries)
    1014.  03:5D91  11 10 00              ld de, WINDOW_HEIGHT
    1015.  03:5D94  AF                    xor a
    1016.  03:5D95  ED 52                 sbc hl, de
    1017.  03:5D97  22 D6 62              ld (_window_pos), hl
    1018.  03:5D9A                      .full_box_vars_set
    1019.  03:5D9A  06 00                 ld b, 0
    1020.  03:5D9C  0E 10                 ld c, 16
    1021.  03:5D9E  CD 3B 59              call PRINT_ENTRIES
    1022.  03:5DA1  C3 6E 5B              JP HANDLE_INPUT
    1023.  03:5DA4                      
    1024.  03:5DA4                      PROCESS_KEY_SELECT:
    1025.  03:5DA4  2A D6 62              ld hl, (_window_pos)
    1026.  03:5DA7  3A D8 62              ld a, (_selected_line)
    1027.  03:5DAA  16 00                 ld d, 0
    1028.  03:5DAC  5F                    ld e, a
    1029.  03:5DAD  19                    add hl, de
    1030.  03:5DAE  06 04                 ld b, 4
    1031.  03:5DB0                      .mul_by_16
    1032.  03:5DB0  CB 25                 sla l
    1033.  03:5DB2  CB 14                 rl h
    1034.  03:5DB4  10 FA                 djnz .mul_by_16
    1035.  03:5DB6  11 00 80              ld de, _directory_entries
    1036.  03:5DB9  19                    add hl, de
    1037.  03:5DBA  23                    inc hl
    1038.  03:5DBB  23                    inc hl
    1039.  03:5DBC  7E                    ld a,(hl) ; type
    1040.  03:5DBD  B7                    or a ; directory
    1041.  03:5DBE  28 0B                 jr z, .change_into_sub_directory
    1042.  03:5DC0  FE 02                 cp $02 ; parent directory
    1043.  03:5DC2  28 26                 jr z, .change_into_parent_directory
    1044.  03:5DC4  FE 01                 cp 1   ; file
    1045.  03:5DC6  28 47                 jr z, .file_selected
    1046.  03:5DC8  C3 6E 5B              jp HANDLE_INPUT ; not doing anything on files larger than 64k
    1047.  03:5DCB                      .change_into_sub_directory
    1048.  03:5DCB  11 D5 61              ld de, _current_path - 1
    1049.  03:5DCE                      .find_end_of_path
    1050.  03:5DCE  13                    inc de
    1051.  03:5DCF  1A                    ld a,(de)
    1052.  03:5DD0  B7                    or a
    1053.  03:5DD1  20 FB                 jr nz, .find_end_of_path
    1054.  03:5DD3  23                    inc hl
    1055.  03:5DD4                      .copy_path_loop
    1056.  03:5DD4  7E                    ld a,(hl)
    1057.  03:5DD5  12                    ld (de), a
    1058.  03:5DD6  B7                    or a
    1059.  03:5DD7  28 04                 jr z, .path_copied
    1060.  03:5DD9  13                    inc de
    1061.  03:5DDA  23                    inc hl
    1062.  03:5DDB  18 F7                 jr .copy_path_loop
    1063.  03:5DDD                      .path_copied
    1064.  03:5DDD  3E 2F                 ld a,'/'
    1065.  03:5DDF  12                    ld (de), a
    1066.  03:5DE0  13                    inc de
    1067.  03:5DE1  AF                    xor a
    1068.  03:5DE2  12                    ld (de), a
    1069.  03:5DE3  21 D4 61              ld hl, _dir_depth
    1070.  03:5DE6  34                    inc (hl)
    1071.  03:5DE7  C3 B8 57              jp MOUNT_OK
    1072.  03:5DEA                      
    1073.  03:5DEA                      .change_into_parent_directory
    1074.  03:5DEA  21 D4 61              ld hl, _dir_depth
    1075.  03:5DED  35                    dec (hl)
    1076.  03:5DEE  7E                    ld a, (hl)
    1077.  03:5DEF  20 09                 jr nz, .change_to_non_root
    1078.  03:5DF1  AF                    xor a
    1079.  03:5DF2  21 D6 61              ld hl, _current_path
    1080.  03:5DF5  23                    inc hl
    1081.  03:5DF6  77                    ld (hl), a
    1082.  03:5DF7  C3 B8 57              jp MOUNT_OK
    1083.  03:5DFA                      .change_to_non_root
    1084.  03:5DFA  21 D6 61              ld hl, _current_path
    1085.  03:5DFD                      .find_end_of_path_parent
    1086.  03:5DFD  23                    inc hl
    1087.  03:5DFE  7E                    ld a, (hl)
    1088.  03:5DFF  B7                    or a
    1089.  03:5E00  20 FB                 jr nz, .find_end_of_path_parent
    1090.  03:5E02  2B                    dec hl
    1091.  03:5E03                      .find_prev_path_end
    1092.  03:5E03  2B                    dec hl
    1093.  03:5E04  7E                    ld a, (hl)
    1094.  03:5E05  FE 2F                 cp '/'
    1095.  03:5E07  20 FA                 jr nz, .find_prev_path_end
    1096.  03:5E09  23                    inc hl
    1097.  03:5E0A  AF                    xor a
    1098.  03:5E0B  77                    ld (hl), a
    1099.  03:5E0C  C3 B8 57              jp MOUNT_OK
    1100.  03:5E0F                      
    1101.  03:5E0F                      .file_selected
    1102.  03:5E0F  E5                    push hl
    1103.  03:5E10  D1                    pop de ; hl, de pointing to the type of entry
    1104.  03:5E11  23                    inc hl ; hl points to filename
    1105.  03:5E12  23                    inc hl ; hl points to 2nd char of filename
    1106.  03:5E13  7E                    ld a, (hl)
    1107.  03:5E14  B7                    or a
    1108.  03:5E15  CA 6E 5B              jp z, HANDLE_INPUT ; filename with 1 char long
    1109.  03:5E18  2B                    dec hl ; hl points to filename
    1110.  03:5E19                      .find_end_of_filename
    1111.  03:5E19  23                    inc hl
    1112.  03:5E1A  7E                    ld a,(hl)
    1113.  03:5E1B  B7                    or a
    1114.  03:5E1C  20 FB                 jr nz, .find_end_of_filename ; at the end hl points to termination char (0x00)
    1115.  03:5E1E  2B                    dec hl ; points to last char
    1116.  03:5E1F  2B                    dec hl ; points to the one before last char
    1117.  03:5E20  7E                    ld a, (hl)
    1118.  03:5E21  FE 2E                 cp '.'
    1119.  03:5E23  C2 6E 5B              jp nz,HANDLE_INPUT
    1120.  03:5E26  23                    inc hl
    1121.  03:5E27  7E                    ld a, (hl)
    1122.  03:5E28  FE 50                 cp 'P'
    1123.  03:5E2A  C2 6E 5B              jp nz, HANDLE_INPUT
    1124.  03:5E2D  EB                    ex de, hl		; file ends with .p and size is less than 64kB, HL points to type of entry
    1125.  03:5E2E  2B                    dec hl
    1126.  03:5E2F  2B                    dec hl
    1127.  03:5E30  5E                    ld e,(hl)		; hl points to fileinfo, size of file
    1128.  03:5E31  23                    inc hl
    1129.  03:5E32  56                    ld d, (hl)	; de contains the size of file
    1130.  03:5E33  E5                    push hl
    1131.  03:5E34  21 F7 3F              ld hl, $4000 - 9 ; max size of a file
    1132.  03:5E37  B7                    or a
    1133.  03:5E38  ED 52                 sbc hl, de
    1134.  03:5E3A  E1                    pop hl
    1135.  03:5E3B  DA 6E 5B              jp c, HANDLE_INPUT
    1136.  03:5E3E  ED 53 00 80           ld ($8000), de	; let's store the size of the file
    1137.  03:5E42  23                    inc hl
    1138.  03:5E43  23                    inc hl ; hl points to filename
    1139.  03:5E44                        
    1140.  03:5E44  11 D6 61              ld de, _current_path
    1141.  03:5E47                      .find_end_of_pathanme
    1142.  03:5E47  13                    inc de
    1143.  03:5E48  1A                    ld a, (de)
    1144.  03:5E49  B7                    or a
    1145.  03:5E4A  20 FB                 jr nz, .find_end_of_pathanme
    1146.  03:5E4C                        
    1147.  03:5E4C                      .copy_filename_to_path_loop
    1148.  03:5E4C  7E                    ld a, (hl)
    1149.  03:5E4D  12                    ld (de), a
    1150.  03:5E4E  23                    inc hl
    1151.  03:5E4F  13                    inc de
    1152.  03:5E50  B7                    or a
    1153.  03:5E51  20 F9                 jr nz, .copy_filename_to_path_loop
    1154.  03:5E53                      
    1155.  03:5E53  CD 92 39              call BANK2.MY_FAST
    1156.  03:5E56                      
    1157.  03:5E56  21 72 61              ld hl, _file
    1158.  03:5E59  E5                    push hl
    1159.  03:5E5A  21 D6 61              ld hl, _current_path  
    1160.  03:5E5D  E5                    push hl
    1161.  03:5E5E  21 01 00              ld hl, 1
    1162.  03:5E61  E5                    push hl
    1163.  03:5E62  CD D3 27              call _f_open
    1164.  03:5E65  C1                    pop bc
    1165.  03:5E66  C1                    pop bc
    1166.  03:5E67  C1                    pop bc
    1167.  03:5E68                        
    1168.  03:5E68  21 72 61              ld hl, _file
    1169.  03:5E6B  E5                    push hl
    1170.  03:5E6C  21 02 80              ld hl, $8002
    1171.  03:5E6F  E5                    push hl
    1172.  03:5E70  2A 00 80              LD HL, ($8000)
    1173.  03:5E73  E5                    push hl
    1174.  03:5E74  21 CC 61              ld hl, _read_bytes
    1175.  03:5E77  E5                    push hl
    1176.  03:5E78  CD A2 29              call _f_read
    1177.  03:5E7B  C1                    pop bc
    1178.  03:5E7C  C1                    pop bc
    1179.  03:5E7D  C1                    pop bc
    1180.  03:5E7E                        
    1181.  03:5E7E  CD 0F 44              call _sd_cs_raise
    1182.  03:5E81                        
    1183.  03:5E81  C3 C4 3F              JP BANK2.FILE_LOADED
    1184.  03:5E84                        
    1185.  03:5E84                      PROCESS_EXIT:
    1186.  03:5E84  C3 E4 3F              JP BANK2.EXIT_TO_BASIC
    1187.  03:5E87                        
    1188.  03:5E87                      CHECK_KEMPSTON:
    1189.  03:5E87  DB 1F                 IN a,($1F)
    1190.  03:5E89  0E 00                 ld c,$00
    1191.  03:5E8B  FE FF                 cp $FF	; no kempston i/f selected 
    1192.  03:5E8D  C8                    ret z
    1193.  03:5E8E  E6 1F                 AND $1F ; only the least 5 bits are interesting - active high
    1194.  03:5E90  B7                    OR A
    1195.  03:5E91  C8                    ret z	 ; no joy movement
    1196.  03:5E92                        /* FUDLR */
    1197.  03:5E92  0E 05                 ld c, KEY_RIGHT
    1198.  03:5E94  FE 01                 cp $01
    1199.  03:5E96  C8                    ret z
    1200.  03:5E97  0E 04                 ld c, KEY_LEFT
    1201.  03:5E99  FE 02                 cp $02
    1202.  03:5E9B  C8                    ret z
    1203.  03:5E9C  0E 03                 ld c, KEY_DOWN
    1204.  03:5E9E  FE 04                 cp $04
    1205.  03:5EA0  C8                    ret z
    1206.  03:5EA1  0E 02                 ld c,KEY_UP
    1207.  03:5EA3  FE 08                 cp $08
    1208.  03:5EA5  C8                    ret z
    1209.  03:5EA6  0E 06                 ld c,KEY_SELECT
    1210.  03:5EA8  FE 10                 cp $10
    1211.  03:5EAA  C8                    ret z
    1212.  03:5EAB  0E 00                 ld c,$00	; multiple selection (diagonal movement or fire+direction), let's not react on that
    1213.  03:5EAD  C9                    ret
    1214.  03:5EAE                        
    1215.  03:5EAE                      CHECK_56780:
    1216.  03:5EAE                      ;  ld hl, (D_FILE)
    1217.  03:5EAE                      ;  inc hl
    1218.  03:5EAE                      ;  ld (_print_addr), hl
    1219.  03:5EAE                      ;  ld a, (LAST_K)
    1220.  03:5EAE                      ;  call OWN_PRINT_HEX
    1221.  03:5EAE                      ;  ld a, (LAST_K+1)
    1222.  03:5EAE                      ;  call OWN_PRINT_HEX
    1223.  03:5EAE                        
    1224.  03:5EAE                      
    1225.  03:5EAE  3A 25 40              ld a,(LAST_K)
    1226.  03:5EB1  FE F7                 cp $F7
    1227.  03:5EB3  28 22                 jr z,.key_line_A11
    1228.  03:5EB5  FE FE                 cp $FE
    1229.  03:5EB7  28 2E                 jr z, .key_line_A15
    1230.  03:5EB9  FE EF                 cp $EF
    1231.  03:5EBB  0E 00                 ld c, $00
    1232.  03:5EBD  C0                    ret nz
    1233.  03:5EBE  3A 26 40              ld a,(LAST_K + 1)
    1234.  03:5EC1                        
    1235.  03:5EC1  0E 03                 ld c,KEY_DOWN
    1236.  03:5EC3  FE DF                 cp $DF
    1237.  03:5EC5  C8                    ret z
    1238.  03:5EC6                        
    1239.  03:5EC6  0E 02                 ld c,KEY_UP
    1240.  03:5EC8  FE EF                 cp $EF
    1241.  03:5ECA  C8                    ret z
    1242.  03:5ECB                      
    1243.  03:5ECB  0E 05                 ld c,KEY_RIGHT
    1244.  03:5ECD  FE F7                 cp $F7
    1245.  03:5ECF  C8                    ret z
    1246.  03:5ED0                      
    1247.  03:5ED0  0E 06                 ld c,KEY_SELECT
    1248.  03:5ED2  FE FD                 cp $FD
    1249.  03:5ED4  C8                    ret z
    1250.  03:5ED5                        
    1251.  03:5ED5  18 0D                 jr .no_key_found
    1252.  03:5ED7                      .key_line_A11
    1253.  03:5ED7  3A 26 40              ld a,(LAST_K + 1)
    1254.  03:5EDA                        
    1255.  03:5EDA  0E 04                 ld c,KEY_LEFT
    1256.  03:5EDC  FE DF                 cp $DF
    1257.  03:5EDE  C8                    ret z
    1258.  03:5EDF                        
    1259.  03:5EDF  0E 01                 ld c,KEY_1
    1260.  03:5EE1  FE FD                 cp $FD
    1261.  03:5EE3  C8                    ret z
    1262.  03:5EE4                      
    1263.  03:5EE4                      .no_key_found:
    1264.  03:5EE4  0E 00                 ld c,$00
    1265.  03:5EE6  C9                    ret
    1266.  03:5EE7                      
    1267.  03:5EE7                      .key_line_A15
    1268.  03:5EE7  3A 26 40              ld a,(LAST_K + 1)
    1269.  03:5EEA  0E 07                 ld c, KEY_C
    1270.  03:5EEC  FE EF                 cp $EF
    1271.  03:5EEE  C8                    ret z
    1272.  03:5EEF  18 F3                 jr .no_key_found
    1273.  03:5EF1                        
    1274.  03:5EF1                      PROCESS_CREDITS:
    1275.  03:5EF1  CD 00 5F              call CLEAR_LIST_AREA
    1276.  03:5EF4  CD 15 5F              call PRINT_CREDITS
    1277.  03:5EF7  CD 2A 5F              call WAIT_FOR_KEY
    1278.  03:5EFA  CD 00 5F              call CLEAR_LIST_AREA
    1279.  03:5EFD  C3 D0 57              JP REDRAW_LIST_BOX
    1280.  03:5F00                      
    1281.  03:5F00                      CLEAR_LIST_AREA:
    1282.  03:5F00  01 00 04              ld bc, 4:0
    1283.  03:5F03  CD F1 5A              call OWN_SET_POS
    1284.  03:5F06  06 10                 ld b, 16
    1285.  03:5F08  AF                    xor a
    1286.  03:5F09                      .print_one_line
    1287.  03:5F09  0E 20                 ld c, 32
    1288.  03:5F0B                      .print_one_space
    1289.  03:5F0B  CD 25 5B              call OWN_PRINT_CHAR
    1290.  03:5F0E  0D                    dec c
    1291.  03:5F0F  20 FA                 jr nz, .print_one_space
    1292.  03:5F11  05                    dec b
    1293.  03:5F12  20 F5                 jr nz, .print_one_line
    1294.  03:5F14  C9                    ret
    1295.  03:5F15                      
    1296.  03:5F15                      PRINT_CREDITS
    1297.  03:5F15  01 00 07              ld bc, 7:0
    1298.  03:5F18  CD F1 5A              call OWN_SET_POS
    1299.  03:5F1B  21 EA 39              ld hl, BANK2.CREDITS
    1300.  03:5F1E                      .print_credits_loop
    1301.  03:5F1E  7E                    ld a,(hl)
    1302.  03:5F1F  B7                    or a
    1303.  03:5F20  C8                    ret z
    1304.  03:5F21  CD 34 5A              call CONVERT_ASCII_2_ZX81
    1305.  03:5F24  CD 25 5B              call OWN_PRINT_CHAR
    1306.  03:5F27  23                    inc hl
    1307.  03:5F28  18 F4                 jr .print_credits_loop
    1308.  03:5F2A                        
    1309.  03:5F2A                      WAIT_FOR_KEY:
    1310.  03:5F2A  3A 25 40              ld A,(LAST_K)
    1311.  03:5F2D  FE FF                 cp $FF
    1312.  03:5F2F  28 F9                 jr z, WAIT_FOR_KEY
    1313.  03:5F31                      .wait_till_no_press_loop:
    1314.  03:5F31  3A 25 40              ld A,(LAST_K)
    1315.  03:5F34  FE FF                 cp $FF
    1316.  03:5F36  20 F9                 jr nz, .wait_till_no_press_loop
    1317.  03:5F38  C9                    ret
    1318.  03:5F39                      
    1319.  03:5F39                      ;       ==== CREDITS ====        ;
    1320.  03:5F39                      ; SD card handling routines are  ;
    1321.  03:5F39                      ; based on github.com/ ...       ;
    1322.  03:5F39                      ;  ... feilipu/z88dk-libraries   ;
    1323.  03:5F39                      ;  ... fatfs                     ;
    1324.  03:5F39                      ;  ... z88dk                     ;
    1325.  03:5F39                      ; Big thanks to them!            ;
    1326.  03:5F39                      ; All other coding, hardware     ;
    1327.  03:5F39                      ; design is done by:             ;
    1328.  03:5F39                      ;              Sandor Vass, 2023 ;
     262   03:5F39                        
     263   03:5F39  (03:5F39)           RAMCODE_END = $
     264   03:5F39                      __VARIABLES_START__
     265   03:5F39  00 (5)              @__FF_INTERNALS DS 5
     266   03:5F3E  00 (564)            _fatfs      			DS 564
     267   03:6172  00 (28)             _file	    			DS 28
     268   03:618E  00 (40)             _dir	    			DS 40
     269   03:61B6  00 (22)             _finfo      			DS 22
     270   03:61CC  00 00               _read_bytes 			DW 0
     271   03:61CE  00 00               _print_addr  			DW 0
     272   03:61D0  00 00               _current_screenline_addr DW 0
     273   03:61D2  00 00               _num_of_entries 		DW 0
     274   03:61D4  00                  _dir_depth 				DB 0
     275   03:61D5  00                  _reading_non_1st_entry 	DB 0
     276   03:61D6  00 (256)            _current_path 			DS 256
     277   03:62D6  00 00               _window_pos      		DW 0       ; DW
     278   03:62D8  00                  _selected_line   		DB 0	 ; DB
     279   03:62D9  00                  _current_line    		DB 0     ; DB
     280   03:62DA  00                  _last_pressed_key 		DB 0  ; DB
     281   03:62DB  00                  _pressed_key_cnt 		DB 0
     282   03:62DC  00 00               _last_frame 			DW 0
     283   03:62DE                      
     284   03:62DE  00 00               CURR_NUM_ADDR   		DW 0 ; DW
     285   03:62E0  00 00               CURR_ENTRY_ADDR 		DW 0  ; DW
     286   03:62E2                      
     287   03:62E2                      __VARIABLES_END__
     288   03:62E2                      
     289   03:62E2  (03:0010)           WINDOW_HEIGHT 		EQU 16
     290   03:62E2  (03:8000)           _directory_entries  EQU $8000; (13 + 2 + 1) * 512
     291   03:62E2                        
     292   03:62E2  (22E2)                DEPHASE
     293   03:22E2                      
     294   03:22E2                        CODE ! ENTRY_ON_PAGE3
     295   03:3FAA  21 00 04              LD HL, $0400
     296   03:3FAD  11 00 44              LD DE, $4400
     297   03:3FB0  01 39 1B              LD BC, RAMCODE_END - $4400
     298   03:3FB3  ED B0                 LDIR
     299   03:3FB5                        
     300   03:3FB5  3A FF BF              LD A,(CTRL_SHADOW)
     301   03:3FB8  E6 3F                 AND $3F
     302   03:3FBA  F6 80                 OR $80	; bank #2
     303   03:3FBC  32 FF BF              LD (CTRL_SHADOW), A
     304   03:3FBF  D3 3F                 OUT (CTRL_PORT), A
     305   03:3FC1  (03:3FC1)           ENTRY_ON_PAGE2 = $
     306   03:3FC1                        ENDMODULE

    LABELS
-------------------------------------------------
00:00000001   VERSION_MAJOR
00:00000003   VERSION_MINOR
00:0000BFFF   CTRL_SHADOW
00:0000003F   CTRL_PORT
00:0000001F   KEMPSTON_PORT
00:00000000   __
00:0000000B   _DQUOTE
00:0000000C X _POUND
00:0000000D   _DOLLAR
00:0000000E   _COLON
00:0000000F   _QMARK
00:00000010   _POPEN
00:00000011   _PCLOSE
00:00000012   _GT
00:00000013   _LT
00:00000014   _EQUAL
00:00000015   _PLUS
00:00000016   _DASH
00:00000017   _AST
00:00000018   _SLASH
00:00000019   _SEMIC
00:0000001A   _COMMA
00:0000001B   _PERIOD
00:00000076 X _NL
00:00000026   _A
00:00000027   _B
00:00000028   _C
00:00000029   _D
00:0000002A   _E
00:0000002B   _F
00:0000002C   _G
00:0000002D   _H
00:0000002E   _I
00:0000002F   _J
00:00000030   _K
00:00000031   _L
00:00000032   _M
00:00000033   _N
00:00000034   _O
00:00000035   _P
00:00000036   _Q
00:00000037   _R
00:00000038   _S
00:00000039   _T
00:0000003A   _U
00:0000003B   _V
00:0000003C   _W
00:0000003D   _X
00:0000003E   _Y
00:0000003F   _Z
00:0000001C   _0
00:0000001D   _1
00:0000001E   _2
00:0000001F   _3
00:00000020   _4
00:00000021   _5
00:00000022   _6
00:00000023   _7
00:00000024   _8
00:00000025   _9
00:00004000 X ERR_NR
00:00004001 X FLAGS
00:00004002 X ERR_SP
00:00004004   RAMTOP
00:00004006 X MODE
00:00004007 X PPC
00:00004009 X VERSN
00:0000400A X E_PPC
00:0000400C   D_FILE
00:0000400E X DF_CC
00:00004010 X VARS
00:00004012 X DEST
00:00004014 X E_LINE
00:00004016 X CH_ADD
00:00004018 X X_PTR
00:0000401A X STKBOT
00:0000401C X STKEND
00:0000401E X BERG
00:0000401F X MEM
00:00004021 X SPARE1
00:00004022 X DF_SZ
00:00004023 X S_TOP
00:00004025   LAST_K
00:00004027 X DBOUNCE
00:00004028 X MARGIN
00:00004029 X NXTLIN
00:0000402B X OLDPPC
00:0000402D X FLAGX
00:0000402E X STRLEN_BASIC
00:00004030 X T_ADDR
00:00004032 X SEED
00:00004034   FRAMES
00:00004036 X COORDS
00:00004038 X PR_CC
00:00004039 X S_POSN
00:0000403B X CDFLAG
00:0000403C X PRBUFF
00:0000405D X MEMBOT
00:0000407B X SPARE2
00:00000000 X START
00:00000008 X ERROR_1
00:00000010 X PRINT_A
00:00000018 X GET_CH
00:0000001C X TEST_SP
00:00000020 X NEXT_CH
00:00000028 X FP_CALC
00:0000002B X END_CALC
00:00000030 X BC_SPACES
00:00000038 X INTERRUPT
00:00000041 X WAIT_INT
00:00000045 X SCAN_LINE
00:00000049 X CH_ADD_1
00:0000004C X CURSOR_SO
00:0000004D X TEMP_PTR
00:00000056 X ERROR_2
00:00000058 X ERROR_3
00:00000066 X NMI
00:0000006D X NMI_RET
00:0000006F X NMI_CONT
00:0000007E X K_UNSHIFT
00:000000A5 X K_SHIFT
00:000000CC X K_FUNCT
00:000000F3 X K_GRAPH
00:00000111 X TOKENS1
00:000001FC X LOAD_PER_SAVE
00:00000207   SLOW_PER_FAST
00:00000216 X LOOP_11
00:00000226 X NO_SLOW
00:00000229 X DISPLAY_1
00:0000022D X DISPLAY_P
00:00000237 X ANOTHER
00:00000239 X OVER_NC
00:0000023E X DISPLAY_2
00:00000264 X NO_KEY
00:0000026A X LOOP_B
00:00000281 X R_IX_1
00:0000028F X R_IX_2
00:00000292 X DISPLAY_3
00:000002A9 X DISPLAY_4
00:000002B5 X DISPLAY_5
00:000002BB X KEYBOARD
00:000002C5 X EACH_LINE
00:000002E7   SET_FAST
00:000002F4 X REPORT_F
00:000002F6 X SAVE
00:000002FF X HEADER
00:00000304 X DELAY_1
00:0000030B X OUT_NAME
00:00000316 X OUT_PROG
00:0000031E X OUT_BYTE
00:00000320 X EACH_BIT
00:00000329 X PULSES
00:0000032D X DELAY_2
00:00000332 X BREAK_2
00:00000336 X DELAY_3
00:0000033B X DELAY_4
00:00000340 X LOAD
00:00000347 X NEXT_PROG
00:0000034C X IN_BYTE
00:0000034E X NEXT_BIT
00:00000350 X BREAK_3
00:00000361 X RESTART
00:00000366 X IN_NAME
00:00000371 X MATCHING
00:0000037B X IN_PROG
00:00000385 X GET_BIT
00:00000388 X TRAILER
00:0000038A X COUNTER
00:0000039C X BIT_DONE
00:000003A2 X BREAK_4
00:000003A6 X REPORT_D
00:000003A8 X NAME
00:000003C3 X NEW
00:000003CB X RAM_CHECK
00:000003CF X RAM_FILL
00:000003D5 X RAM_READ
00:000003E2 X SET_TOP
00:000003E5 X INITIAL
00:00000408 X LINE
00:00000413 X NL_ONLY
00:00000419   UPPER
00:0000042D X ADDR_TOP
00:00000433 X LIST_TOP
00:00000454 X DOWN_KEY
00:00000457 X INC_LINE
00:00000464 X KEY_INPUT
00:0000046F X EDIT_INP
00:00000472 X LOWER
00:00000475 X EACH_CHAR
00:00000482 X END_LINE
00:00000487 X EDIT_LINE
00:0000048A X EDIT_ROOM
00:000004B1 X FREE_LINE
00:000004C1 X DISPLAY_6
00:000004CF X SLOW_DISP
00:000004DF X MODE_SORT
00:000004F2 X FUNC_BASE
00:000004F7 X FETCH_1
00:00000505 X TABLE_ADD
00:00000508 X FETCH_2
00:00000515 X FETCH_3
00:00000516 X TEST_CURS
00:0000051B X ENTER
00:00000523 X BACK_NEXT
00:00000526 X ADD_CHAR
00:0000052B X K_PER_L_KEY
00:0000052D X KEY_SORT
00:00000537 X CURSOR
00:00000540 X K_MODE
00:00000544 X TEST_CHAR
00:00000556 X L_MODE
00:0000055C X CLEAR_ONE
00:00000562 X ED_KEYS
00:00000576 X LEFT_KEY
00:0000057F X RIGHT_KEY
00:00000588 X GET_CODE
00:00000589 X ENDED_1
00:0000058B X RUBOUT
00:00000593 X LEFT_EDGE
00:0000059D X ENDED_2
00:0000059F X UP_KEY
00:000005AF X FUNCTION
00:000005B7 X ZERO_DE
00:000005BB X LINE_NO
00:000005C4 X EDIT_KEY
00:0000060C X NL_KEY
00:00000626 X STK_UPPER
00:00000629 X NOW_SCAN
00:0000064E X NL_INP
00:00000661 X TEST_NULL
00:00000664 X NL_NULL
00:0000066C X NEXT_LINE
00:000006AE X STOP_LINE
00:000006CA X CONTINUE_BASIC
00:000006D1 X REPORT
00:000006E0 X NL_LINE
00:00000705 X COPY_OVER
00:0000072C X LLIST
00:00000730 X LIST
00:0000073E X LIST_PROG
00:00000740 X UNTIL_END
00:00000745 X OUT_LINE
00:00000755 X TEST_END
00:00000766 X COPY_LINE
00:0000076D X MORE_LINE
00:0000077C X TEST_NUM
00:0000079A X NOT_TOKEN
00:0000079D X OUT_CURS
00:000007AA X FLAGS_2
00:000007B4 X NUMBER
00:000007BD X DECODE
00:000007C7 X KEY_LINE
00:000007DC X LEAD_SP
00:000007E1 X OUT_DIGIT
00:000007E2 X DIGIT_INC
00:000007EB X OUT_CODE
00:000007EE X OUT_CH
00:000007F1 X PRINT_CH
00:000007F5 X PRINT_SP
00:00000802 X LPRINT_A
00:00000805 X PRINT_EXX
00:00000808 X ENTER_CH
00:00000812 X TEST_NL
00:0000082C X TEST_LOW
00:00000835 X REPORT_5
00:0000083A X EXPAND_1
00:0000083E X WRITE_CH
00:00000847 X WRITE_NL
00:00000851 X LPRINT_CH
00:00000869 X COPY
00:00000871 X COPY_BUFF
00:00000876 X COPY_MUL_D
00:0000087A X COPY_LOOP
00:0000087D X COPY_TIME
00:00000880 X COPY_BRK
00:00000888 X REPORT_D2
00:0000088A X COPY_CONT
00:0000089C X COPY_NEXT
00:000008B5 X COPY_BITS
00:000008BA X COPY_WAIT
00:000008C7 X COPY_NL
00:000008DE X COPY_END
00:000008E2 X CLEAR_PRB
00:000008E9 X PRB_BYTES
00:000008F5   PRINT_AT
00:000008FA X TEST_VAL
00:00000905 X WRONG_VAL
00:0000090B X SET_FIELD
00:00000918 X LOC_ADDR
00:00000927 X LOOK_BACK
00:00000940 X EXPAND_2
00:0000094B X TOKENS2
00:00000959 X ALL_CHARS
00:0000096D X TRAIL_SP
00:00000975 X TOKEN_ADD
00:0000097F X TEST_HIGH
00:00000985 X WORDS
00:00000992 X COMP_FLAG
00:00000993 X FOUND
00:0000099B X ONE_SPACE
00:0000099E X MAKE_ROOM
00:000009AD X POINTERS
00:000009B4 X NEXT_PTR
00:000009C8 X PTR_DONE
00:000009D8 X LINE_ADDR
00:000009DE X NEXT_TEST
00:000009EA X CP_LINES
00:000009F2 X NEXT_ONE
00:00000A01 X NEXT_FIVE
00:00000A08 X NEXT_LETT
00:00000A0F X LINES
00:00000A10 X BIT_5_NIL
00:00000A15 X NEXT_ADD
00:00000A17 X DIFFER
00:00000A1F X LINE_ENDS
00:00000A2A   CLS
00:00000A2C X B_LINES
00:00000A42 X CLEAR_LOC
00:00000A52 X COLLAPSED
00:00000A5D X RECLAIM_1
00:00000A60 X RECLAIM_2
00:00000A73 X E_LINE_NO
00:00000A91 X NO_NUMBER
00:00000A98 X OUT_NUM
00:00000AA5 X OUT_NO
00:00000AAD X THOUSAND
00:00000ABF X UNITS
00:00000AC5 X UNSTACK_Z
00:00000ACB X LPRINT
00:00000ACF X PRINT
00:00000AD5 X PRINT_1
00:00000AFA X NOT_AT
00:00000B1E X TAB_TEST
00:00000B31 X NOT_TAB
00:00000B37 X PRINT_ON
00:00000B44 X SPACING
00:00000B4E X SYNTAX_ON
00:00000B55 X PRINT_STK
00:00000B64 X PR_STR_1
00:00000B66 X PR_STR_2
00:00000B67 X PR_STR_3
00:00000B6B X PR_STR_4
00:00000B84 X PRINT_END
00:00000B8B X FIELD
00:00000BA4 X CENTRE
00:00000BAB X RIGHT
00:00000BAF X PLOT_PER_UNP
00:00000BC5 X COLUMNS
00:00000BCA X FIND_ADDR
00:00000BD9 X SQ_SAVED
00:00000BDA X TABLE_PTR
00:00000BE9 X PLOT
00:00000BEB X UNPLOT
00:00000BF1 X PLOT_END
00:00000BF5 X STK_TO_BC
00:00000C02 X STK_TO_A
00:00000C0E X SCROLL
00:00000C29 X OFFSET_T
00:00000C48 X P_LET
00:00000C4B X P_GOTO
00:00000C4F X P_IF
00:00000C54 X P_GOSUB
00:00000C58 X P_STOP
00:00000C5B X P_RETURN
00:00000C5E X P_FOR
00:00000C66 X P_NEXT
00:00000C6A X P_PRINT
00:00000C6D X P_INPUT
00:00000C71 X P_DIM
00:00000C74 X P_REM
00:00000C77 X P_NEW
00:00000C7A X P_RUN
00:00000C7D X P_LIST
00:00000C80 X P_POKE
00:00000C86 X P_RAND
00:00000C89 X P_LOAD
00:00000C8C X P_SAVE
00:00000C8F X P_CONT
00:00000C92 X P_CLEAR
00:00000C95 X P_CLS
00:00000C98 X P_PLOT
00:00000C9E X P_UNPLOT
00:00000CA4 X P_SCROLL
00:00000CA7 X P_PAUSE
00:00000CAB X P_SLOW
00:00000CAE X P_FAST
00:00000CB1 X P_COPY
00:00000CB4 X P_LPRINT
00:00000CB7 X P_LLIST
00:00000CBA X LINE_SCAN
00:00000CC1 X LINE_RUN
00:00000CDC X STOP
00:00000CDE X LINE_NULL
00:00000CF4 X SCAN_LOOP
00:00000CF7 X GET_PARAM
00:00000D10 X SEPARATOR
00:00000D16 X CLASS_TBL
00:00000D1D X CHECK_END
00:00000D22 X CHECK_2
00:00000D26 X REPORT_C2
00:00000D28 X CLASS_3
00:00000D2D X CLASS_0
00:00000D2E X CLASS_5
00:00000D3A X CLASS_END
00:00000D3C X CLASS_1
00:00000D3F X CLASS_4_2
00:00000D4B X REPORT_2
00:00000D4D X SET_STK
00:00000D63 X SET_STRLN
00:00000D6A X REM
00:00000D6B X CLASS_2
00:00000D6F X INPUT_REP
00:00000D85 X CLASS_4
00:00000D92 X CLASS_6
00:00000D9A X REPORT_C
00:00000D9C X NO_TO_STK
00:00000DA6 X SYNTAX_Z
00:00000DAB X IF_BASIC
00:00000DB6 X IF_END
00:00000DB9 X FOR
00:00000DC6 X USE_ONE
00:00000DCC X REORDER
00:00000DEA X LMT_STEP
00:00000E0E X NXTLIN_NO
00:00000E2A X FOR_END
00:00000E2E X NEXT
00:00000E58 X REPORT_1
00:00000E5A X NEXT_LOOP
00:00000E62 X LMT_V_VAL
00:00000E69 X IMPOSS
00:00000E6C X RAND
00:00000E77 X SET_SEED
00:00000E7C X CONT
00:00000E81 X GOTO
00:00000E86 X GOTO_2
00:00000E92 X POKE
00:00000E9B X POKE_SAVE
00:00000EA7 X FIND_INT
00:00000EAD X REPORT_B
00:00000EAF X RUN
00:00000EB5 X GOSUB
00:00000EC5 X TEST_ROOM
00:00000ED3 X REPORT_4
00:00000ED8 X RETURN
00:00000EE5 X REPORT_7
00:00000EE9 X INPUT
00:00000F05 X PROMPT
00:00000F14 X ENTER_CUR
00:00000F21 X REPORT_8
00:00000F23   FAST
00:00000F2B X SLOW
00:00000F32 X PAUSE
00:00000F46 X BREAK_1
00:00000F4B X D_BOUNCE
00:00000F55 X SCANNING
00:00000F59 X S_RND
00:00000F8A X S_RND_END
00:00000F8C X S_PI
00:00000F99 X S_PI_END
00:00000F9D X S_INKEY
00:00000FB2 X S_ALPHANUM
00:00000FD6 X S_QUOTE
00:00000FE0 X S_Q_NEXT
00:00000FE3 X S_Q_END_IS_IT
00:00000FED X S_STRING
00:00000FF8 X S_CONT_1
00:00000FFB X S_NL_ERR
00:00000FFF X S_RPRT_C1
00:00001002 X S_FUNCT
00:0000101A X S_NO_TO_STR
00:00001020 X S_PUSH_PO
00:00001025 X S_LET_NUM
00:00001047 X S_DECIMAL
00:0000106F X S_STK_DEC
00:00001083 X S_NUMERIC
00:00001087 X S_CONT_2
00:00001088 X S_CONT_3
00:00001098 X S_OPERTR
00:000010A7 X S_HIGH_OP
00:000010B5 X S_END_OP
00:000010BC X S_LOOP
00:000010D5 X S_SYNTEST
00:000010DB X S_RPRT_C2
00:000010DE X S_RUNTEST
00:000010EA X S_ENDLOOP
00:000010ED X S_TIGHTER
00:00001102 X S_NOT_AND
00:0000110A X S_NEXT
00:0000110F X TBL_PRI
00:0000111C X LOOK_VARS
00:00001139 X V_CHAR
00:00001143 X V_STR_VAR
00:00001148 X V_RUN_PER_SYN
00:00001156 X V_RUN
00:00001159 X V_EACH
00:0000116B X V_MATCHES
00:0000116C X V_SPACES
00:0000117F X V_GET_PTR
00:00001180 X V_NEXT
00:00001188 X V_80_BYTE
00:0000118A X V_SYNTAX
00:00001194 X V_FOUND_1
00:00001195 X V_FOUND_2
00:00001199 X V_PASS
00:000011A1 X V_END
00:000011A7 X STK_VAR
00:000011B2 X SV_SIMPLE
00:000011BF X SV_ARRAYS
00:000011D1 X SV_PTR
00:000011D4 X SV_COMMA
00:000011E9 X SV_CLOSE
00:000011F1 X SV_CH_ADD
00:000011F8 X SV_COUNT
00:000011FB X SV_LOOP
00:0000120C X SV_MULT
00:00001223 X SV_RPT_C
00:00001231 X REPORT_3
00:00001233 X SV_NUMBER
00:0000123D X SV_ELEM
00:00001256 X SV_SLICE
00:00001259 X SV_DIM
00:0000125A X SV_SLICE_IS_IT
00:00001263 X SLICING
00:0000128B X SL_RPT_C
00:00001292 X SL_SECOND
00:000012A5 X SL_DEFINE
00:000012B9 X SL_OVER
00:000012BE X SL_STORE
00:000012C2 X STK_ST_0
00:000012C3 X STK_STORE
00:000012DD X INT_EXP1
00:000012DE X INT_EXP2
00:000012F9 X I_CARRY
00:000012FC X I_RESTORE
00:00001311 X HL_LOOP
00:0000131A X HL_OVER
00:0000131D X HL_AGAIN
00:00001321 X LET
00:0000132D X L_EACH_CH
00:0000132E X L_NO_SP
00:0000134B X L_CHAR
00:00001359 X L_SINGLE
00:00001361 X L_NUMERIC
00:0000136E X L_EXISTS
00:0000137A X L_DELETE
00:000013A3 X L_LENGTH
00:000013AB X L_IN_W_S
00:000013AE X L_ENTER
00:000013B7 X L_ADD
00:000013C8 X L_NEW
00:000013CE X L_STRING
00:000013E7 X L_CLEAR
00:000013F8 X STK_FETCH
00:00001409 X DIM
00:0000140C X D_RPORT_C
00:0000141C X D_RUN
00:00001426 X D_LETTER
00:00001434 X D_SIZE
00:00001435 X D_NO_LOOP
00:0000147F X DIM_SIZES
00:00001488 X RESERVE
00:0000149A   CLEAR
00:000014A3 X X_TEMP
00:000014A6 X SET_STK_B
00:000014A9 X SET_STK_E
00:000014AD   CURSOR_IN
00:000014BC X SET_MIN
00:000014C7 X RECLAIM_3
00:000014CE X ALPHA
00:000014D2 X ALPHANUM
00:000014D4 X ALPHA_2
00:000014D9 X DEC_TO_FP
00:000014E5 X NXT_DGT_1
00:000014F5 X E_FORMAT
00:00001508 X SIGN_DONE
00:00001509 X ST_E_PART
00:00001511 X E_FP
00:00001514 X STK_DIGIT
00:0000151D X STACK_A
00:00001520 X STACK_BC
00:00001536 X NORML_FP
00:00001548 X INT_TO_FP
00:0000154D X NXT_DGT_2
00:0000155A X E_TO_FP
00:00001560 X E_YET
00:0000157A X E_ONE
00:0000157D X E_M_PER_D
00:00001583 X E_DIV
00:00001584 X E_EXC
00:00001587 X END_E
00:0000158A X FP_TO_BC
00:00001595 X NOT_ZERO
00:000015AF X SHIFT_TST
00:000015B5 X SHIFT_BC
00:000015BC X IN_PLACE
00:000015C6 X FBC_END
00:000015CD X FP_TO_A
00:000015D9 X FP_A_END
00:000015DB X PRINT_FP
00:000015EA X P_NEG
00:000015F0 X P_POS
00:00001615 X NXT_DGT_3
00:0000162C X GET_FIRST
00:00001639 X ROUND_UP
00:0000164B X MARKERS
00:0000165B X SIGND_EXP
00:0000165F X GET_FST_2
00:0000167B X OUT_B_CHS
00:00001682 X E_NEEDED
00:00001698 X PLUS_SIGN
00:0000169A X OUT_SIGN
00:0000169E X TEN_MORE
00:000016AD X BYTE_TWO
00:000016B2 X EXP_MINUS
00:000016BA X OUT_ZEROS
00:000016BF X OUT_ZERO
00:000016C2 X TEST_INT
00:000016C8 X TEST_DONE
00:000016D0 X OUT_NEXT
00:000016D8 X PREP_ADD
00:000016EC X NEG_BYTE
00:000016F7 X FETCH_TWO
00:0000171A X SHIFT_FP
00:00001722 X ONE_SHIFT
00:00001736 X ADDEND_0
00:00001738 X ZEROS_4_PER_5
00:00001741 X ADD_BACK
00:0000174A X ALL_ADDED
00:0000174C X SUBTRACT
00:00001755 X ADDITION
00:00001769 X SHIFT_LEN
00:00001790 X TEST_NEG
00:000017B3 X ADD_REP_6
00:000017B7 X END_COMPL
00:000017B9 X GO_NC_MLT
00:000017BC X PREP_M_PER_D
00:000017C6 X MULTIPLY
00:000017E7 X MLT_LOOP
00:000017EE X NO_ADD
00:000017F8 X STRT_MLT
00:0000180E X MAKE_EXPT
00:00001810 X DIVN_EXPT
00:00001819 X OFLW1_CLR
00:00001824 X OFLW2_CLR
00:00001828 X TEST_NORM
00:0000182C X NEAR_ZERO
00:00001830 X ZERO_RSLT
00:00001831 X SKIP_ZERO
00:0000183F X NORMALIZE
00:00001841 X SHIFT_ONE
00:00001859 X NORML_NOW
00:00001868 X OFLOW_CLR
00:00001880 X REPORT_6
00:00001882 X DIVISION
00:000018A2 X DIV_LOOP
00:000018AB X DIV_34TH
00:000018B2 X DIV_START
00:000018C2 X SUBN_ONLY
00:000018C9 X NO_RSTORE
00:000018CA X COUNT_ONE
00:000018E4 X TRUNCATE
00:000018EF X X_LARGE
00:000018F4 X NIL_BYTES
00:00001900 X BYTE_ZERO
00:00001905 X BITS_ZERO
00:0000190C X LESS_MASK
00:00001912 X IX_END
00:00001915 X STK_ZERO
00:00001918 X STK_ONE
00:0000191A X STK_HALF
00:0000191C X STK_PI_PER_2
00:00001921 X STK_TEN
00:00001923 X TBL_ADD
00:0000199D X CALCULATE
00:000019A0 X GEN_ENT_1
00:000019A4 X GEN_ENT_2
00:000019A7 X RE_ENTRY
00:000019AE X SCAN_ENT
00:000019C2 X FIRST_38
00:000019CE X DOUBLE_A
00:000019D0 X ENT_TABLE
00:000019E3 X DELETE
00:000019E4 X FP_CALC_2
00:000019EB X TEST_5_SP
00:000019F6 X MOVE_FP
00:000019FC X STK_DATA
00:000019FE X STK_CONST
00:00001A14 X FORM_EXP
00:00001A27 X STK_ZEROS
00:00001A2D X SKIP_CONS
00:00001A2E X SKIP_NEXT
00:00001A3C X LOC_MEM
00:00001A45 X GET_MEM_0
00:00001A51 X STK_ZERO_2
00:00001A63 X ST_MEM_0
00:00001A72 X EXCHANGE
00:00001A74 X SWAP_BYTE
00:00001A7F X SERIES_06
00:00001A89 X G_LOOP
00:00001AA0 X NEGATE
00:00001AAA X ABS
00:00001AAF X SGN
00:00001ABE X PEEK
00:00001AC5 X USR
00:00001ACE X GREATER_0
00:00001AD5 X NOT
00:00001ADB X LESS_0
00:00001ADC X SIGN_TO_C
00:00001AE0 X FP_0_PER_1
00:00001AE3 X FP_ZERO
00:00001AED X OR
00:00001AF3 X NO_AND_NO
00:00001AF8 X STR_AND_NO
00:00001B03 X NO_L_EQL
00:00001B0B X EX_OR_NOT
00:00001B16 X NU_OR_STR
00:00001B21 X STRINGS
00:00001B2C X BYTE_COMP
00:00001B33 X SECND_LOW
00:00001B3A X BOTH_NULL
00:00001B3D X SEC_PLUS
00:00001B4D X FRST_LESS
00:00001B50 X STR_TEST
00:00001B54 X END_TESTS
00:00001B62 X STRS_ADD
00:00001B7D X OTHER_STR
00:00001B85 X STK_PNTRS
00:00001B8F X CHRS
00:00001BA2 X REPORT_B2
00:00001BA4 X VAL
00:00001BD5 X STRS
00:00001C06 X CODE
00:00001C0E X STK_CODE
00:00001C11 X LEN
00:00001C17 X DEC_JR_NZ
00:00001C23 X JUMP
00:00001C24 X JUMP_2
00:00001C2B X NEW_ADDR
00:00001C2F X JUMP_TRUE
00:00001C37 X N_MOD_M
00:00001C46 X INT
00:00001C4E X X_NEG
00:00001C59 X EXIT
00:00001C5B X EXP
00:00001C99 X REPORT6_2
00:00001C9B X N_NEGTV
00:00001CA2 X RESULT_OK
00:00001CA4 X RSLT_ZERO
00:00001CA9 X LN
00:00001CB1 X VALID
00:00001CD2 X GRE_8
00:00001D18 X GET_ARGT
00:00001D35 X ZPLUS
00:00001D3C X YNEG
00:00001D3E X COS
00:00001D49 X SIN
00:00001D4B X C_ENT
00:00001D6E X TAN
00:00001D76 X ATN
00:00001D89 X SMALL
00:00001D8B X CASES
00:00001DC4 X ASN
00:00001DD4 X ACS
00:00001DDB X SQR
00:00001DE2 X TO_POWER
00:00001DEE X XISO
00:00001DFB X ONE
00:00001DFD X LAST
00:00001DFF X SPARE
00:00001E00 X CHAR_SET
00:00002000   FJEXP_INIT
00:00002003   FJEXP_INIT.loop100ms
00:0000200C X ORIGINAL_INIT
00:0000200C X L03CB
00:00002010   L03CF
00:00002016   L03D5
00:00002023   L03E2
00:00002026 X L03E5
00:00002049   L0408
00:00000010   WINDOW_HEIGHT
00:00007A00   WINDOW_POS
00:00007A02   SELECTED_LINE
00:00007A03   NUM_OF_ENTRIES
00:00007A05   CURR_LINE
00:00007A06   CURR_LINE_ADDR
00:00007A08   CURR_NUM_ADDR
00:00007A0A   TEMP_AREA
00:00007A2A   LAST_PRESSED_KEY
00:00007A2B   PRESSED_KEY_CNT
00:00007A2C   CURR_ENTRY_ADDR
00:00007A2E   CURRENT_DIR_FADDR
00:00007A31   LAST_FRAME
00:0000B000   ON_SCREEN_ENTRIES
00:00000010   REPEAT_KEY_COUNTER_FIRST
00:0000000A   REPEAT_KEY_COUNTER_SECOND
00:00000001   KEY_1
00:00000002   KEY_UP
00:00000003   KEY_DOWN
00:00000004   KEY_LEFT
00:00000005   KEY_RIGHT
00:00000006   KEY_SELECT
00:00000007   KEY_C
00:00002074   USE_FLASH
00:0000207D   HANDLE_INPUT
00:00002093   SKIP_KEYBOARD_CHECK
00:000020A7   NEW_KEY_PRESSED
00:000020B0   KEY_PRESSED
00:000020B3   KEY_PRESSED_FIRST
00:000020D4   PROCESS_KEY_UP
00:00002104   ON_TOP_OF_BOX
00:00002146   PROCESS_KEY_DOWN
00:0000218C   ON_BOTTOM_OF_BOX
00:000021C5   PROCESS_KEY_LEFT
00:000021D0   PRINT_FULL_SCREEN
00:000021D9   LESS_THAN_A_PAGE
00:000021E0 X PAGE_UP_MOVE_TO_FIRST_PAGE
00:000021E5   PAGE_UP_ON_FIRST_PAGE
00:00002204   PROCESS_KEY_RIGHT
00:0000223C   PAGE_DOWN_ONE_PAGE_ONLY
00:0000225F   PAGE_DOWN_THIS_IS_THE_LAST_PAGE
00:00002279   PAGE_DOWN_IS_ALMOST_OK
00:00002285   FULL_BOX_VARS_SET
00:0000228B   PROCESS_KEY_SELECT
00:00002293   MUL_32_ON_SELECT
00:000022AB   CDFADDR_COPY_LOOP
00:000022DC   SET_CLEAR_START_ADDR_LOOP
00:000022DF   CLEAR_LINES_LOOP
00:000022E2   CLEAR_ONE_LINE_LOOP
00:000022F0   HANDLE_FILE_SELECT
00:0000230E   LOOP_LOAD_BYTES
00:0000231C X LOAD_P_DONE
00:00002330   PROCESS_EXIT
00:00002352   CHECK_KEMPSTON
00:00002379   CHECK_56780
00:0000239E   KEY_LINE_A11
00:000023AB   NO_KEY_FOUND
00:000023AE   SET_VARIABLES_FROM_DIRHEADER
00:000023B9 X HIGH_BYTE_OK
00:000023D4   CHECK_DIRHEADER
00:000023D9   CHECK_DIRHEADER.read_header_loop
00:000023E3   CHECK_DIRHEADER.invalid_header_found
00:000023E6   CHECK_DIRHEADER.blink_loop
00:000023FC   CHECK_DIRHEADER.some_delay
00:000023FF   CHECK_DIRHEADER.wait_loop_1
00:00002405   CHECK_DIRHEADER.clear_menu_area
00:0000240F   CHECK_DIRHEADER.print_next_line_loop
00:00002411   CHECK_DIRHEADER.print_one_line_loop
00:0000241A   CHECK_DIRHEADER.print_no_flash_content
00:00002424   NO_FLASH_FOUND_STR
00:00002441   HEADER_STR
00:00002451   INIT_VARIABLES
00:00002469   PRINT_FULL_BOX
00:00002471   PRINT_ENTRIES
00:0000248D   LOOP_MUL_32
00:000024AD   LOOP_PRINT_ENTRIES
00:000024E5   EXIT_PE_LOOP
00:000024E9   CLEAN_REMAINING_SCREEN
00:00002503   PRINT_ENTRY
00:00002510   PE_LOOP_FNAME_PRINT
00:0000251A   FILE_NAME_DONE
00:0000251F   FILE_NAME_FIELD_FILL_LOOP
00:00002523   FILE_NAME_FIELD_DONE
00:00002534   SET_CURR_LINE_ADDR
00:00002545   PES_MUL_WITH_33
00:00002548   PES_LINE_ADDR_SET
00:0000254C   PRINT_SIZE
00:00002563   PRINT_DIR_TYPE_LOOP
00:0000256A   PRINT_FILE_SIZE
00:00002571   PRINT_SELECTION
00:00002587   READ_ONE_ENTRY
00:0000258C   LOOP_READ_ONE_ENTRY
00:00002594   SET_ENTRY_ADDR
00:000025B3   COPY_ENTRY
00:000025C2   OWN_PRINT_AT
00:000025CF   ADD_LINE_NUM
00:000025D2   LINE_ADDR_OK
00:000025D5   LINE_ADDR_OK.OWN_PRINT_CHAR
00:000025DE   GET_FLASH_SIZE
00:000025FF   UNKNOWN_FLASH_CHIP
00:00002601   DRAW_SCREEN
00:00002646   LOOP_TABLE_END_LINE
00:0000266A   PRINT_FLASH_SIZE
00:0000268C   PRINT_DEC
00:000026C2   PRINT_DEC_5
00:000026C8   PRINT_DEC_4
00:000026CE   PRINT_DEC_3
00:000026D4   PRINT_DEC_2
00:000026DA   PRINT_DEC_1
00:000026DD   NUM1
00:000026DF   NUM2
00:000026E9   PRINT_ONE_CHARACTER
00:000026F4   SCREEN_HEADER1_STR
00:00002715   SCREEN_HEADER2_STR
00:0000272B   TABLE_HEADER_STR
00:0000274A   SCREEN_FOOTER1_STR
00:0000276B   SCREEN_FOOTER2_STR
00:0000278C   SCREEN_FOOTER3_STR
00:0000279D   SCREEN_FOOTER3_FLASH_STR
00:000027AD   DIR_TYPE_STR
00:000027B3   FLASH_SIZE_NN
00:000027B7   FLASH_SIZE_2
00:000027BB   FLASH_SIZE_4
00:000027BF   FLASH_SIZE_8
00:000027C3   FLASH_SIZE_16
00:000027C7   FLASH_SIZE_VECTOR
00:00000000   SPI_CS
00:00000001   SPI_CLK
00:00000002   SPI_DI
00:00000003   SD_SPI_CS
00:000027D1   SPI_START
00:000027D9   SPI_STOP
00:000027E3   SPI_SEND_BYTE
00:000027E9   SSB_LOOP
00:000027F1   SSB_DATA_BIT_SET
00:000027FE   SPI_RECV_BYTE
00:00002809   SRB_LOOP
00:0000281A   W25Q_INITIATE_READ_DATA
00:00002832   W25Q_READ_DATA
00:0000283B   W25Q_READ_JEDEC
00:00002856 X CHIP_IDS
00:00002860 X CHIP_ID_STRINGS
00:00002868   W25Q16_STR
00:0000286F   W25Q32_STR
00:00002876   W25Q64_STR
00:0000287D   W25Q128_STR
00:00002885 X PRINT_HEX
00:00002892   PRINT_NIBBLE
00:0000289C   HEX_NUM
00:000028A0   HEX_NIBBLE_OK
00:000028A2   PRINT_STR
00:00003FA0   ENTER_TO_SD
00:00003FAA   ENTRY_ON_PAGE3
00:00003FEE   EXIT_TO_BASIC_PAGE0
02:00000400   X__ff_c._ExCvt
02:00000480   _ld_word
02:000004A3   _ld_dword
02:00000532   _dbc_1st
02:0000053F   X__ff_c.i_3
02:00000543   _dbc_2nd
02:00000550   X__ff_c.i_4
02:00000554   _move_window
02:000005C1   X__ff_c.i_7
02:000005D8   X__ff_c.i_5
02:000005DA   _clst2sect
02:00000615   X__ff_c.i_8
02:00000649   _get_fat
02:0000068A   X__ff_c.i_10
02:0000069C   X__ff_c.i_9
02:000006B0 X X__ff_c.i_15
02:000006C3   X__ff_c.i_16
02:0000072A X X__ff_c.i_17
02:0000078D X X__ff_c.i_18
02:000007DC   X__ff_c.i_19
02:000007EA   X__ff_c.i_20
02:000007F4   X__ff_c.i_21
02:00000828 X X__ff_c.i_22
02:0000086E   X__ff_c.i_23
02:000008A2 X X__ff_c.i_24
02:000008EE   X__ff_c.i_25
02:000008FD   X__ff_c.i_12
02:0000090A   _dir_sdi
02:00000939   X__ff_c.i_27
02:0000093C   X__ff_c.i_28
02:00000948   X__ff_c.i_29
02:0000094E   X__ff_c.i_30
02:0000095E   X__ff_c.i_31
02:00000967   X__ff_c.i_26
02:000009B2 X X__ff_c.i_35_i_34
02:000009C7   X__ff_c.i_33
02:00000A07   X__ff_c.i_38
02:00000A24   X__ff_c.i_37
02:00000A46   X__ff_c.i_40
02:00000A97   X__ff_c.i_42
02:00000AC8   X__ff_c.i_44
02:00000AD1   X__ff_c.i_43
02:00000AF4   X__ff_c.i_41
02:00000B1C   X__ff_c.i_39
02:00000B54   X__ff_c.i_46
02:00000BC2   _dir_next
02:00000C0F   X__ff_c.i_48
02:00000C12   X__ff_c.i_49
02:00000C1E   X__ff_c.i_50
02:00000C24   X__ff_c.i_51
02:00000C3F   X__ff_c.i_47
02:00000C60   X__ff_c.i_52
02:00000CEC   X__ff_c.i_54
02:00000D5B   X__ff_c.i_58
02:00000D77   X__ff_c.i_59
02:00000DB5   X__ff_c.i_61
02:00000DD3   X__ff_c.i_60
02:00000E12   X__ff_c.i_53
02:00000E6D   _ld_clust
02:00000EBF   X__ff_c.i_62
02:00000EC9   _dir_read
02:00000EDA   X__ff_c.i_63
02:00000F25 X X__ff_c.i_65
02:00000F4F   X__ff_c.i_66
02:00000FC9   X__ff_c.i_67
02:00000FF2   X__ff_c.i_64
02:00001013   X__ff_c.i_71
02:0000101F   _dir_find
02:00001067   X__ff_c.i_75
02:0000109D X X__ff_c.i_76
02:000010C7   X__ff_c.i_77
02:0000112D   X__ff_c.i_78
02:0000114A X X__ff_c.i_73
02:00001156   X__ff_c.i_74
02:00001162   _get_fileinfo
02:00001190   X__ff_c.i_81
02:000011A4   X__ff_c.i_82
02:000011F2 X X__ff_c.i_84
02:0000120A   X__ff_c.i_85
02:00001238   X__ff_c.i_86
02:00001263   X__ff_c.i_83
02:0000131A   _create_name
02:00001350   X__ff_c.i_87
02:0000138B   X__ff_c.i_89
02:000013CF X X__ff_c.i_92
02:000013F1   X__ff_c.i_90
02:00001416   X__ff_c.i_96
02:00001419   X__ff_c.i_97
02:0000142F X X__ff_c.i_99_i_98
02:00001438   X__ff_c.i_95
02:0000147A   X__ff_c.i_100
02:0000147D   X__ff_c.i_101
02:00001489   X__ff_c.i_102
02:000014BA X X__ff_c.i_105
02:000014DA   X__ff_c.i_109
02:000014FC   X__ff_c.i_111
02:00001509   X__ff_c.i_106
02:0000152E   X__ff_c.i_114
02:00001553   X__ff_c.i_117
02:0000155C   X__ff_c.i_116
02:0000156F   X__ff_c.i_113
02:00001595   X__ff_c.i_119
02:000015F1   X__ff_c.i_122
02:000015FA   X__ff_c.i_121
02:0000163B   X__ff_c.i_120
02:00001648   X__ff_c.i_126
02:00001652   X__ff_c.i_127
02:00001660   X__ff_c.i_125
02:0000167B X X__ff_c.i_130_i_129
02:00001683   X__ff_c.i_128
02:000016A5   X__ff_c.i_103
02:000016D9   X__ff_c.i_131
02:000016F3   X__ff_c.i_132
02:00001734   X__ff_c.i_133
02:00001737   X__ff_c.i_134
02:00001740   X__ff_c.i_135
02:00001743   X__ff_c.i_136
02:0000174F   _follow_path
02:00001775   X__ff_c.i_138
02:00001778   X__ff_c.i_139
02:0000179D   X__ff_c.i_142
02:000017A0   X__ff_c.i_143
02:000017A9   X__ff_c.i_145_i_140
02:000017C6   X__ff_c.i_147
02:000017D9   X__ff_c.i_149
02:000017E6   X__ff_c.i_148
02:000017FB   X__ff_c.i_146
02:0000183A   X__ff_c.i_153
02:00001864 X X__ff_c.i_156
02:000018BE X X__ff_c.i_161_i_160
02:000018C8 X X__ff_c.i_162
02:000018E0   X__ff_c.i_159
02:000018F5   X__ff_c.i_157
02:00001903 X X__ff_c.i_165
02:0000191F   X__ff_c.i_166
02:00001969   X__ff_c.i_152
02:00001975   _get_ldnumber
02:000019B5   X__ff_c.i_170
02:000019CA X X__ff_c.i_168
02:000019DE   X__ff_c.i_171
02:000019E1   X__ff_c.i_172
02:000019FB   X__ff_c.i_169
02:00001A3A X X__ff_c.i_178_i_177
02:00001A53 X X__ff_c.i_180_i_179
02:00001A68   X__ff_c.i_176
02:00001A90   X__ff_c.i_181
02:00001A98   X__ff_c.i_175
02:00001AA5   _check_fs
02:00001AEF   X__ff_c.i_182
02:00001B36   X__ff_c.i_184
02:00001B64 X X__ff_c.i_188_i_187
02:00001B6B   X__ff_c.i_186
02:00001C69   X__ff_c.i_191
02:00001C7E X X__ff_c.i_193_i_190
02:00001C85   X__ff_c.i_183
02:00001C9C   X__ff_c.i_194
02:00001C9F   X__ff_c.i_195
02:00001CA3   _find_volume
02:00001CFA   X__ff_c.i_200_i_197
02:00001D1A X X__ff_c.i_203_i_202
02:00001D23   X__ff_c.i_201
02:00001D2E   X__ff_c.i_204
02:00001D38   X__ff_c.i_206
02:00001D85   X__ff_c.i_205
02:00001DA2   X__ff_c.i_207
02:00001DA5   X__ff_c.i_208
02:00001DAB   X__ff_c.i_211
02:00001DF3   X__ff_c.i_212
02:00001DF6   X__ff_c.i_213
02:00001DFC X X__ff_c.i_209
02:00001E33   X__ff_c.i_210
02:00001E43   _mount_volume
02:00001E82   X__ff_c.i_216
02:00001EB7   X__ff_c.i_217
02:00001F17 X X__ff_c.i_222_i_221
02:00001F20   X__ff_c.i_220
02:00001F29   X__ff_c.i_218
02:00001F6F X X__ff_c.i_226_i_225
02:00001F78   X__ff_c.i_224
02:00001F9E   X__ff_c.i_227
02:00001FB3   X__ff_c.i_228
02:00001FF0   X__ff_c.i_229
02:00002036   X__ff_c.i_230
02:00002089 X X__ff_c.i_233_i_232
02:00002092   X__ff_c.i_231
02:0000210A   X__ff_c.i_235
02:0000210D   X__ff_c.i_236
02:0000211B   X__ff_c.i_234
02:0000215A   X__ff_c.i_237
02:000021A0   X__ff_c.i_238
02:000021C5   X__ff_c.i_239
02:0000222B   X__ff_c.i_240
02:00002280   X__ff_c.i_241
02:0000229D   X__ff_c.i_242
02:000022B5   X__ff_c.i_243
02:000022CD   X__ff_c.i_244
02:000022E0   X__ff_c.i_245
02:0000238C   X__ff_c.i_247
02:000023A8   X__ff_c.i_248
02:000023EC   X__ff_c.i_246
02:0000240B   X__ff_c.i_250
02:0000245E   X__ff_c.i_251
02:000024A2   X__ff_c.i_252
02:000024A6   X__ff_c.i_249
02:000024DC   X__ff_c.i_253
02:00002556 X X__ff_c.i_256_i_255
02:000025B8 X X__ff_c.i_259_i_258
02:000025F8   X__ff_c.i_254
02:0000263D   _validate
02:00002695 X X__ff_c.i_262_i_261
02:000026B3   X__ff_c.i_260
02:000026D7   X__ff_c.i_264
02:000026DA   X__ff_c.i_265
02:000026E2   _f_mount
02:00002717   X__ff_c.i_266
02:00002760   X__ff_c.i_267
02:000027A5   X__ff_c.i_268
02:000027B6   X__ff_c.i_269
02:000027D3   _f_open
02:000027EF   X__ff_c.i_270
02:00002806   X__ff_c.i_271
02:00002809   X__ff_c.i_272
02:00002896   X__ff_c.i_275
02:000028AB   X__ff_c.i_274
02:00002977   X__ff_c.i_273
02:00002992   X__ff_c.i_279
02:000029A2   _f_read
02:00002A07   X__ff_c.i_281
02:00002A17   X__ff_c.i_280
02:00002A30   X__ff_c.i_283
02:00002A95   X__ff_c.i_285
02:00002AFC   X__ff_c.i_287
02:00002B96   X__ff_c.i_290
02:00002BB7   X__ff_c.i_291
02:00002BE3   X__ff_c.i_292
02:00002C0C   X__ff_c.i_293
02:00002C23   X__ff_c.i_289
02:00002C72   X__ff_c.i_294
02:00002D00   X__ff_c.i_296
02:00002D49   X__ff_c.i_297
02:00002D60   X__ff_c.i_295
02:00002D77   X__ff_c.i_288
02:00002DC5   X__ff_c.i_298
02:00002DFF   X__ff_c.i_299
02:00002E4C   X__ff_c.i_286
02:00002E55 X _f_close
02:00002E85   X__ff_c.i_300
02:00002E88 X _f_chdrive
02:00002E9E   X__ff_c.i_301
02:00002EA9 X _f_chdir
02:00002F39   X__ff_c.i_304
02:00002F68   X__ff_c.i_306
02:00002F73   X__ff_c.i_303
02:00002F8F   X__ff_c.i_302
02:00002F9F X _f_getcwd
02:00003020   X__ff_c.i_311
02:00003037   X__ff_c.i_313
02:00003078 X X__ff_c.i_315
02:000030A7 X X__ff_c.i_316
02:000030F0   X__ff_c.i_320
02:00003115 X X__ff_c.i_321
02:00003139 X X__ff_c.i_322
02:00003152 X X__ff_c.i_318
02:0000315E   X__ff_c.i_319
02:0000317A   X__ff_c.i_323
02:00003186 X X__ff_c.i_324
02:000031A0   X__ff_c.i_325
02:000031AA   X__ff_c.i_327
02:000031C1 X X__ff_c.i_326
02:000031E7   X__ff_c.i_329
02:0000322D   X__ff_c.i_330
02:0000324B   X__ff_c.i_310
02:0000328A   X__ff_c.i_332
02:00003299   X__ff_c.i_336
02:000032C2 X X__ff_c.i_334
02:000032D8   X__ff_c.i_309
02:000032F4 X _f_lseek
02:0000333F   X__ff_c.i_337
02:0000335B   X__ff_c.i_338
02:00003389   X__ff_c.i_343_i_340
02:000033A0   X__ff_c.i_339
02:00003451 X X__ff_c.i_347_i_346
02:000034C4   X__ff_c.i_345
02:000034F2   X__ff_c.i_348
02:00003500   X__ff_c.i_350
02:0000359F   X__ff_c.i_352
02:000035CD   X__ff_c.i_354
02:000035E3   X__ff_c.i_353
02:000035FD   X__ff_c.i_351
02:0000367D   X__ff_c.i_357
02:000036C5 X X__ff_c.i_360_i_359
02:000036F2   X__ff_c.i_358
02:0000372B X X__ff_c.i_363_i_362
02:00003742   X__ff_c.i_361
02:00003752   _f_opendir
02:00003768   X__ff_c.i_364
02:00003810   X__ff_c.i_368
02:00003817   X__ff_c.i_367
02:00003859   X__ff_c.i_366
02:0000386D   X__ff_c.i_365
02:00003885   X__ff_c.i_372
02:00003888   _f_closedir
02:000038B8   X__ff_c.i_373
02:000038BB   _f_readdir
02:00003907   X__ff_c.i_375
02:0000392A   X__ff_c.i_377
02:00003970   X__ff_c.i_374
02:000005D8   X__ff_c.i_6
02:000008FD   X__ff_c.i_14
02:00000E12   X__ff_c.i_57
02:00000E12   X__ff_c.i_56
02:00001067   X__ff_c.i_72
02:00001489   X__ff_c.i_88
02:000014DA   X__ff_c.i_107
02:000017A9   X__ff_c.i_141
02:000017C6   X__ff_c.i_137
02:0000183A   X__ff_c.i_151
02:00001969   X__ff_c.i_164
02:00001969   X__ff_c.i_163
02:00001969   X__ff_c.i_154
02:000019B5   X__ff_c.i_167
02:00001C85   X__ff_c.i_189
02:00001CFA   X__ff_c.i_198
02:00001F29   X__ff_c.i_219
02:000025F8   X__ff_c.i_257
02:000026B3   X__ff_c.i_263
02:000028AB   X__ff_c.i_277
02:000028AB   X__ff_c.i_276
02:00002977   X__ff_c.i_278
02:00002F73   X__ff_c.i_307
02:00002F73   X__ff_c.i_305
02:00002F8F   X__ff_c.i_308
02:000030F0 X X__ff_c.i_317
02:000031E7   X__ff_c.i_328
02:0000324B   X__ff_c.i_314
02:000032D8 X X__ff_c.i_335
02:000032D8   X__ff_c.i_333
02:000032D8   X__ff_c.i_331
02:00003389   X__ff_c.i_341
02:000036F2   X__ff_c.i_356
02:000036F2   X__ff_c.i_349
02:00003817   X__ff_c.i_369
02:00003859   X__ff_c.i_370
02:0000386D   X__ff_c.i_371
02:00003970   X__ff_c.i_379
02:00003970   X__ff_c.i_378
02:00003970   X__ff_c.i_376
02:000009C7   X__ff_c.i_34
02:00000E12   X__ff_c.i_55
02:00000FC9   X__ff_c.i_68
02:00000FF2 X X__ff_c.i_69_i_68
02:00000EDA X X__ff_c.i_70
02:0000112D   X__ff_c.i_79
02:00001156 X X__ff_c.i_80_i_79
02:000013F1   X__ff_c.i_93
02:00001438   X__ff_c.i_98
02:00001683   X__ff_c.i_129
02:00001489   X__ff_c.i_124
02:000017C6   X__ff_c.i_140
02:000018E0   X__ff_c.i_160
02:00001969   X__ff_c.i_158
02:000019FB   X__ff_c.i_173
02:000019B5 X X__ff_c.i_174_i_173
02:00001A68   X__ff_c.i_177
02:00001A68   X__ff_c.i_179
02:00001B6B   X__ff_c.i_187
02:00001C85   X__ff_c.i_190
02:00001D23   X__ff_c.i_197
02:00001D23   X__ff_c.i_196
02:00001D23   X__ff_c.i_202
02:00001E33   X__ff_c.i_214
02:00001DAB X X__ff_c.i_215_i_214
02:00001F20   X__ff_c.i_221
02:00001F78   X__ff_c.i_223
02:00001F78   X__ff_c.i_225
02:00002092   X__ff_c.i_232
02:000025F8   X__ff_c.i_255
02:000025F8   X__ff_c.i_258
02:000026B3   X__ff_c.i_261
02:00002AFC   X__ff_c.i_284
02:000033A0   X__ff_c.i_340
02:000034C4   X__ff_c.i_346
02:000036F2   X__ff_c.i_344
02:000036F2   X__ff_c.i_359
02:00003742   X__ff_c.i_362
02:000016A5   X__ff_c.i_110
02:00003973   X__ff_c.i_1
02:00005F39   X__ff_c._FatFs
02:00005F3B   X__ff_c._Fsid
02:00005F3D   X__ff_c._CurrVol
02:0000398B X BANK2.MY_SLOW
02:00003992   BANK2.MY_FAST
02:0000399A   BANK2.ASCII_CONVERT_TABLE
02:000039BA   BANK2.GT64K_STR
02:000039BF   BANK2.DIR_STR
02:000039C5   BANK2.INIT_SD_STR
02:000039D1   BANK2.LOAD_DIR_STR
02:000039E0   BANK2.DIR_LOADED_STR
02:000039EA   BANK2.CREDITS
02:00003FC4   BANK2.FILE_LOADED
02:00003FCE   REENTRY_PAGE0_LOADED
02:00003FE4   BANK2.EXIT_TO_BASIC
02:00003FEE   BANK2.EXIT_TO_BASIC_END
02:00003FEE X REENTRY_PAGE0_BASIC
02:00003FEE   BANK2.BACK_TO_FLASH
02:00003FFA   REENTRY_PAGE0_FLASH
03:00000000   X__diskio_sd_c.SPI_CS
03:00000001   X__diskio_sd_c.SPI_CLK
03:00000002   X__diskio_sd_c.SPI_DI
03:00000003   X__diskio_sd_c.SD_SPI_CS
03:00004400   _sd_cs_lower
03:0000440F   _sd_cs_raise
03:0000441C   _sd_read_byte
03:00004422   X__diskio_sd_c._sd_read_byte.read_byte_loop
03:00004438   _sd_write_byte
03:0000443D   X__diskio_sd_c._sd_write_byte_fast_entry
03:00004442   X__diskio_sd_c._sd_write_byte_fast_entry.write_byte_loop
03:0000444A   X__diskio_sd_c._sd_write_byte_fast_entry.bit_set_done
03:00004456   _sd_read_block
03:00004461   X__diskio_sd_c._sd_read_block.loop_sd_read_block
03:00004472   _sd_write_block
03:0000447D   X__diskio_sd_c._sd_write_block.loop_sd_write_block
03:0000448D   _sd_clock
03:0000448E   _hbios
03:0000449C   _deselect
03:000044A8   _select
03:000044B5   _wait_ready
03:000044B6   X__diskio_sd_c.i_2
03:000044D7   X__diskio_sd_c.i_4
03:000044E1   X__diskio_sd_c.i_3
03:000044E7   X__diskio_sd_c._read_data
03:000044F1   X__diskio_sd_c.i_8
03:000044F6   X__diskio_sd_c.i_10
03:00004513   X__diskio_sd_c.i_9
03:00004522   X__diskio_sd_c.i_15
03:00004536 X X__diskio_sd_c.i_13
03:00004543 X X__diskio_sd_c.i_14
03:0000454E   _read_sector
03:00004558   X__diskio_sd_c.i_16
03:0000455D   X__diskio_sd_c.i_18
03:0000457A   X__diskio_sd_c.i_17
03:00004589   X__diskio_sd_c.i_20
03:000045A1   _write_sector
03:000045B3   X__diskio_sd_c.i_21
03:000045EE   X__diskio_sd_c.i_22
03:000045F2   _send_cmd
03:0000460E   X__diskio_sd_c.i_24
03:00004616   X__diskio_sd_c.i_23
03:00004656   X__diskio_sd_c.i_27
03:0000465B   X__diskio_sd_c.i_29
03:0000467B   X__diskio_sd_c.i_28
03:0000469D   X__diskio_sd_c.i_32
03:000046A5   X__diskio_sd_c.i_26
03:00004736   X__diskio_sd_c.i_33
03:00004746   X__diskio_sd_c.i_34
03:0000475A   X__diskio_sd_c.i_35
03:0000475F   X__diskio_sd_c.i_37
03:0000477F   X__diskio_sd_c.i_36
03:000047A0   X__diskio_sd_c.i_41
03:000047A8   X__diskio_sd_c.i_40
03:000047B7   X__diskio_sd_c.i_44
03:000047CE   X__diskio_sd_c.i_43
03:000047DA   disk_initialize
03:000047DA X X__diskio_sd_c._disk_initialize
03:000047FC   X__diskio_sd_c.i_46
03:0000480C   X__diskio_sd_c.i_47
03:00004811   X__diskio_sd_c.i_49
03:00004825   X__diskio_sd_c.i_48
03:00004856   X__diskio_sd_c.i_52
03:00004878 X X__diskio_sd_c.i_53
03:00004887   X__diskio_sd_c.i_54
03:0000488A   X__diskio_sd_c.i_56
03:0000489B   X__diskio_sd_c.i_55
03:000048AD X X__diskio_sd_c.i_50
03:000048C1   X__diskio_sd_c.i_51
03:00004966 X X__diskio_sd_c.i_61_i_60
03:0000498A   X__diskio_sd_c.i_64
03:000049AB X X__diskio_sd_c.i_65
03:000049C4 X X__diskio_sd_c.i_62
03:000049D8   X__diskio_sd_c.i_63
03:00004A69   X__diskio_sd_c.i_68
03:00004A6C   X__diskio_sd_c.i_69
03:00004A73   X__diskio_sd_c.i_58
03:00004AA8   X__diskio_sd_c.i_74
03:00004AC8 X X__diskio_sd_c.i_75
03:00004AE1 X X__diskio_sd_c.i_72
03:00004AF5   X__diskio_sd_c.i_73
03:00004B0C   X__diskio_sd_c.i_76
03:00004B30   X__diskio_sd_c.i_80
03:00004B53 X X__diskio_sd_c.i_81
03:00004B6C X X__diskio_sd_c.i_78
03:00004B80   X__diskio_sd_c.i_79
03:00004B99   X__diskio_sd_c.i_82
03:00004BA0   X__diskio_sd_c.i_71
03:00004BA4   X__diskio_sd_c.i_70
03:00004BBD X X__diskio_sd_c.i_87_i_86
03:00004BD8   X__diskio_sd_c.i_57
03:00004BF7   X__diskio_sd_c.i_89
03:00004C04   disk_status
03:00004C04 X X__diskio_sd_c.disk_status._disk_status
03:00004C14   X__diskio_sd_c.i_91
03:00004C1B   X__diskio_sd_c.i_90
03:00004C20 X X__diskio_sd_c.i_93
03:00004C22   disk_read
03:00004C22 X X__diskio_sd_c._disk_read
03:00004C3F   X__diskio_sd_c.i_95
03:00004C45   X__diskio_sd_c.i_94
03:00004C53   X__diskio_sd_c.i_100
03:00004C83   X__diskio_sd_c.i_101
03:00004C9E   X__diskio_sd_c.i_102
03:00004CA1   X__diskio_sd_c.i_103
03:00004CC0   X__diskio_sd_c.i_107
03:00004CDA X X__diskio_sd_c.i_108
03:00004CEB X X__diskio_sd_c.i_105
03:00004CFD   X__diskio_sd_c.i_106
03:00004D17   X__diskio_sd_c.i_104
03:00004D1A X X__diskio_sd_c.i_98
03:00004D31   X__diskio_sd_c.i_99
03:00004D41   X__diskio_sd_c.i_112
03:00004D44   X__diskio_sd_c.i_113
03:00004D47 X X__diskio_sd_c.i_113.disk_write
03:00004D47 X _disk_write
03:00004D63   X__diskio_sd_c.i_115
03:00004D68   X__diskio_sd_c.i_114
03:00004D75   X__diskio_sd_c.i_117
03:00004D82   X__diskio_sd_c.i_121
03:00004DB2   X__diskio_sd_c.i_122
03:00004DFF   X__diskio_sd_c.i_123
03:00004E1D   X__diskio_sd_c.i_126
03:00004E37   X__diskio_sd_c.i_130
03:00004E56 X X__diskio_sd_c.i_131
03:00004E67 X X__diskio_sd_c.i_128
03:00004E79   X__diskio_sd_c.i_129
03:00004E8B X X__diskio_sd_c.i_134_i_133
03:00004E97   X__diskio_sd_c.i_125
03:00004E9A X X__diskio_sd_c.i_119
03:00004EB1   X__diskio_sd_c.i_120
03:00004EC3   X__diskio_sd_c.i_137
03:00004EC6   X__diskio_sd_c.i_138
03:00004EC8   disk_ioctl
03:00004EC8 X X__diskio_sd_c._disk_ioctl
03:00004EFC   X__diskio_sd_c.i_139
03:00004F18 X X__diskio_sd_c.i_142
03:00004F4D   X__diskio_sd_c.i_143
03:00004F58   X__diskio_sd_c.i_144
03:00004F83 X X__diskio_sd_c.i_147_i_146
03:00004FF3   X__diskio_sd_c.i_148
03:00005085   X__diskio_sd_c.i_149
03:00005090   X__diskio_sd_c.i_150
03:000050A8   X__diskio_sd_c.i_151
03:000050DB X X__diskio_sd_c.i_155_i_154
03:000050E4   X__diskio_sd_c.i_156
03:000050E9   X__diskio_sd_c.i_158
03:000050FB   X__diskio_sd_c.i_157
03:00005130   X__diskio_sd_c.i_152
03:0000515B X X__diskio_sd_c.i_162_i_161
03:000051A8   X__diskio_sd_c.i_163
03:000051EE   X__diskio_sd_c.i_164
03:000051F9   X__diskio_sd_c.i_165
03:00005208 X X__diskio_sd_c.i_166
03:00005223 X X__diskio_sd_c.i_167
03:00005242   X__diskio_sd_c.i_168
03:000052AF   X__diskio_sd_c.i_171
03:00005308 X X__diskio_sd_c.i_174_i_173
03:00005313   X__diskio_sd_c.i_175
03:00005329   X__diskio_sd_c.i_176
03:00005358 X X__diskio_sd_c.i_179_i_178
03:00005363   X__diskio_sd_c.i_180
03:00005392 X X__diskio_sd_c.i_183_i_182
03:0000539D   X__diskio_sd_c.i_184
03:000053BE   X__diskio_sd_c.i_186
03:000053C3   X__diskio_sd_c.i_188
03:000053DC   X__diskio_sd_c.i_187
03:000053E7   X__diskio_sd_c.i_189
03:00005416 X X__diskio_sd_c.i_192_i_191
03:00005421   X__diskio_sd_c.i_193
03:0000542A   X__diskio_sd_c.i_141
03:000044B6 X X__diskio_sd_c.i_7
03:00004522   X__diskio_sd_c.i_12
03:00004BA4   X__diskio_sd_c.i_67
03:00004BA4   X__diskio_sd_c.i_66
03:00004BA4   X__diskio_sd_c.i_83
03:00004BA4   X__diskio_sd_c.i_84
03:00004BD8   X__diskio_sd_c.i_88
03:00004BD8   X__diskio_sd_c.i_85
03:00004C53   X__diskio_sd_c.i_97
03:00004D17   X__diskio_sd_c.i_109
03:00004D82   X__diskio_sd_c.i_118
03:00004E97   X__diskio_sd_c.i_132
03:00004E97   X__diskio_sd_c.i_127
03:0000542A   X__diskio_sd_c.i_160
03:000044B6 X X__diskio_sd_c.i_5
03:000044B6   X__diskio_sd_c.i_6
03:000044F1 X X__diskio_sd_c.i_11
03:00004558 X X__diskio_sd_c.i_19
03:0000467B   X__diskio_sd_c.i_30
03:00004656 X X__diskio_sd_c.i_31_i_30
03:0000477F   X__diskio_sd_c.i_38
03:0000475A X X__diskio_sd_c.i_39_i_38
03:00004BA4   X__diskio_sd_c.i_60
03:00004BA4   X__diskio_sd_c.i_59
03:00004BA4   X__diskio_sd_c.i_77
03:00004BD8   X__diskio_sd_c.i_86
03:00004D31   X__diskio_sd_c.i_110
03:00004C53 X X__diskio_sd_c.i_111_i_110
03:00004E97   X__diskio_sd_c.i_124
03:00004E97   X__diskio_sd_c.i_133
03:00004EB1   X__diskio_sd_c.i_135
03:00004D82 X X__diskio_sd_c.i_136_i_135
03:0000542A   X__diskio_sd_c.i_146
03:0000542A   X__diskio_sd_c.i_145
03:0000542A   X__diskio_sd_c.i_154
03:0000542A   X__diskio_sd_c.i_153
03:0000542A   X__diskio_sd_c.i_161
03:0000542A   X__diskio_sd_c.i_159
03:00005242   X__diskio_sd_c.i_169
03:0000542A X X__diskio_sd_c.i_170_i_169
03:0000542A   X__diskio_sd_c.i_173
03:0000542A   X__diskio_sd_c.i_172
03:0000542A   X__diskio_sd_c.i_178
03:0000542A   X__diskio_sd_c.i_177
03:0000542A   X__diskio_sd_c.i_182
03:0000542A   X__diskio_sd_c.i_181
03:0000542A   X__diskio_sd_c.i_185
03:0000542A   X__diskio_sd_c.i_191
03:0000542A   X__diskio_sd_c.i_190
03:0000543D   X__diskio_sd_c._Stat
03:0000543E   X__diskio_sd_c._CardType
03:0000543F   l_lneg
03:00005448   l_or
03:0000544F   l_and
03:00005456   l_asl
03:00005458 X l_lsl_hl
03:00005458 X l_small_lsl_hl
03:00005460   l_small_lsl_hl.shift_loop
03:00005464   l_mult_u
03:00005464 X l_small_mul_16_16x16
03:00005472   l_small_mul_16_16x16.eight_bit_0
03:00005473   l_small_mul_16_16x16.eight_bit_1
03:00005473 X l_small_mul_16_16x8
03:00005476   rejoin
03:00005479   rejoin.loop_0
03:00005480   rejoin.loop_1
03:00005484   l_div_u
03:00005485 X l_divu_16_16x16
03:00005485 X l_small_divu_16_16x16
03:00005489 X l0_small_divu_16_16x16
03:0000548D X divisor_sixteen_bit
03:00005493   divisor_sixteen_bit.loop_16_0
03:0000549B   divisor_sixteen_bit.loop_16_1
03:000054A5 X l_small_divu_16_16x8
03:000054A9   l0_small_divu_16_16x8
03:000054AD   l0_small_divu_16_16x8.loop_8_0
03:000054B4   l0_small_divu_16_16x8.loop_8_2
03:000054B6   l0_small_divu_16_16x8.loop_8_1
03:000054BB   divide_zero
03:000054BE   errno_mc
03:000054BE X error_mc
03:000054C3   l_plong
03:000054CF   l_glong2sp
03:000054DA   l_glonghlp
03:000054DE   l_glong
03:000054E8   l_long_ugt
03:000054EF   l_long_ugt.false
03:000054F1   l_long_ucmp
03:0000550E X l_long_ucmp.positive
03:00005512   l_long_ucmp.negative
03:00005516   l_long_aslo
03:00005516   l_lsl_dehl
03:00005516 X l_small_lsl_dehl
03:0000551F   l_small_lsl_dehl.shift_loop
03:00005527   l_long_asl
03:0000552F   error_lznc
03:00005532   error_znc
03:00005538   l_long_mult
03:0000553D X l_muls_32_32x32
03:0000553D X l_small_muls_32_32x32
03:00005554   l_mulu_32_32x32
03:00005554   l_small_mul_32_32x32
03:00005569 X l0_small_mul_32_32x32
03:0000556C   l0_small_mul_32_32x32.loop_0
03:0000557B   l0_small_mul_32_32x32.loop_1
03:0000558B   l_neg_dehl
03:0000559D   l0_small_mul_32_16x16
03:000055A0 X l_small_mul_32_16x16
03:000055A7   l_small_mul_32_16x16.loop_0
03:000055B4   l_small_mul_32_16x16.loop_1
03:000055BA   l_long_ne
03:000055DB X l_long_ne.equal
03:000055DE   l_long_ne.IX1
03:000055E1   l_long_ne.notequal_0
03:000055E2   l_long_ne.notequal_1
03:000055E6   l_long_ne.IX2
03:000055E9   l_long_uge
03:000055F0   l_long_mult_u
03:000055F8   l_long_mod_u
03:000055FB   l_long_div_u
03:000055FC   common
03:0000560A   l_divu_32_32x32
03:0000560A X l_small_divu_32_32x32
03:00005610 X l0_small_divu_32_32x32
03:0000561E X l1_small_divu_32_32x32
03:00005621   l1_small_divu_32_32x32.loop_0
03:0000563D   l1_small_divu_32_32x32.loop_1
03:00005652   divide_zero_32x32
03:00005656   l_long_asr_u
03:0000565B X l_lsr_dehl
03:0000565B X l_small_lsr_dehl
03:00005664   l_small_lsr_dehl.shift_loop
03:0000566F   l_long_eq
03:00005690 X l_long_eq.equal
03:00005694   l_long_eq.IX1
03:00005697   l_long_eq.notequal_0
03:00005698   l_long_eq.notequal_1
03:0000569B   l_long_eq.IX2
03:0000569E   l_long_and
03:000056B5   l_long_and.IX1
03:000056B8   l_long_or
03:000056CF   l_long_or.IX1
03:000056D2   l_long_com
03:000056D2 X l_cpl_dehl
03:000056D8 X l_cpl_dehl_hl
03:000056DF   l_long_ule
03:000056E8   l_long_ult
03:000056EE X l_asr_u
03:000056EF   l_asr_u_hl_by_e
03:000056EF   l_asr_u_1
03:000056F8   l_inclong
03:000056F8 X l_inc_dehl
03:000056FE   l_eq
03:00005708   l_ge
03:0000571A   l_uge
03:00005726   l_le
03:00005738   l_gcharspsp
03:00005742   memcmp_callee
03:00005747 X asm_memcmp
03:0000574B X asm0_memcmp
03:0000574B   asm0_memcmp.loop
03:00005754   equal
03:00005757   different
03:0000575B   memcpy_callee
03:00005760 X asm_memcpy
03:00005764 X asm0_memcpy
03:0000576A X asm1_memcpy
03:0000576A   zero_n
03:0000576D   l_compare_result
03:00005773   BANK3.START_SD
03:000057B8   BANK3.MOUNT_OK
03:000057D0   BANK3.REDRAW_LIST_BOX
03:000057D9 X BANK3.PRINT_DIRENTRIES_HEX
03:000057E8 X BANK3.PRINT_FINFO_HEX
03:000057F5   BANK3.PRINT_FINFO_HEX.print_finfo_loop
03:00005803 X BANK3.PRINT_CONVERTED_ASCII_HEX
03:00005808   BANK3.PRINT_CONVERTED_ASCII_HEX.print_finfo_loop
03:0000581E   BANK3.INIT_VARIABLES
03:00005837   BANK3.LOAD_DIRECTORY
03:00005850   BANK3.READ_ONE_DIRENTRY
03:0000587E   BANK3.READ_ONE_DIRENTRY.not_root_directory
03:000058A6   BANK3.READ_ONE_DIRENTRY.not_first_entry
03:000058BD   BANK3.READ_ONE_DIRENTRY.file_type_set
03:000058C0   BANK3.READ_ONE_DIRENTRY.parse_directory
03:000058C4   BANK3.READ_ONE_DIRENTRY.copy_file_name
03:000058CD X BANK3.READ_ONE_DIRENTRY.not_directory
03:000058EB X BANK3.READ_ONE_DIRENTRY.one_more_round
03:000058EE   BANK3.READ_ONE_DIRENTRY.end_of_readdir
03:000058F7   BANK3.PRINT_PATH
03:000058FA   BANK3.PRINT_PATH.find_end_of_path
03:0000590C   BANK3.PRINT_PATH.path_to_screen_loop
03:00005921   BANK3.PRINT_PATH.path_print_finished
03:00005925   BANK3.PRINT_PATH.clear_path_field
03:0000592A   BANK3.DISPLAY_BOX
03:0000593B   BANK3.PRINT_ENTRIES
03:00005958   BANK3.PRINT_ENTRIES.mul_16_loop
03:00005962   BANK3.PRINT_ENTRIES.print_entries_loop
03:00005994   BANK3.PRINT_ENTRIES.end_of_entries
03:00005996   BANK3.CLEAR_REMAINING_LINES
03:000059A0   BANK3.CLEAR_REMAINING_LINES.loop_clear_one_line
03:000059B4   BANK3.DISPLAY_ONE_ENTRY
03:000059EA   BANK3.DISPLAY_ONE_ENTRY.print_dir
03:000059EF   BANK3.DISPLAY_ONE_ENTRY.print_gt64k
03:000059F5   BANK3.DISPLAY_ONE_ENTRY.sel_end
03:00005A0F   BANK3.PRINT_FILENAME
03:00005A19   BANK3.PRINT_FILENAME.print_filename_loop
03:00005A27   BANK3.PRINT_FILENAME.end_of_filename
03:00005A27   BANK3.PRINT_FILENAME.pad_filename_loop
03:00005A2B   BANK3.PRINT_FILENAME.filename_done
03:00005A34   BANK3.CONVERT_ASCII_2_ZX81
03:00005A4C   BANK3.CONVERT_ASCII_2_ZX81.convertable
03:00005A4F   BANK3.CONVERT_ASCII_2_ZX81.transcodable
03:00005A5E   BANK3.CONVERT_ASCII_2_ZX81.non_printable
03:00005A61   BANK3.OWN_PRINT_DEC
03:00005A6E X BANK3.OWN_PRINT_DEC_4DIGITS
03:00005A7B   BANK3.OWN_PRINT_DEC_3DIGITS
03:00005A97   BANK3.OWN_PRINT_DEC_3DIGITS.print_dec_5
03:00005A9D   BANK3.OWN_PRINT_DEC_3DIGITS.print_dec_4
03:00005AA3   BANK3.OWN_PRINT_DEC_3DIGITS.print_dec_3
03:00005AA9   BANK3.OWN_PRINT_DEC_3DIGITS.print_dec_2
03:00005AAF   BANK3.OWN_PRINT_DEC_3DIGITS.print_dec_1
03:00005AB2   BANK3.OWN_PRINT_DEC_3DIGITS.num1
03:00005AB4   BANK3.OWN_PRINT_DEC_3DIGITS.num2
03:00005ABE   BANK3.LOOP_KEY_NOT_PRESSED
03:00005AC5   BANK3.LOOP_KEY_NOT_PRESSED.loop_key_pressed
03:00005ACD X OWN_PRINT_HL_INPLACE
03:00005AD9 X OWN_PRINT_HL
03:00005AE4 X OWN_FIRST_INPLACE
03:00005AF1   BANK3.OWN_SET_POS
03:00005AFF   BANK3.OWN_SET_POS.ADD_LINE_NUM
03:00005B02   BANK3.OWN_SET_POS.LINE_ADDR_OK
03:00005B0A   BANK3.OWN_PRINT_AT
03:00005B0D   BANK3.OWN_PRINT_STR
03:00005B11   BANK3.OWN_PRINT_STR.own_print_str_loop
03:00005B1B   BANK3.OWN_PRINT_STR.hl_ok
03:00005B25   OWN_PRINT_CHAR
03:00005B2E   BANK3.OWN_PRINT_CHAR.hl_ok
03:00005B35   OWN_PRINT_HEX
03:00005B44   BANK3.OWN_PRINT_NIBBLE
03:00005B4E   BANK3.OWN_PRINT_NIBBLE.hex_digit
03:00005B52   BANK3.OWN_PRINT_NIBBLE.hex_nibble_ok
03:00005B5A   BANK3.OWN_PRINT_NIBBLE.hl_ok
03:00005B60 X OWN_WAIT_SOME
03:00005B66   BANK3.OWN_WAIT_SOME.loop
03:00005B6E   BANK3.HANDLE_INPUT
03:00005B8A   BANK3.HANDLE_INPUT.one_frame_loop
03:00005B96   BANK3.HANDLE_INPUT.sd_card_in_socket
03:00005BA0   BANK3.HANDLE_INPUT.skip_keyboard_check
03:00005BB4   BANK3.HANDLE_INPUT.new_key_pressed
03:00005BBD   BANK3.HANDLE_INPUT.key_pressed
03:00005BC0   BANK3.HANDLE_INPUT.key_pressed_first
03:00005BE6   BANK3.PROCESS_KEY_UP
03:00005C14   BANK3.PROCESS_KEY_UP.on_top_of_box
03:00005C4F   BANK3.PROCESS_KEY_DOWN
03:00005C9D   BANK3.PROCESS_KEY_DOWN.on_botton_of_box
03:00005CCB   BANK3.PROCESS_KEY_LEFT
03:00005CD6   BANK3.PROCESS_KEY_LEFT.print_full_screen
03:00005CE3   BANK3.PROCESS_KEY_LEFT.less_than_a_page
03:00005CEF   BANK3.PROCESS_KEY_LEFT.page_up_on_first_page
03:00005D14   BANK3.PROCESS_KEY_RIGHT
03:00005D4C   BANK3.PROCESS_KEY_RIGHT.page_down_one_page_only
03:00005D74   BANK3.PROCESS_KEY_RIGHT.page_down_this_is_the_last_page
03:00005D8E   BANK3.PROCESS_KEY_RIGHT.page_down_is_almost_ok
03:00005D9A   BANK3.PROCESS_KEY_RIGHT.full_box_vars_set
03:00005DA4   BANK3.PROCESS_KEY_SELECT
03:00005DB0   BANK3.PROCESS_KEY_SELECT.mul_by_16
03:00005DCB   BANK3.PROCESS_KEY_SELECT.change_into_sub_directory
03:00005DCE   BANK3.PROCESS_KEY_SELECT.find_end_of_path
03:00005DD4   BANK3.PROCESS_KEY_SELECT.copy_path_loop
03:00005DDD   BANK3.PROCESS_KEY_SELECT.path_copied
03:00005DEA   BANK3.PROCESS_KEY_SELECT.change_into_parent_directory
03:00005DFA   BANK3.PROCESS_KEY_SELECT.change_to_non_root
03:00005DFD   BANK3.PROCESS_KEY_SELECT.find_end_of_path_parent
03:00005E03   BANK3.PROCESS_KEY_SELECT.find_prev_path_end
03:00005E0F   BANK3.PROCESS_KEY_SELECT.file_selected
03:00005E19   BANK3.PROCESS_KEY_SELECT.find_end_of_filename
03:00005E47   BANK3.PROCESS_KEY_SELECT.find_end_of_pathanme
03:00005E4C   BANK3.PROCESS_KEY_SELECT.copy_filename_to_path_loop
03:00005E84   BANK3.PROCESS_EXIT
03:00005E87   BANK3.CHECK_KEMPSTON
03:00005EAE   BANK3.CHECK_56780
03:00005ED7   BANK3.CHECK_56780.key_line_A11
03:00005EE4   BANK3.CHECK_56780.no_key_found
03:00005EE7   BANK3.CHECK_56780.key_line_A15
03:00005EF1   BANK3.PROCESS_CREDITS
03:00005F00   BANK3.CLEAR_LIST_AREA
03:00005F09   BANK3.CLEAR_LIST_AREA.print_one_line
03:00005F0B   BANK3.CLEAR_LIST_AREA.print_one_space
03:00005F15   BANK3.PRINT_CREDITS
03:00005F1E   BANK3.PRINT_CREDITS.print_credits_loop
03:00005F2A   BANK3.WAIT_FOR_KEY
03:00005F31   BANK3.WAIT_FOR_KEY.wait_till_no_press_loop
03:00005F39   BANK3.RAMCODE_END
03:00005F39   BANK3.__VARIABLES_START__
03:00005F39   __FF_INTERNALS
03:00005F3E   BANK3._fatfs
03:00006172   BANK3._file
03:0000618E   BANK3._dir
03:000061B6   BANK3._finfo
03:000061CC   BANK3._read_bytes
03:000061CE   BANK3._print_addr
03:000061D0   BANK3._current_screenline_addr
03:000061D2   BANK3._num_of_entries
03:000061D4   BANK3._dir_depth
03:000061D5   BANK3._reading_non_1st_entry
03:000061D6   BANK3._current_path
03:000062D6   BANK3._window_pos
03:000062D8   BANK3._selected_line
03:000062D9   BANK3._current_line
03:000062DA   BANK3._last_pressed_key
03:000062DB   BANK3._pressed_key_cnt
03:000062DC   BANK3._last_frame
03:000062DE X BANK3.CURR_NUM_ADDR
03:000062E0 X BANK3.CURR_ENTRY_ADDR
03:000062E2   BANK3.__VARIABLES_END__
03:00000010   BANK3.WINDOW_HEIGHT
03:00008000   BANK3._directory_entries
03:00003FC1   BANK3.ENTRY_ON_PAGE2


 Output: bin\zx81flashjoy.bin
-------------------------------------------------

 Page: 00
  Org: 00000000  Size: 00004000  Used: 00004000

   Address   Length Align   Label
   00000000    8192     @   
   00002000    2261     @   FJEXP_INIT
   000028D5    5835       <empty>
   00003FA0      10     @   ENTER_TO_SD
   00003FAA      86       <empty>

  Overlay parts:
   Address   Length Align  Label
   00000002       6     @  
   00003FCE      35     @  EXIT_TO_BASIC_PAGE0
   00003FFA       6     @  

 Page: 01
  Org: 00000000  Size: 00004000  Used: 00002000

   Address   Length Align   Label
   00000000    8192     @   
   00002000    8192       <empty>

 Page: 02
  Org: 00000000  Size: 00004000  Used: 00003FFA

   Address   Length Align   Label
   00000000    8192     @   
   00002000    8192       <empty>

  Overlay parts:
   Address   Length Align  Label
   00000400   14091     @  X__ff_c._ExCvt
   00003FC1      13     @  BANK2.FILE_LOADED
   00003FE4      22     @  BANK2.EXIT_TO_BASIC

 Page: 03
  Org: 00000000  Size: 00004000  Used: 00003FC1

   Address   Length Align   Label
   00000000    8192     @   
   00002000    8192       <empty>

  Overlay parts:
   Address   Length Align  Label
   00000400    7906     @  _sd_cs_lower
   00003FAA      23     @  
